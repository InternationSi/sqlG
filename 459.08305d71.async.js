(self.webpackChunksqlG=self.webpackChunksqlG||[]).push([[459],{90591:function(){typeof window=="object"&&window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),function(Sn){Sn.forEach(An=>{Object.prototype.hasOwnProperty.call(An,"append")||Object.defineProperty(An,"append",{configurable:!0,enumerable:!0,writable:!0,value(...dt){const ht=document.createDocumentFragment();dt.forEach(N=>{const ee=N instanceof Node;ht.appendChild(ee?N:document.createTextNode(String(N)))}),this.appendChild(ht)}})})}([Element.prototype,Document.prototype,DocumentFragment.prototype])},33230:function(Sn,An,dt){"use strict";dt.d(An,{H:function(){return nn}});var ht=dt(7064),N=function(lt,J,nt,yt){var Dt=arguments.length,Bt=Dt<3?J:yt===null?yt=Object.getOwnPropertyDescriptor(J,nt):yt,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Bt=Reflect.decorate(lt,J,nt,yt);else for(var de=lt.length-1;de>=0;de--)(ne=lt[de])&&(Bt=(Dt<3?ne(Bt):Dt>3?ne(J,nt,Bt):ne(J,nt))||Bt);return Dt>3&&Bt&&Object.defineProperty(J,nt,Bt),Bt},ee=function(lt,J){var nt={};for(var yt in lt)Object.prototype.hasOwnProperty.call(lt,yt)&&J.indexOf(yt)<0&&(nt[yt]=lt[yt]);if(lt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Dt=0,yt=Object.getOwnPropertySymbols(lt);Dt<yt.length;Dt++)J.indexOf(yt[Dt])<0&&Object.prototype.propertyIsEnumerable.call(lt,yt[Dt])&&(nt[yt[Dt]]=lt[yt[Dt]]);return nt};class Kn extends ht.G7{get model(){return this.graph.model}get containerClassName(){return this.prefixClassName("widget-snapline")}get verticalClassName(){return`${this.containerClassName}-vertical`}get horizontalClassName(){return`${this.containerClassName}-horizontal`}constructor(J){super();const{graph:nt}=J,yt=ee(J,["graph"]);this.graph=nt,this.options=Object.assign({},yt),this.offset={x:0,y:0},this.render(),this.disabled||this.startListening()}get disabled(){return this.options.enabled!==!0}enable(){this.disabled&&(this.options.enabled=!0,this.startListening())}disable(){this.disabled||(this.options.enabled=!1,this.stopListening())}setFilter(J){this.options.filter=J}render(){const J=this.containerWrapper=new ht.OW("svg"),nt=this.horizontal=new ht.OW("line"),yt=this.vertical=new ht.OW("line");J.addClass(this.containerClassName),nt.addClass(this.horizontalClassName),yt.addClass(this.verticalClassName),J.setAttribute("width","100%"),J.setAttribute("height","100%"),nt.setAttribute("display","none"),yt.setAttribute("display","none"),J.append([nt,yt]),this.options.className&&J.addClass(this.options.className),this.container=this.containerWrapper.node}startListening(){this.stopListening(),this.graph.on("node:mousedown",this.captureCursorOffset,this),this.graph.on("node:mousemove",this.snapOnMoving,this),this.model.on("batch:stop",this.onBatchStop,this),this.delegateDocumentEvents({mouseup:"hide",touchend:"hide"})}stopListening(){this.graph.off("node:mousedown",this.captureCursorOffset,this),this.graph.off("node:mousemove",this.snapOnMoving,this),this.model.off("batch:stop",this.onBatchStop,this),this.undelegateDocumentEvents()}onBatchStop({name:J,data:nt}){J==="resize"&&this.snapOnResizing(nt.cell,nt)}captureCursorOffset({view:J,x:nt,y:yt}){const Dt=J.getDelegatedView();if(Dt&&this.isNodeMovable(Dt)){const Bt=J.cell.getPosition();this.offset={x:nt-Bt.x,y:yt-Bt.y}}}isNodeMovable(J){return J&&J.cell.isNode()&&J.can("nodeMovable")}getRestrictArea(J){const nt=this.graph.options.translating.restrict,yt=typeof nt=="function"?ht.Iw.call(nt,this.graph,J):nt;return typeof yt=="number"?this.graph.transform.getGraphArea().inflate(yt):yt===!0?this.graph.transform.getGraphArea():yt||null}snapOnResizing(J,nt){if(this.options.resizing&&!nt.snapped&&nt.ui&&nt.direction&&nt.trueDirection){const yt=this.graph.renderer.findViewByCell(J);if(yt&&yt.cell.isNode()){const Dt=J.getBBox(),Bt=Dt.bbox(J.getAngle()),ne=Bt.getTopLeft(),de=Bt.getBottomRight(),Zt=ht.RZ.normalize(J.getAngle()),$e=this.options.tolerance||0;let Ge,ge,De,qt,Ue,wt;const pe={vertical:0,horizontal:0},Qn=nt.direction,Cn=nt.trueDirection,_e=nt.relativeDirection;Cn.indexOf("right")!==-1?pe.vertical=de.x:pe.vertical=ne.x,Cn.indexOf("bottom")!==-1?pe.horizontal=de.y:pe.horizontal=ne.y,this.model.getNodes().some(Wt=>{if(this.isIgnored(J,Wt))return!1;const Jt=Wt.getBBox().bbox(Wt.getAngle()),me=Jt.getTopLeft(),Br=Jt.getBottomRight(),ki={vertical:[me.x,Br.x],horizontal:[me.y,Br.y]},fn={};return Object.keys(ki).forEach($n=>{const kr=$n,jr=ki[kr].map(dn=>({position:dn,distance:Math.abs(dn-pe[kr])})).filter(dn=>dn.distance<=$e);fn[kr]=ht.RO.sortBy(jr,dn=>dn.distance)}),Ge==null&&fn.vertical.length>0&&(Ge=fn.vertical[0].position,ge=Math.min(Bt.y,Jt.y),De=Math.max(de.y,Br.y)-ge),qt==null&&fn.horizontal.length>0&&(qt=fn.horizontal[0].position,Ue=Math.min(Bt.x,Jt.x),wt=Math.max(de.x,Br.x)-Ue),Ge!=null&&qt!=null}),this.hide();let le=0,Be=0;(qt!=null||Ge!=null)&&(Ge!=null&&(le=Cn.indexOf("right")!==-1?Ge-de.x:ne.x-Ge),qt!=null&&(Be=Cn.indexOf("bottom")!==-1?qt-de.y:ne.y-qt));let ke=0,hn=0;if(Zt%90===0)Zt===90||Zt===270?(ke=Be,hn=le):(ke=le,hn=Be);else{const Wt=Zt>=0&&Zt<90?1:Zt>=90&&Zt<180?4:Zt>=180&&Zt<270?3:2;qt!=null&&Ge!=null&&(le<Be?(Be=0,qt=void 0):(le=0,Ge=void 0));const Jt=ht.RZ.toRad(Zt%90);le&&(ke=Wt===3?le/Math.cos(Jt):le/Math.sin(Jt)),Be&&(hn=Wt===3?Be/Math.cos(Jt):Be/Math.sin(Jt));const me=Wt===1||Wt===3;switch(_e){case"top":case"bottom":hn=Be?Be/(me?Math.cos(Jt):Math.sin(Jt)):le/(me?Math.sin(Jt):Math.cos(Jt));break;case"left":case"right":ke=le?le/(me?Math.cos(Jt):Math.sin(Jt)):Be/(me?Math.sin(Jt):Math.cos(Jt));break;default:break}}switch(_e){case"top":case"bottom":ke=0;break;case"left":case"right":hn=0;break;default:break}const rn=this.graph.getGridSize();let oe=Math.max(Dt.width+ke,rn),ue=Math.max(Dt.height+hn,rn);nt.minWidth&&nt.minWidth>rn&&(oe=Math.max(oe,nt.minWidth)),nt.minHeight&&nt.minHeight>rn&&(ue=Math.max(ue,nt.minHeight)),nt.maxWidth&&(oe=Math.min(oe,nt.maxWidth)),nt.maxHeight&&(ue=Math.min(ue,nt.maxHeight)),nt.preserveAspectRatio&&(hn<ke?ue=oe*(Dt.height/Dt.width):oe=ue*(Dt.width/Dt.height)),(oe!==Dt.width||ue!==Dt.height)&&(J.resize(oe,ue,{direction:Qn,relativeDirection:_e,trueDirection:Cn,snapped:!0,snaplines:this.cid,restrict:this.getRestrictArea(yt)}),De&&(De+=ue-Dt.height),wt&&(wt+=oe-Dt.width));const ce=J.getBBox().bbox(Zt);Ge&&Math.abs(ce.x-Ge)>1&&Math.abs(ce.width+ce.x-Ge)>1&&(Ge=void 0),qt&&Math.abs(ce.y-qt)>1&&Math.abs(ce.height+ce.y-qt)>1&&(qt=void 0),this.update({verticalLeft:Ge,verticalTop:ge,verticalHeight:De,horizontalTop:qt,horizontalLeft:Ue,horizontalWidth:wt})}}}snapOnMoving({view:J,e:nt,x:yt,y:Dt}){const Bt=J.getEventData(nt).delegatedView||J;if(!this.isNodeMovable(Bt))return;const ne=Bt.cell,de=ne.getSize(),Zt=ne.getPosition(),$e=new ht.Ae(yt-this.offset.x,Dt-this.offset.y,de.width,de.height),Ge=ne.getAngle(),ge=$e.getCenter(),De=$e.bbox(Ge),qt=De.getTopLeft(),Ue=De.getBottomRight(),wt=this.options.tolerance||0;let pe,Qn,Cn,_e,le,Be,ke=0,hn=0;if(this.model.getNodes().some(rn=>{if(this.isIgnored(ne,rn))return!1;const oe=rn.getBBox().bbox(rn.getAngle()),ue=oe.getCenter(),ce=oe.getTopLeft(),Wt=oe.getBottomRight();return pe==null&&(Math.abs(ue.x-ge.x)<wt?(pe=ue.x,ke=.5):Math.abs(ce.x-qt.x)<wt?(pe=ce.x,ke=0):Math.abs(ce.x-Ue.x)<wt?(pe=ce.x,ke=1):Math.abs(Wt.x-Ue.x)<wt?(pe=Wt.x,ke=1):Math.abs(Wt.x-qt.x)<wt&&(pe=Wt.x),pe!=null&&(Qn=Math.min(De.y,oe.y),Cn=Math.max(Ue.y,Wt.y)-Qn)),_e==null&&(Math.abs(ue.y-ge.y)<wt?(_e=ue.y,hn=.5):Math.abs(ce.y-qt.y)<wt?_e=ce.y:Math.abs(ce.y-Ue.y)<wt?(_e=ce.y,hn=1):Math.abs(Wt.y-Ue.y)<wt?(_e=Wt.y,hn=1):Math.abs(Wt.y-qt.y)<wt&&(_e=Wt.y),_e!=null&&(le=Math.min(De.x,oe.x),Be=Math.max(Ue.x,Wt.x)-le)),pe!=null&&_e!=null}),this.hide(),_e!=null||pe!=null){_e!=null&&(De.y=_e-hn*De.height),pe!=null&&(De.x=pe-ke*De.width);const rn=De.getCenter(),oe=rn.x-$e.width/2,ue=rn.y-$e.height/2,ce=oe-Zt.x,Wt=ue-Zt.y;(ce!==0||Wt!==0)&&(ne.translate(ce,Wt,{snapped:!0,restrict:this.getRestrictArea(Bt)}),Be&&(Be+=ce),Cn&&(Cn+=Wt)),this.update({verticalLeft:pe,verticalTop:Qn,verticalHeight:Cn,horizontalTop:_e,horizontalLeft:le,horizontalWidth:Be})}}isIgnored(J,nt){return nt.id===J.id||nt.isDescendantOf(J)||!this.filter(nt)}filter(J){const nt=this.options.filter;return Array.isArray(nt)?nt.some(yt=>typeof yt=="string"?J.shape===yt:J.id===yt.id):typeof nt=="function"?ht.Iw.call(nt,this.graph,J):!0}update(J){if(J.horizontalTop){const nt=this.graph.localToGraph(new ht.E9(J.horizontalLeft,J.horizontalTop)),yt=this.graph.localToGraph(new ht.E9(J.horizontalLeft+J.horizontalWidth,J.horizontalTop));this.horizontal.setAttributes({x1:this.options.sharp?`${nt.x}`:"0",y1:`${nt.y}`,x2:this.options.sharp?`${yt.x}`:"100%",y2:`${yt.y}`,display:"inherit"})}else this.horizontal.setAttribute("display","none");if(J.verticalLeft){const nt=this.graph.localToGraph(new ht.E9(J.verticalLeft,J.verticalTop)),yt=this.graph.localToGraph(new ht.E9(J.verticalLeft,J.verticalTop+J.verticalHeight));this.vertical.setAttributes({x1:`${nt.x}`,y1:this.options.sharp?`${nt.y}`:"0",x2:`${yt.x}`,y2:this.options.sharp?`${yt.y}`:"100%",display:"inherit"})}else this.vertical.setAttribute("display","none");this.show()}resetTimer(){this.timer&&(clearTimeout(this.timer),this.timer=null)}show(){return this.resetTimer(),this.container.parentNode==null&&this.graph.container.appendChild(this.container),this}hide(){this.resetTimer(),this.vertical.setAttribute("display","none"),this.horizontal.setAttribute("display","none");const J=this.options.clean,nt=typeof J=="number"?J:J!==!1?3e3:0;return nt>0&&(this.timer=window.setTimeout(()=>{this.container.parentNode!==null&&this.unmount()},nt)),this}onRemove(){this.stopListening(),this.hide()}dispose(){this.remove()}}N([ht.G7.dispose()],Kn.prototype,"dispose",null);const Dr=`.x6-widget-snapline {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  pointer-events: none;
}
.x6-widget-snapline-vertical,
.x6-widget-snapline-horizontal {
  stroke: #2ecc71;
  stroke-width: 1px;
}
`;ht.kJ.prototype.isSnaplineEnabled=function(){const lt=this.getPlugin("snapline");return lt?lt.isEnabled():!1},ht.kJ.prototype.enableSnapline=function(){const lt=this.getPlugin("snapline");return lt&&lt.enable(),this},ht.kJ.prototype.disableSnapline=function(){const lt=this.getPlugin("snapline");return lt&&lt.disable(),this},ht.kJ.prototype.toggleSnapline=function(){const lt=this.getPlugin("snapline");return lt&&lt.toggleEnabled(),this},ht.kJ.prototype.hideSnapline=function(){const lt=this.getPlugin("snapline");return lt&&lt.hide(),this},ht.kJ.prototype.setSnaplineFilter=function(lt){const J=this.getPlugin("snapline");return J&&J.setFilter(lt),this},ht.kJ.prototype.isSnaplineOnResizingEnabled=function(){const lt=this.getPlugin("snapline");return lt?lt.isOnResizingEnabled():!1},ht.kJ.prototype.enableSnaplineOnResizing=function(){const lt=this.getPlugin("snapline");return lt&&lt.enableOnResizing(),this},ht.kJ.prototype.disableSnaplineOnResizing=function(){const lt=this.getPlugin("snapline");return lt&&lt.disableOnResizing(),this},ht.kJ.prototype.toggleSnaplineOnResizing=function(lt){const J=this.getPlugin("snapline");return J&&J.toggleOnResizing(lt),this},ht.kJ.prototype.isSharpSnapline=function(){const lt=this.getPlugin("snapline");return lt?lt.isSharp():!1},ht.kJ.prototype.enableSharpSnapline=function(){const lt=this.getPlugin("snapline");return lt&&lt.enableSharp(),this},ht.kJ.prototype.disableSharpSnapline=function(){const lt=this.getPlugin("snapline");return lt&&lt.disableSharp(),this},ht.kJ.prototype.toggleSharpSnapline=function(lt){const J=this.getPlugin("snapline");return J&&J.toggleSharp(lt),this},ht.kJ.prototype.getSnaplineTolerance=function(){const lt=this.getPlugin("snapline");if(lt)return lt.getTolerance()},ht.kJ.prototype.setSnaplineTolerance=function(lt){const J=this.getPlugin("snapline");return J&&J.setTolerance(lt),this};var Ce=function(lt,J,nt,yt){var Dt=arguments.length,Bt=Dt<3?J:yt===null?yt=Object.getOwnPropertyDescriptor(J,nt):yt,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Bt=Reflect.decorate(lt,J,nt,yt);else for(var de=lt.length-1;de>=0;de--)(ne=lt[de])&&(Bt=(Dt<3?ne(Bt):Dt>3?ne(J,nt,Bt):ne(J,nt))||Bt);return Dt>3&&Bt&&Object.defineProperty(J,nt,Bt),Bt};class nn extends ht.JT{constructor(J={}){super(),this.name="snapline",this.options=Object.assign({enabled:!0,tolerance:10},J),ht.mf.ensure(this.name,Dr)}init(J){this.snaplineImpl=new Kn(Object.assign(Object.assign({},this.options),{graph:J}))}isEnabled(){return!this.snaplineImpl.disabled}enable(){this.snaplineImpl.enable()}disable(){this.snaplineImpl.disable()}toggleEnabled(J){if(J!=null)J!==this.isEnabled()&&(J?this.enable():this.disable());else return this.isEnabled()?this.disable():this.enable(),this}hide(){return this.snaplineImpl.hide(),this}setFilter(J){return this.snaplineImpl.setFilter(J),this}isOnResizingEnabled(){return this.snaplineImpl.options.resizing===!0}enableOnResizing(){return this.snaplineImpl.options.resizing=!0,this}disableOnResizing(){return this.snaplineImpl.options.resizing=!1,this}toggleOnResizing(J){return J!=null?J!==this.isOnResizingEnabled()&&(J?this.enableOnResizing():this.disableOnResizing()):this.isOnResizingEnabled()?this.disableOnResizing():this.enableOnResizing(),this}isSharp(){return this.snaplineImpl.options.sharp===!0}enableSharp(){return this.snaplineImpl.options.sharp=!0,this}disableSharp(){return this.snaplineImpl.options.sharp=!1,this}toggleSharp(J){return J!=null?J!==this.isSharp()&&(J?this.enableSharp():this.disableSharp()):this.isSharp()?this.disableSharp():this.enableSharp(),this}getTolerance(){return this.snaplineImpl.options.tolerance}setTolerance(J){return this.snaplineImpl.options.tolerance=J,this}captureCursorOffset(J){this.snaplineImpl.captureCursorOffset(J)}snapOnMoving(J){this.snaplineImpl.snapOnMoving(J)}dispose(){this.snaplineImpl.dispose(),ht.mf.clean(this.name)}}Ce([ht.JT.dispose()],nn.prototype,"dispose",null)},7064:function(Sn,An,dt){"use strict";dt.d(An,{RZ:function(){return we},RO:function(){return ht},mf:function(){return ee},JT:function(){return ge},Iw:function(){return N},kJ:function(){return Zn},E9:function(){return B},Ae:function(){return st},BM:function(){return Ze},OW:function(){return _t},G7:function(){return Re}});var ht={};dt.r(ht),dt.d(ht,{difference:function(){return dd},groupBy:function(){return ku},max:function(){return gd},sortBy:function(){return fd},sortedIndex:function(){return id},sortedIndexBy:function(){return fs},union:function(){return Iu},uniq:function(){return Ru}});var N={};dt.r(N),dt.d(N,{apply:function(){return po},call:function(){return xt},debounce:function(){return $i},isAsync:function(){return fi},isAsyncLike:function(){return Es},throttle:function(){return _s},toAsyncBoolean:function(){return di},toDeferredBoolean:function(){return ec}});var ee={};dt.r(ee),dt.d(ee,{clean:function(){return u0},ensure:function(){return c0}});var Kn={};dt.r(Kn),dt.d(Kn,{dot:function(){return Bw},doubleMesh:function(){return Fw},fixedDot:function(){return kw},mesh:function(){return jw}});var Dr={};dt.r(Dr),dt.d(Dr,{flipX:function(){return g0},flipXY:function(){return m0},flipY:function(){return p0},watermark:function(){return zw}});var Ce={};dt.r(Ce),dt.d(Ce,{blur:function(){return Hw},brightness:function(){return Yw},contrast:function(){return Zw},dropShadow:function(){return Ww},grayScale:function(){return Gw},highlight:function(){return Vw},hueRotate:function(){return Jw},invert:function(){return Xw},outline:function(){return $w},saturate:function(){return qw},sepia:function(){return Uw}});var nn={};dt.r(nn),dt.d(nn,{async:function(){return V1},block:function(){return L1},circle:function(){return I0},circlePlus:function(){return H1},classic:function(){return N1},cross:function(){return z1},diamond:function(){return B1},ellipse:function(){return G1},path:function(){return j1}});var lt={};dt.r(lt),dt.d(lt,{annotations:function(){return S1},atConnectionLength:function(){return tS},atConnectionLengthIgnoreGradient:function(){return K1},atConnectionLengthKeepGradient:function(){return L0},atConnectionRatio:function(){return eS},atConnectionRatioIgnoreGradient:function(){return Q1},atConnectionRatioKeepGradient:function(){return N0},connection:function(){return Z1},displayEmpty:function(){return C1},eol:function(){return A1},fill:function(){return m1},filter:function(){return R1},html:function(){return T1},lineHeight:function(){return b1},port:function(){return I1},ref:function(){return Qw},refCx:function(){return s1},refCy:function(){return o1},refD:function(){return u1},refDKeepOffset:function(){return a1},refDResetOffset:function(){return S0},refDx:function(){return t1},refDy:function(){return e1},refHeight:function(){return x0},refHeight2:function(){return p1},refPoints:function(){return h1},refPointsKeepOffset:function(){return l1},refPointsResetOffset:function(){return A0},refR:function(){return c1},refRCircumscribed:function(){return i1},refRInscribed:function(){return w0},refRx:function(){return n1},refRy:function(){return r1},refWidth:function(){return b0},refWidth2:function(){return g1},refX:function(){return y0},refX2:function(){return f1},refY:function(){return v0},refY2:function(){return d1},resetOffset:function(){return E1},sourceMarker:function(){return q1},stroke:function(){return y1},style:function(){return M1},targetMarker:function(){return J1},text:function(){return _0},textPath:function(){return w1},textVerticalAnchor:function(){return x1},textWrap:function(){return v1},title:function(){return P1},vertexMarker:function(){return X1},xAlign:function(){return O1},yAlign:function(){return _1}});var J={};dt.r(J),dt.d(J,{className:function(){return nS},opacity:function(){return rS},stroke:function(){return sS}});var nt={};dt.r(nt),dt.d(nt,{absolute:function(){return oS},bottom:function(){return gS},ellipse:function(){return aS},ellipseSpread:function(){return lS},left:function(){return hS},line:function(){return uS},right:function(){return fS},top:function(){return dS}});var yt={};dt.r(yt),dt.d(yt,{bottom:function(){return xS},inside:function(){return AS},insideOriented:function(){return CS},left:function(){return yS},manual:function(){return mS},outside:function(){return wS},outsideOriented:function(){return SS},radial:function(){return PS},radialOriented:function(){return OS},right:function(){return vS},top:function(){return bS}});var Dt={};dt.r(Dt),dt.d(Dt,{noop:function(){return MS},pinAbsolute:function(){return LS},pinRelative:function(){return IS}});var Bt={};dt.r(Bt),dt.d(Bt,{bottom:function(){return VS},bottomLeft:function(){return qS},bottomRight:function(){return JS},center:function(){return zS},left:function(){return HS},midSide:function(){return ZS},nodeCenter:function(){return YS},orth:function(){return XS},right:function(){return WS},top:function(){return $S},topLeft:function(){return GS},topRight:function(){return US}});var ne={};dt.r(ne),dt.d(ne,{closest:function(){return tA},length:function(){return QS},orth:function(){return eA},ratio:function(){return KS}});var de={};dt.r(de),dt.d(de,{anchor:function(){return oA},bbox:function(){return Z0},boundary:function(){return iA},rect:function(){return rA}});var Zt={};dt.r(Zt),dt.d(Zt,{er:function(){return OA},loop:function(){return _A},manhattan:function(){return ux},metro:function(){return PA},normal:function(){return aA},oneSide:function(){return lA},orth:function(){return tx}});var $e={};dt.r($e),dt.d($e,{jumpover:function(){return BA},loop:function(){return MA},normal:function(){return EA},rounded:function(){return TA},smooth:function(){return RA}});var Ge=dt(90591);class ge{get disposed(){return this._disposed===!0}dispose(){this._disposed=!0}}(function(r){function t(){return(e,n,i)=>{const s=i.value,a=e.__proto__;i.value=function(){this.disposed||(s.call(this),a.dispose.call(this))}}}r.dispose=t})(ge||(ge={}));class De{constructor(t){this.callback=t}get disposed(){return!this.callback}dispose(){if(!this.callback)return;const t=this.callback;this.callback=null,t()}}class qt{constructor(){this.isDisposed=!1,this.items=new Set}get disposed(){return this.isDisposed}dispose(){this.isDisposed||(this.isDisposed=!0,this.items.forEach(t=>{t.dispose()}),this.items.clear())}contains(t){return this.items.has(t)}add(t){this.items.add(t)}remove(t){this.items.delete(t)}clear(){this.items.clear()}}(function(r){function t(e){const n=new r;return e.forEach(i=>{n.add(i)}),n}r.from=t})(qt||(qt={}));function Ue(r){var t=typeof r;return r!=null&&(t=="object"||t=="function")}var wt=Ue,pe=typeof global=="object"&&global&&global.Object===Object&&global,Qn=pe,Cn=typeof self=="object"&&self&&self.Object===Object&&self,_e=Qn||Cn||Function("return this")(),le=_e,Be=function(){return le.Date.now()},ke=Be,hn=/\s/;function rn(r){for(var t=r.length;t--&&hn.test(r.charAt(t)););return t}var oe=rn,ue=/^\s+/;function ce(r){return r&&r.slice(0,oe(r)+1).replace(ue,"")}var Wt=ce,Jt=le.Symbol,me=Jt,Br=Object.prototype,ki=Br.hasOwnProperty,fn=Br.toString,$n=me?me.toStringTag:void 0;function kr(r){var t=ki.call(r,$n),e=r[$n];try{r[$n]=void 0;var n=!0}catch(s){}var i=fn.call(r);return n&&(t?r[$n]=e:delete r[$n]),i}var jr=kr,dn=Object.prototype,Kl=dn.toString;function As(r){return Kl.call(r)}var Cs=As,fa="[object Null]",Pn="[object Undefined]",li=me?me.toStringTag:void 0;function uo(r){return r==null?r===void 0?Pn:fa:li&&li in Object(r)?jr(r):Cs(r)}var Qe=uo;function da(r){return r!=null&&typeof r=="object"}var On=da,ci="[object Symbol]";function Vn(r){return typeof r=="symbol"||On(r)&&Qe(r)==ci}var gn=Vn,ji=0/0,Ql=/^[-+]0x[0-9a-f]+$/i,Fi=/^0b[01]+$/i,tc=/^0o[0-7]+$/i,zi=parseInt;function ui(r){if(typeof r=="number")return r;if(gn(r))return ji;if(wt(r)){var t=typeof r.valueOf=="function"?r.valueOf():r;r=wt(t)?t+"":t}if(typeof r!="string")return r===0?r:+r;r=Wt(r);var e=Fi.test(r);return e||tc.test(r)?zi(r.slice(2),e?2:8):Ql.test(r)?ji:+r}var Fr=ui,ho="Expected a function",fo=Math.max,Ps=Math.min;function go(r,t,e){var n,i,s,a,l,u,h=0,d=!1,g=!1,p=!0;if(typeof r!="function")throw new TypeError(ho);t=Fr(t)||0,wt(e)&&(d=!!e.leading,g="maxWait"in e,s=g?fo(Fr(e.maxWait)||0,t):s,p="trailing"in e?!!e.trailing:p);function m(H){var K=n,rt=i;return n=i=void 0,h=H,a=r.apply(rt,K),a}function x(H){return h=H,l=setTimeout(R,t),d?m(H):a}function C(H){var K=H-u,rt=H-h,it=t-K;return g?Ps(it,s-rt):it}function O(H){var K=H-u,rt=H-h;return u===void 0||K>=t||K<0||g&&rt>=s}function R(){var H=ke();if(O(H))return L(H);l=setTimeout(R,C(H))}function L(H){return l=void 0,p&&n?m(H):(n=i=void 0,a)}function M(){l!==void 0&&clearTimeout(l),h=0,n=u=i=l=void 0}function k(){return l===void 0?a:L(ke())}function z(){var H=ke(),K=O(H);if(n=arguments,i=this,u=H,K){if(l===void 0)return x(u);if(g)return clearTimeout(l),l=setTimeout(R,t),m(u)}return l===void 0&&(l=setTimeout(R,t)),a}return z.cancel=M,z.flush=k,z}var $i=go,hi="Expected a function";function Os(r,t,e){var n=!0,i=!0;if(typeof r!="function")throw new TypeError(hi);return wt(e)&&(n="leading"in e?!!e.leading:n,i="trailing"in e?!!e.trailing:i),$i(r,t,{leading:n,maxWait:t,trailing:i})}var _s=Os;function po(r,t,e){if(e)switch(e.length){case 0:return r.call(t);case 1:return r.call(t,e[0]);case 2:return r.call(t,e[0],e[1]);case 3:return r.call(t,e[0],e[1],e[2]);case 4:return r.call(t,e[0],e[1],e[2],e[3]);case 5:return r.call(t,e[0],e[1],e[2],e[3],e[4]);case 6:return r.call(t,e[0],e[1],e[2],e[3],e[4],e[5]);default:return r.apply(t,e)}return r.call(t)}function xt(r,t,...e){return po(r,t,e)}function Es(r){return typeof r=="object"&&r.then&&typeof r.then=="function"}function fi(r){return r!=null&&(r instanceof Promise||Es(r))}function di(...r){const t=[];if(r.forEach(n=>{Array.isArray(n)?t.push(...n):t.push(n)}),t.some(n=>fi(n))){const n=t.map(i=>fi(i)?i:Promise.resolve(i!==!1));return Promise.all(n).then(i=>i.reduce((s,a)=>a!==!1&&s,!0))}return t.every(n=>n!==!1)}function ec(...r){const t=di(r);return typeof t=="boolean"?Promise.resolve(t):t}function Ms(r,t){const e=[];for(let n=0;n<r.length;n+=2){const i=r[n],s=r[n+1],a=Array.isArray(t)?t:[t],l=po(i,s,a);e.push(l)}return di(e)}class ga{constructor(){this.listeners={}}on(t,e,n){return e==null?this:(this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e,n),this)}once(t,e,n){const i=(...s)=>(this.off(t,i),Ms([e,n],s));return this.on(t,i,this)}off(t,e,n){if(!(t||e||n))return this.listeners={},this;const i=this.listeners;return(t?[t]:Object.keys(i)).forEach(a=>{const l=i[a];if(l){if(!(e||n)){delete i[a];return}for(let u=l.length-2;u>=0;u-=2)e&&l[u]!==e||n&&l[u+1]!==n||l.splice(u,2)}}),this}trigger(t,...e){let n=!0;if(t!=="*"){const s=this.listeners[t];s!=null&&(n=Ms([...s],e))}const i=this.listeners["*"];return i!=null?di([n,Ms([...i],[t,...e])]):n}emit(t,...e){return this.trigger(t,...e)}}var nc=Object.prototype,pa=nc.hasOwnProperty;function rc(r,t){return r!=null&&pa.call(r,t)}var ic=rc,ma=Array.isArray,Ve=ma,sc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mo=/^\w*$/;function oc(r,t){if(Ve(r))return!1;var e=typeof r;return e=="number"||e=="symbol"||e=="boolean"||r==null||gn(r)?!0:mo.test(r)||!sc.test(r)||t!=null&&r in Object(t)}var yo=oc,ac="[object AsyncFunction]",ya="[object Function]",va="[object GeneratorFunction]",lc="[object Proxy]";function cc(r){if(!wt(r))return!1;var t=Qe(r);return t==ya||t==va||t==ac||t==lc}var vo=cc,ba=le["__core-js_shared__"],Vi=ba,bo=function(){var r=/[^.]+$/.exec(Vi&&Vi.keys&&Vi.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function xo(r){return!!bo&&bo in r}var xa=xo,wh=Function.prototype,Sh=wh.toString;function Hi(r){if(r!=null){try{return Sh.call(r)}catch(t){}try{return r+""}catch(t){}}return""}var cr=Hi,gi=/[\\^$.*+?()[\]{}|]/g,uc=/^\[object .+?Constructor\]$/,hc=Function.prototype,wa=Object.prototype,wo=hc.toString,Sa=wa.hasOwnProperty,Aa=RegExp("^"+wo.call(Sa).replace(gi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fc(r){if(!wt(r)||xa(r))return!1;var t=vo(r)?Aa:uc;return t.test(cr(r))}var dc=fc;function gc(r,t){return r==null?void 0:r[t]}var pc=gc;function Ca(r,t){var e=pc(r,t);return dc(e)?e:void 0}var sn=Ca,Ts=sn(Object,"create"),zr=Ts;function mc(){this.__data__=zr?zr(null):{},this.size=0}var Pa=mc;function Wi(r){var t=this.has(r)&&delete this.__data__[r];return this.size-=t?1:0,t}var Oa=Wi,yc="__lodash_hash_undefined__",_a=Object.prototype,Ea=_a.hasOwnProperty;function pi(r){var t=this.__data__;if(zr){var e=t[r];return e===yc?void 0:e}return Ea.call(t,r)?t[r]:void 0}var So=pi,Ma=Object.prototype,Ao=Ma.hasOwnProperty;function ur(r){var t=this.__data__;return zr?t[r]!==void 0:Ao.call(t,r)}var mi=ur,Ta="__lodash_hash_undefined__";function Co(r,t){var e=this.__data__;return this.size+=this.has(r)?0:1,e[r]=zr&&t===void 0?Ta:t,this}var vc=Co;function $r(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}$r.prototype.clear=Pa,$r.prototype.delete=Oa,$r.prototype.get=So,$r.prototype.has=mi,$r.prototype.set=vc;var Po=$r;function Ra(){this.__data__=[],this.size=0}var Rs=Ra;function bc(r,t){return r===t||r!==r&&t!==t}var yi=bc;function xc(r,t){for(var e=r.length;e--;)if(yi(r[e][0],t))return e;return-1}var Gi=xc,Oo=Array.prototype,wc=Oo.splice;function Sc(r){var t=this.__data__,e=Gi(t,r);if(e<0)return!1;var n=t.length-1;return e==n?t.pop():wc.call(t,e,1),--this.size,!0}var Ia=Sc;function vi(r){var t=this.__data__,e=Gi(t,r);return e<0?void 0:t[e][1]}var Ac=vi;function Cc(r){return Gi(this.__data__,r)>-1}var q=Cc;function Is(r,t){var e=this.__data__,n=Gi(e,r);return n<0?(++this.size,e.push([r,t])):e[n][1]=t,this}var bi=Is;function Kt(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}Kt.prototype.clear=Rs,Kt.prototype.delete=Ia,Kt.prototype.get=Ac,Kt.prototype.has=q,Kt.prototype.set=bi;var Qt=Kt,Pc=sn(le,"Map"),hr=Pc;function Oc(){this.size=0,this.__data__={hash:new Po,map:new(hr||Qt),string:new Po}}var _c=Oc;function Ec(r){var t=typeof r;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?r!=="__proto__":r===null}var Mc=Ec;function Ui(r,t){var e=r.__data__;return Mc(t)?e[typeof t=="string"?"string":"hash"]:e.map}var xi=Ui;function qe(r){var t=xi(this,r).delete(r);return this.size-=t?1:0,t}var _o=qe;function wi(r){return xi(this,r).get(r)}var La=wi;function Vr(r){return xi(this,r).has(r)}var In=Vr;function Na(r,t){var e=xi(this,r),n=e.size;return e.set(r,t),this.size+=e.size==n?0:1,this}var Da=Na;function Hn(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}Hn.prototype.clear=_c,Hn.prototype.delete=_o,Hn.prototype.get=La,Hn.prototype.has=In,Hn.prototype.set=Da;var Hr=Hn,Eo="Expected a function";function qi(r,t){if(typeof r!="function"||t!=null&&typeof t!="function")throw new TypeError(Eo);var e=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=e.cache;if(s.has(i))return s.get(i);var a=r.apply(this,n);return e.cache=s.set(i,a)||s,a};return e.cache=new(qi.Cache||Hr),e}qi.Cache=Hr;var _n=qi,Mo=500;function Ln(r){var t=_n(r,function(n){return e.size===Mo&&e.clear(),n}),e=t.cache;return t}var To=Ln,Ba=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tr=/\\(\\)?/g,Pt=To(function(r){var t=[];return r.charCodeAt(0)===46&&t.push(""),r.replace(Ba,function(e,n,i,s){t.push(i?s.replace(tr,"$1"):n||e)}),t}),Ro=Pt;function ye(r,t){for(var e=-1,n=r==null?0:r.length,i=Array(n);++e<n;)i[e]=t(r[e],e,r);return i}var Nn=ye,Io=1/0,ka=me?me.prototype:void 0,Si=ka?ka.toString:void 0;function fr(r){if(typeof r=="string")return r;if(Ve(r))return Nn(r,fr)+"";if(gn(r))return Si?Si.call(r):"";var t=r+"";return t=="0"&&1/r==-Io?"-0":t}var Tc=fr;function Rc(r){return r==null?"":Tc(r)}var Wr=Rc;function Ls(r,t){return Ve(r)?r:yo(r,t)?[r]:Ro(Wr(r))}var dr=Ls,Ic="[object Arguments]";function ja(r){return On(r)&&Qe(r)==Ic}var Lo=ja,Ns=Object.prototype,No=Ns.hasOwnProperty,Fa=Ns.propertyIsEnumerable,Lc=Lo(function(){return arguments}())?Lo:function(r){return On(r)&&No.call(r,"callee")&&!Fa.call(r,"callee")},Sr=Lc,Do=9007199254740991,za=/^(?:0|[1-9]\d*)$/;function $a(r,t){var e=typeof r;return t=t==null?Do:t,!!t&&(e=="number"||e!="symbol"&&za.test(r))&&r>-1&&r%1==0&&r<t}var tn=$a,Bo=9007199254740991;function Ai(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=Bo}var Ji=Ai,Va=1/0;function Xi(r){if(typeof r=="string"||gn(r))return r;var t=r+"";return t=="0"&&1/r==-Va?"-0":t}var Wn=Xi;function ko(r,t,e){t=dr(t,r);for(var n=-1,i=t.length,s=!1;++n<i;){var a=Wn(t[n]);if(!(s=r!=null&&e(r,a)))break;r=r[a]}return s||++n!=i?s:(i=r==null?0:r.length,!!i&&Ji(i)&&tn(a,i)&&(Ve(r)||Sr(r)))}var Ds=ko;function jo(r,t){return r!=null&&Ds(r,t,ic)}var pn=jo;function Nc(r,t){t=dr(t,r);for(var e=0,n=t.length;r!=null&&e<n;)r=r[Wn(t[e++])];return e&&e==n?r:void 0}var Bs=Nc,er=function(){try{var r=sn(Object,"defineProperty");return r({},"",{}),r}catch(t){}}(),Yi=er;function gr(r,t,e){t=="__proto__"&&Yi?Yi(r,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):r[t]=e}var Gr=gr,Dc=Object.prototype,Bc=Dc.hasOwnProperty;function kc(r,t,e){var n=r[t];(!(Bc.call(r,t)&&yi(n,e))||e===void 0&&!(t in r))&&Gr(r,t,e)}var Ar=kc;function Dn(r,t,e,n){if(!wt(r))return r;t=dr(t,r);for(var i=-1,s=t.length,a=s-1,l=r;l!=null&&++i<s;){var u=Wn(t[i]),h=e;if(u==="__proto__"||u==="constructor"||u==="prototype")return r;if(i!=a){var d=l[u];h=n?n(d,u,l):void 0,h===void 0&&(h=wt(d)?d:tn(t[i+1])?[]:{})}Ar(l,u,h),l=l[u]}return r}var Ha=Dn;function jc(r,t,e){for(var n=-1,i=t.length,s={};++n<i;){var a=t[n],l=Bs(r,a);e(l,a)&&Ha(s,dr(a,r),l)}return s}var Fc=jc;function Ah(r,t){return r!=null&&t in Object(r)}var Ch=Ah;function zc(r,t){return r!=null&&Ds(r,t,Ch)}var Zi=zc;function $(r,t){return Fc(r,t,function(e,n){return Zi(r,n)})}var U=$;function W(r,t){for(var e=-1,n=t.length,i=r.length;++e<n;)r[i+e]=t[e];return r}var ut=W,Ot=me?me.isConcatSpreadable:void 0;function Yt(r){return Ve(r)||Sr(r)||!!(Ot&&r&&r[Ot])}var je=Yt;function re(r,t,e,n,i){var s=-1,a=r.length;for(e||(e=je),i||(i=[]);++s<a;){var l=r[s];t>0&&e(l)?t>1?re(l,t-1,e,n,i):ut(i,l):n||(i[i.length]=l)}return i}var Cr=re;function Wa(r){var t=r==null?0:r.length;return t?Cr(r,1):[]}var mn=Wa;function Ki(r,t,e){switch(e.length){case 0:return r.call(t);case 1:return r.call(t,e[0]);case 2:return r.call(t,e[0],e[1]);case 3:return r.call(t,e[0],e[1],e[2])}return r.apply(t,e)}var Ga=Ki,Ur=Math.max;function Qi(r,t,e){return t=Ur(t===void 0?r.length-1:t,0),function(){for(var n=arguments,i=-1,s=Ur(n.length-t,0),a=Array(s);++i<s;)a[i]=n[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=n[i];return l[t]=e(a),Ga(r,this,l)}}var Ci=Qi;function ie(r){return function(){return r}}var $c=ie;function Ua(r){return r}var pr=Ua,Vc=Yi?function(r,t){return Yi(r,"toString",{configurable:!0,enumerable:!1,value:$c(t),writable:!0})}:pr,Hc=Vc,Wc=800,ks=16,mr=Date.now;function Pi(r){var t=0,e=0;return function(){var n=mr(),i=ks-(n-e);if(e=n,i>0){if(++t>=Wc)return arguments[0]}else t=0;return r.apply(void 0,arguments)}}var js=Pi,Fs=js(Hc),qa=Fs;function Ja(r){return qa(Ci(r,void 0,mn),r+"")}var Fo=Ja,Xa=Fo(function(r,t){return r==null?{}:U(r,t)}),ts=Xa;function qr(){this.__data__=new Qt,this.size=0}var zs=qr;function Ph(r){var t=this.__data__,e=t.delete(r);return this.size=t.size,e}var Gc=Ph;function Oh(r){return this.__data__.get(r)}var zo=Oh;function A(r){return this.__data__.has(r)}var b=A,w=200;function y(r,t){var e=this.__data__;if(e instanceof Qt){var n=e.__data__;if(!hr||n.length<w-1)return n.push([r,t]),this.size=++e.size,this;e=this.__data__=new Hr(n)}return e.set(r,t),this.size=e.size,this}var S=y;function _(r){var t=this.__data__=new Qt(r);this.size=t.size}_.prototype.clear=zs,_.prototype.delete=Gc,_.prototype.get=zo,_.prototype.has=b,_.prototype.set=S;var I=_;function F(r,t,e){(e!==void 0&&!yi(r[t],e)||e===void 0&&!(t in r))&&Gr(r,t,e)}var Z=F;function et(r){return function(t,e,n){for(var i=-1,s=Object(t),a=n(t),l=a.length;l--;){var u=a[r?l:++i];if(e(s[u],u,s)===!1)break}return t}}var ct=et,mt=ct(),$t=mt,Et=typeof exports=="object"&&exports&&!exports.nodeType&&exports,jt=Et&&typeof module=="object"&&module&&!module.nodeType&&module,Mt=jt&&jt.exports===Et,Xt=Mt?le.Buffer:void 0,Lt=Xt?Xt.allocUnsafe:void 0;function te(r,t){if(t)return r.slice();var e=r.length,n=Lt?Lt(e):new r.constructor(e);return r.copy(n),n}var he=te,yr=le.Uint8Array,on=yr;function es(r){var t=new r.constructor(r.byteLength);return new on(t).set(new on(r)),t}var Pr=es;function $o(r,t){var e=t?Pr(r.buffer):r.buffer;return new r.constructor(e,r.byteOffset,r.length)}var Oi=$o;function Vo(r,t){var e=-1,n=r.length;for(t||(t=Array(n));++e<n;)t[e]=r[e];return t}var Uc=Vo,E=Object.create,$s=function(){function r(){}return function(t){if(!wt(t))return{};if(E)return E(t);r.prototype=t;var e=new r;return r.prototype=void 0,e}}(),Ya=$s;function nr(r,t){return function(e){return r(t(e))}}var Vt=nr,yg=Vt(Object.getPrototypeOf,Object),qc=yg,vg=Object.prototype;function ns(r){var t=r&&r.constructor,e=typeof t=="function"&&t.prototype||vg;return r===e}var Za=ns;function bg(r){return typeof r.constructor=="function"&&!Za(r)?Ya(qc(r)):{}}var _h=bg;function xg(r){return r!=null&&Ji(r.length)&&!vo(r)}var rs=xg;function Jr(r){return On(r)&&rs(r)}var Ka=Jr;function wg(){return!1}var Sg=wg,Eh=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Mh=Eh&&typeof module=="object"&&module&&!module.nodeType&&module,Xr=Mh&&Mh.exports===Eh,Th=Xr?le.Buffer:void 0,Ag=Th?Th.isBuffer:void 0,Cg=Ag||Sg,Vs=Cg,Pg="[object Object]",is=Function.prototype,Og=Object.prototype,Rh=is.toString,vr=Og.hasOwnProperty,_g=Rh.call(Object);function Eg(r){if(!On(r)||Qe(r)!=Pg)return!1;var t=qc(r);if(t===null)return!0;var e=vr.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&Rh.call(e)==_g}var Or=Eg,Mg="[object Arguments]",Tg="[object Array]",Ih="[object Boolean]",Lh="[object Date]",Rg="[object Error]",Ig="[object Function]",Jc="[object Map]",Ho="[object Number]",Qa="[object Object]",Lg="[object RegExp]",Nh="[object Set]",Ng="[object String]",Yr="[object WeakMap]",Xc="[object ArrayBuffer]",ss="[object DataView]",rr="[object Float32Array]",Dg="[object Float64Array]",Dh="[object Int8Array]",Bh="[object Int16Array]",Wo="[object Int32Array]",_i="[object Uint8Array]",kh="[object Uint8ClampedArray]",Bg="[object Uint16Array]",tl="[object Uint32Array]",be={};be[rr]=be[Dg]=be[Dh]=be[Bh]=be[Wo]=be[_i]=be[kh]=be[Bg]=be[tl]=!0,be[Mg]=be[Tg]=be[Xc]=be[Ih]=be[ss]=be[Lh]=be[Rg]=be[Ig]=be[Jc]=be[Ho]=be[Qa]=be[Lg]=be[Nh]=be[Ng]=be[Yr]=!1;function jh(r){return On(r)&&Ji(r.length)&&!!be[Qe(r)]}var an=jh;function Yc(r){return function(t){return r(t)}}var Hs=Yc,br=typeof exports=="object"&&exports&&!exports.nodeType&&exports,os=br&&typeof module=="object"&&module&&!module.nodeType&&module,el=os&&os.exports===br,Zr=el&&Qn.process,Fh=function(){try{var r=os&&os.require&&os.require("util").types;return r||Zr&&Zr.binding&&Zr.binding("util")}catch(t){}}(),He=Fh,nl=He&&He.isTypedArray,kg=nl?Hs(nl):an,rl=kg;function jg(r,t){if(!(t==="constructor"&&typeof r[t]=="function")&&t!="__proto__")return r[t]}var Go=jg;function Fg(r,t,e,n){var i=!e;e||(e={});for(var s=-1,a=t.length;++s<a;){var l=t[s],u=n?n(e[l],r[l],l,e,r):void 0;u===void 0&&(u=r[l]),i?Gr(e,l,u):Ar(e,l,u)}return e}var Kr=Fg;function zh(r,t){for(var e=-1,n=Array(r);++e<r;)n[e]=t(e);return n}var zg=zh,$g=Object.prototype,Uo=$g.hasOwnProperty;function Vg(r,t){var e=Ve(r),n=!e&&Sr(r),i=!e&&!n&&Vs(r),s=!e&&!n&&!i&&rl(r),a=e||n||i||s,l=a?zg(r.length,String):[],u=l.length;for(var h in r)(t||Uo.call(r,h))&&!(a&&(h=="length"||i&&(h=="offset"||h=="parent")||s&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||tn(h,u)))&&l.push(h);return l}var $h=Vg;function Zc(r){var t=[];if(r!=null)for(var e in Object(r))t.push(e);return t}var Vh=Zc,Hg=Object.prototype,Wg=Hg.hasOwnProperty;function Gg(r){if(!wt(r))return Vh(r);var t=Za(r),e=[];for(var n in r)n=="constructor"&&(t||!Wg.call(r,n))||e.push(n);return e}var Hh=Gg;function Kc(r){return rs(r)?$h(r,!0):Hh(r)}var Ws=Kc;function Qc(r){return Kr(r,Ws(r))}var Wh=Qc;function Gh(r,t,e,n,i,s,a){var l=Go(r,e),u=Go(t,e),h=a.get(u);if(h){Z(r,e,h);return}var d=s?s(l,u,e+"",r,t,a):void 0,g=d===void 0;if(g){var p=Ve(u),m=!p&&Vs(u),x=!p&&!m&&rl(u);d=u,p||m||x?Ve(l)?d=l:Ka(l)?d=Uc(l):m?(g=!1,d=he(u,!0)):x?(g=!1,d=Oi(u,!0)):d=[]:Or(u)||Sr(u)?(d=l,Sr(l)?d=Wh(l):(!wt(l)||vo(l))&&(d=_h(u))):g=!1}g&&(a.set(u,d),i(d,u,n,s,a),a.delete(u)),Z(r,e,d)}var Uh=Gh;function qo(r,t,e,n,i){r!==t&&$t(t,function(s,a){if(i||(i=new I),wt(s))Uh(r,t,a,e,qo,n,i);else{var l=n?n(Go(r,a),s,a+"",r,t,i):void 0;l===void 0&&(l=s),Z(r,a,l)}},Ws)}var tu=qo;function qh(r,t){return qa(Ci(r,t,pr),r+"")}var as=qh;function Ug(r,t,e){if(!wt(e))return!1;var n=typeof t;return(n=="number"?rs(e)&&tn(t,e.length):n=="string"&&t in e)?yi(e[t],r):!1}var Jo=Ug;function qg(r){return as(function(t,e){var n=-1,i=e.length,s=i>1?e[i-1]:void 0,a=i>2?e[2]:void 0;for(s=r.length>3&&typeof s=="function"?(i--,s):void 0,a&&Jo(e[0],e[1],a)&&(s=i<3?void 0:s,i=1),t=Object(t);++n<i;){var l=e[n];l&&r(t,l,n,s)}return t})}var il=qg,Jh=il(function(r,t,e){tu(r,t,e)}),Ee=Jh,Jg="__lodash_hash_undefined__";function eu(r){return this.__data__.set(r,Jg),this}var Ft=eu;function Xg(r){return this.__data__.has(r)}var Yg=Xg;function Ei(r){var t=-1,e=r==null?0:r.length;for(this.__data__=new Hr;++t<e;)this.add(r[t])}Ei.prototype.add=Ei.prototype.push=Ft,Ei.prototype.has=Yg;var sl=Ei;function Zg(r,t){for(var e=-1,n=r==null?0:r.length;++e<n;)if(t(r[e],e,r))return!0;return!1}var Kg=Zg;function ir(r,t){return r.has(t)}var nu=ir,ol=1,ru=2;function Xh(r,t,e,n,i,s){var a=e&ol,l=r.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;var h=s.get(r),d=s.get(t);if(h&&d)return h==t&&d==r;var g=-1,p=!0,m=e&ru?new sl:void 0;for(s.set(r,t),s.set(t,r);++g<l;){var x=r[g],C=t[g];if(n)var O=a?n(C,x,g,t,r,s):n(x,C,g,r,t,s);if(O!==void 0){if(O)continue;p=!1;break}if(m){if(!Kg(t,function(R,L){if(!nu(m,L)&&(x===R||i(x,R,e,n,s)))return m.push(L)})){p=!1;break}}else if(!(x===C||i(x,C,e,n,s))){p=!1;break}}return s.delete(r),s.delete(t),p}var iu=Xh;function Gn(r){var t=-1,e=Array(r.size);return r.forEach(function(n,i){e[++t]=[i,n]}),e}var Mi=Gn;function su(r){var t=-1,e=Array(r.size);return r.forEach(function(n){e[++t]=n}),e}var al=su,ll=1,Yh=2,ou="[object Boolean]",Zh="[object Date]",au="[object Error]",lu="[object Map]",Ti="[object Number]",Qg="[object RegExp]",Ri="[object Set]",Kh="[object String]",Qh="[object Symbol]",cu="[object ArrayBuffer]",tp="[object DataView]",tf=me?me.prototype:void 0,uu=tf?tf.valueOf:void 0;function ef(r,t,e,n,i,s,a){switch(e){case tp:if(r.byteLength!=t.byteLength||r.byteOffset!=t.byteOffset)return!1;r=r.buffer,t=t.buffer;case cu:return!(r.byteLength!=t.byteLength||!s(new on(r),new on(t)));case ou:case Zh:case Ti:return yi(+r,+t);case au:return r.name==t.name&&r.message==t.message;case Qg:case Kh:return r==t+"";case lu:var l=Mi;case Ri:var u=n&ll;if(l||(l=al),r.size!=t.size&&!u)return!1;var h=a.get(r);if(h)return h==t;n|=Yh,a.set(r,t);var d=iu(l(r),l(t),n,i,s,a);return a.delete(r),d;case Qh:if(uu)return uu.call(r)==uu.call(t)}return!1}var nf=ef;function ep(r,t,e){var n=t(r);return Ve(r)?n:ut(n,e(r))}var hu=ep;function rf(r,t){for(var e=-1,n=r==null?0:r.length,i=0,s=[];++e<n;){var a=r[e];t(a,e,r)&&(s[i++]=a)}return s}var Bn=rf;function _r(){return[]}var sf=_r,np=Object.prototype,cl=np.propertyIsEnumerable,ls=Object.getOwnPropertySymbols,of=ls?function(r){return r==null?[]:(r=Object(r),Bn(ls(r),function(t){return cl.call(r,t)}))}:sf,ul=of,rp=Vt(Object.keys,Object),af=rp,Gs=Object.prototype,Xo=Gs.hasOwnProperty;function ip(r){if(!Za(r))return af(r);var t=[];for(var e in Object(r))Xo.call(r,e)&&e!="constructor"&&t.push(e);return t}var fu=ip;function lf(r){return rs(r)?$h(r):fu(r)}var Ii=lf;function cf(r){return hu(r,Ii,ul)}var Us=cf,du=1,hl=Object.prototype,sp=hl.hasOwnProperty;function uf(r,t,e,n,i,s){var a=e&du,l=Us(r),u=l.length,h=Us(t),d=h.length;if(u!=d&&!a)return!1;for(var g=u;g--;){var p=l[g];if(!(a?p in t:sp.call(t,p)))return!1}var m=s.get(r),x=s.get(t);if(m&&x)return m==t&&x==r;var C=!0;s.set(r,t),s.set(t,r);for(var O=a;++g<u;){p=l[g];var R=r[p],L=t[p];if(n)var M=a?n(L,R,p,t,r,s):n(R,L,p,r,t,s);if(!(M===void 0?R===L||i(R,L,e,n,s):M)){C=!1;break}O||(O=p=="constructor")}if(C&&!O){var k=r.constructor,z=t.constructor;k!=z&&"constructor"in r&&"constructor"in t&&!(typeof k=="function"&&k instanceof k&&typeof z=="function"&&z instanceof z)&&(C=!1)}return s.delete(r),s.delete(t),C}var fl=uf,hf=sn(le,"DataView"),Yo=hf,op=sn(le,"Promise"),dl=op,Qr=sn(le,"Set"),cs=Qr,ff=sn(le,"WeakMap"),gu=ff,pu="[object Map]",ap="[object Object]",df="[object Promise]",Er="[object Set]",gl="[object WeakMap]",pl="[object DataView]",mu=cr(Yo),ml=cr(hr),qs=cr(dl),St=cr(cs),yl=cr(gu),ti=Qe;(Yo&&ti(new Yo(new ArrayBuffer(1)))!=pl||hr&&ti(new hr)!=pu||dl&&ti(dl.resolve())!=df||cs&&ti(new cs)!=Er||gu&&ti(new gu)!=gl)&&(ti=function(r){var t=Qe(r),e=t==ap?r.constructor:void 0,n=e?cr(e):"";if(n)switch(n){case mu:return pl;case ml:return pu;case qs:return df;case St:return Er;case yl:return gl}return t});var sr=ti,lp=1,vl="[object Arguments]",yu="[object Array]",Je="[object Object]",cp=Object.prototype,gf=cp.hasOwnProperty;function pf(r,t,e,n,i,s){var a=Ve(r),l=Ve(t),u=a?yu:sr(r),h=l?yu:sr(t);u=u==vl?Je:u,h=h==vl?Je:h;var d=u==Je,g=h==Je,p=u==h;if(p&&Vs(r)){if(!Vs(t))return!1;a=!0,d=!1}if(p&&!d)return s||(s=new I),a||rl(r)?iu(r,t,e,n,i,s):nf(r,t,u,e,n,i,s);if(!(e&lp)){var m=d&&gf.call(r,"__wrapped__"),x=g&&gf.call(t,"__wrapped__");if(m||x){var C=m?r.value():r,O=x?t.value():t;return s||(s=new I),i(C,O,e,n,s)}}return p?(s||(s=new I),fl(r,t,e,n,i,s)):!1}var up=pf;function vu(r,t,e,n,i){return r===t?!0:r==null||t==null||!On(r)&&!On(t)?r!==r&&t!==t:up(r,t,e,n,vu,i)}var bu=vu;function hp(r,t){return bu(r,t)}var ei=hp,ni="[object Map]",En="[object Set]",xu=Object.prototype,fp=xu.hasOwnProperty;function wu(r){if(r==null)return!0;if(rs(r)&&(Ve(r)||typeof r=="string"||typeof r.splice=="function"||Vs(r)||rl(r)||Sr(r)))return!r.length;var t=sr(r);if(t==ni||t==En)return!r.size;if(Za(r))return!fu(r).length;for(var e in r)if(fp.call(r,e))return!1;return!0}var mf=wu;function dp(r,t){for(var e=-1,n=r==null?0:r.length;++e<n&&t(r[e],e,r)!==!1;);return r}var Zo=dp;function yf(r,t){return r&&Kr(t,Ii(t),r)}var vf=yf;function gp(r,t){return r&&Kr(t,Ws(t),r)}var pp=gp;function mp(r,t){return Kr(r,ul(r),t)}var yp=mp,bf=Object.getOwnPropertySymbols,xf=bf?function(r){for(var t=[];r;)ut(t,ul(r)),r=qc(r);return t}:sf,wf=xf;function Su(r,t){return Kr(r,wf(r),t)}var Sf=Su;function Ko(r){return hu(r,Ws,wf)}var Au=Ko,Af=Object.prototype,Cf=Af.hasOwnProperty;function bl(r){var t=r.length,e=new r.constructor(t);return t&&typeof r[0]=="string"&&Cf.call(r,"index")&&(e.index=r.index,e.input=r.input),e}var Pf=bl;function Mr(r,t){var e=t?Pr(r.buffer):r.buffer;return new r.constructor(e,r.byteOffset,r.byteLength)}var us=Mr,vp=/\w*$/;function Of(r){var t=new r.constructor(r.source,vp.exec(r));return t.lastIndex=r.lastIndex,t}var bp=Of,_f=me?me.prototype:void 0,Ef=_f?_f.valueOf:void 0;function xp(r){return Ef?Object(Ef.call(r)):{}}var wp=xp,Sp="[object Boolean]",Ap="[object Date]",Cp="[object Map]",Pp="[object Number]",Op="[object RegExp]",_p="[object Set]",Mf="[object String]",Tf="[object Symbol]",Rf="[object ArrayBuffer]",Ep="[object DataView]",Mp="[object Float32Array]",Tp="[object Float64Array]",If="[object Int8Array]",Rp="[object Int16Array]",Ip="[object Int32Array]",Lp="[object Uint8Array]",Np="[object Uint8ClampedArray]",Dp="[object Uint16Array]",Bp="[object Uint32Array]";function or(r,t,e){var n=r.constructor;switch(t){case Rf:return Pr(r);case Sp:case Ap:return new n(+r);case Ep:return us(r,e);case Mp:case Tp:case If:case Rp:case Ip:case Lp:case Np:case Dp:case Bp:return Oi(r,e);case Cp:return new n;case Pp:case Mf:return new n(r);case Op:return bp(r);case _p:return new n;case Tf:return wp(r)}}var kp=or,jp="[object Map]";function Fp(r){return On(r)&&sr(r)==jp}var Lf=Fp,Nf=He&&He.isMap,zp=Nf?Hs(Nf):Lf,$p=zp,Vp="[object Set]";function Cu(r){return On(r)&&sr(r)==Vp}var Hp=Cu,Df=He&&He.isSet,Wp=Df?Hs(Df):Hp,Gp=Wp,Up=1,qp=2,Jp=4,Bf="[object Arguments]",Xp="[object Array]",Yp="[object Boolean]",Zp="[object Date]",Kp="[object Error]",kf="[object Function]",Qp="[object GeneratorFunction]",tm="[object Map]",em="[object Number]",jf="[object Object]",nm="[object RegExp]",rm="[object Set]",im="[object String]",Pu="[object Symbol]",Ff="[object WeakMap]",sm="[object ArrayBuffer]",om="[object DataView]",am="[object Float32Array]",lm="[object Float64Array]",cm="[object Int8Array]",um="[object Int16Array]",hm="[object Int32Array]",fm="[object Uint8Array]",zf="[object Uint8ClampedArray]",dm="[object Uint16Array]",xl="[object Uint32Array]",ve={};ve[Bf]=ve[Xp]=ve[sm]=ve[om]=ve[Yp]=ve[Zp]=ve[am]=ve[lm]=ve[cm]=ve[um]=ve[hm]=ve[tm]=ve[em]=ve[jf]=ve[nm]=ve[rm]=ve[im]=ve[Pu]=ve[fm]=ve[zf]=ve[dm]=ve[xl]=!0,ve[Kp]=ve[kf]=ve[Ff]=!1;function wl(r,t,e,n,i,s){var a,l=t&Up,u=t&qp,h=t&Jp;if(e&&(a=i?e(r,n,i,s):e(r)),a!==void 0)return a;if(!wt(r))return r;var d=Ve(r);if(d){if(a=Pf(r),!l)return Uc(r,a)}else{var g=sr(r),p=g==kf||g==Qp;if(Vs(r))return he(r,l);if(g==jf||g==Bf||p&&!i){if(a=u||p?{}:_h(r),!l)return u?Sf(r,pp(a,r)):yp(r,vf(a,r))}else{if(!ve[g])return i?r:{};a=kp(r,g,l)}}s||(s=new I);var m=s.get(r);if(m)return m;s.set(r,a),Gp(r)?r.forEach(function(O){a.add(wl(O,t,e,O,r,s))}):$p(r)&&r.forEach(function(O,R){a.set(R,wl(O,t,e,R,r,s))});var x=h?u?Au:Us:u?Ws:Ii,C=d?void 0:x(r);return Zo(C||r,function(O,R){C&&(R=O,O=r[R]),Ar(a,R,wl(O,t,e,R,r,s))}),a}var $f=wl,gm=4;function pm(r){return $f(r,gm)}var Ou=pm,mm=1,ym=4;function vm(r){return $f(r,mm|ym)}var Me=vm,Vf=Object.prototype,bm=Vf.hasOwnProperty,xm=as(function(r,t){r=Object(r);var e=-1,n=t.length,i=n>2?t[2]:void 0;for(i&&Jo(t[0],t[1],i)&&(n=1);++e<n;)for(var s=t[e],a=Ws(s),l=-1,u=a.length;++l<u;){var h=a[l],d=r[h];(d===void 0||yi(d,Vf[h])&&!bm.call(r,h))&&(r[h]=s[h])}return r}),wm=xm;function Hf(r,t,e,n,i,s){return wt(r)&&wt(t)&&(s.set(t,r),tu(r,t,void 0,Hf,s),s.delete(t)),r}var Sm=Hf,Wf=il(function(r,t,e,n){tu(r,t,e,n)}),Gf=Wf,Am=as(function(r){return r.push(void 0,Sm),Ga(Gf,void 0,r)}),Uf=Am;function Cm(r,...t){t.forEach(e=>{Object.getOwnPropertyNames(e.prototype).forEach(n=>{n!=="constructor"&&Object.defineProperty(r.prototype,n,Object.getOwnPropertyDescriptor(e.prototype,n))})})}const Pm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])};function Sl(r,t){Pm(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}class Om{}const _m=/^\s*class\s+/.test(`${Om}`)||/^\s*class\s*\{/.test(`${class{}}`);function _u(r,t){let e;return _m?e=class extends t{}:(e=function(){return t.apply(this,arguments)},Sl(e,t)),Object.defineProperty(e,"name",{value:r}),e}function Em(r,t){return r!=null?r:t}function db(r,t,e){const n=r!=null?r[t]:null;return e!==void 0?Em(n,e):n}function gb(r,t,e){let n=r!=null?r[t]:null;return n==null||(n=+n,Number.isNaN(n)||!Number.isFinite(n))?e:n}function pb(r,t,e){const n=r!=null?r[t]:null;return n==null?e:!!n}function qf(r){return r==="__proto__"}function Eu(r,t,e="/"){let n;const i=Array.isArray(t)?t:t.split(e);if(i.length)for(n=r;i.length;){const s=i.shift();if(Object(n)===n&&s&&s in n)n=n[s];else return}return n}function Qo(r,t,e,n="/"){const i=Array.isArray(t)?t:t.split(n),s=i.pop();if(s&&!qf(s)){let a=r;i.forEach(l=>{qf(l)||(a[l]==null&&(a[l]={}),a=a[l])}),a[s]=e}return r}function Jf(r,t,e="/"){const n=Array.isArray(t)?t.slice():t.split(e),i=n.pop();if(i)if(n.length>0){const s=Eu(r,n);s&&delete s[i]}else delete r[i];return r}function Al(r,t="/",e){const n={};Object.keys(r).forEach(i=>{const s=r[i];let a=typeof s=="object"||Array.isArray(s);if(a&&e&&e(s)&&(a=!1),a){const l=Al(s,t,e);Object.keys(l).forEach(u=>{n[i+t+u]=l[u]})}else n[i]=s});for(const i in r)Object.prototype.hasOwnProperty.call(r,i);return n}class ar extends ga{}(function(r){r.dispose=ge.dispose})(ar||(ar={})),Cm(ar,ge);class Mm extends null{get disabled(){return this._disabled===!0}enable(){delete this._disabled}disable(){this._disabled=!0}}function Xf(r,t,e,n){for(var i=r.length,s=e+(n?1:-1);n?s--:++s<i;)if(t(r[s],s,r))return s;return-1}var Mu=Xf;function Yf(r){return r!==r}var Zf=Yf;function Kf(r,t,e){for(var n=e-1,i=r.length;++n<i;)if(r[n]===t)return n;return-1}var Qf=Kf;function Tm(r,t,e){return t===t?Qf(r,t,e):Mu(r,Zf,e)}var Rm=Tm;function Im(r,t){var e=r==null?0:r.length;return!!e&&Rm(r,t,0)>-1}var ta=Im;function Cl(r,t,e){for(var n=-1,i=r==null?0:r.length;++n<i;)if(e(t,r[n]))return!0;return!1}var td=Cl;function Lm(){}var Tu=Lm,ed=1/0,Nm=cs&&1/al(new cs([,-0]))[1]==ed?function(r){return new cs(r)}:Tu,Dm=Nm,Bm=200;function km(r,t,e){var n=-1,i=ta,s=r.length,a=!0,l=[],u=l;if(e)a=!1,i=td;else if(s>=Bm){var h=t?null:Dm(r);if(h)return al(h);a=!1,i=nu,u=new sl}else u=t?[]:l;t:for(;++n<s;){var d=r[n],g=t?t(d):d;if(d=e||d!==0?d:0,a&&g===g){for(var p=u.length;p--;)if(u[p]===g)continue t;t&&u.push(g),l.push(d)}else i(u,g,e)||(u!==l&&u.push(g),l.push(d))}return l}var nd=km;function jm(r){return r&&r.length?nd(r):[]}var Ru=jm,Fm=as(function(r){return nd(Cr(r,1,Ka,!0))}),Iu=Fm,zm=4294967295,$m=zm-1,Vm=Math.floor,xr=Math.min;function Hm(r,t,e,n){var i=0,s=r==null?0:r.length;if(s===0)return 0;t=e(t);for(var a=t!==t,l=t===null,u=gn(t),h=t===void 0;i<s;){var d=Vm((i+s)/2),g=e(r[d]),p=g!==void 0,m=g===null,x=g===g,C=gn(g);if(a)var O=n||x;else h?O=x&&(n||p):l?O=x&&p&&(n||!m):u?O=x&&p&&!m&&(n||!C):m||C?O=!1:O=n?g<=t:g<t;O?i=d+1:s=d}return xr(s,$m)}var rd=Hm,hs=4294967295,Tt=hs>>>1;function Wm(r,t,e){var n=0,i=r==null?n:r.length;if(typeof t=="number"&&t===t&&i<=Tt){for(;n<i;){var s=n+i>>>1,a=r[s];a!==null&&!gn(a)&&(e?a<=t:a<t)?n=s+1:i=s}return i}return rd(r,t,pr,e)}var kn=Wm;function Fe(r,t){return kn(r,t)}var id=Fe,Li=1,Gm=2;function Um(r,t,e,n){var i=e.length,s=i,a=!n;if(r==null)return!s;for(r=Object(r);i--;){var l=e[i];if(a&&l[2]?l[1]!==r[l[0]]:!(l[0]in r))return!1}for(;++i<s;){l=e[i];var u=l[0],h=r[u],d=l[1];if(a&&l[2]){if(h===void 0&&!(u in r))return!1}else{var g=new I;if(n)var p=n(h,d,u,r,t,g);if(!(p===void 0?bu(d,h,Li|Gm,n,g):p))return!1}}return!0}var qm=Um;function Jm(r){return r===r&&!wt(r)}var sd=Jm;function Lu(r){for(var t=Ii(r),e=t.length;e--;){var n=t[e],i=r[n];t[e]=[n,i,sd(i)]}return t}var Xm=Lu;function ri(r,t){return function(e){return e==null?!1:e[r]===t&&(t!==void 0||r in Object(e))}}var Nu=ri;function Pl(r){var t=Xm(r);return t.length==1&&t[0][2]?Nu(t[0][0],t[0][1]):function(e){return e===r||qm(e,r,t)}}var Pe=Pl;function Te(r,t,e){var n=r==null?void 0:Bs(r,t);return n===void 0?e:n}var od=Te,Ym=1,Zm=2;function Km(r,t){return yo(r)&&sd(t)?Nu(Wn(r),t):function(e){var n=od(e,r);return n===void 0&&n===t?Zi(e,r):bu(t,n,Ym|Zm)}}var Qm=Km;function ty(r){return function(t){return t==null?void 0:t[r]}}var ey=ty;function ad(r){return function(t){return Bs(t,r)}}var ea=ad;function Du(r){return yo(r)?ey(Wn(r)):ea(r)}var ny=Du;function ld(r){return typeof r=="function"?r:r==null?pr:typeof r=="object"?Ve(r)?Qm(r[0],r[1]):Pe(r):ny(r)}var Js=ld;function Un(r,t,e){return rd(r,t,Js(e,2))}var fs=Un;function ry(r,t){return r&&$t(r,t,Ii)}var iy=ry;function sy(r,t){return function(e,n){if(e==null)return e;if(!rs(e))return r(e,n);for(var i=e.length,s=t?i:-1,a=Object(e);(t?s--:++s<i)&&n(a[s],s,a)!==!1;);return e}}var oy=sy,ay=oy(iy),Bu=ay;function ii(r,t){var e=-1,n=rs(r)?Array(r.length):[];return Bu(r,function(i,s,a){n[++e]=t(i,s,a)}),n}var Nt=ii;function cd(r,t){var e=r.length;for(r.sort(t);e--;)r[e]=r[e].value;return r}var lr=cd;function ud(r,t){if(r!==t){var e=r!==void 0,n=r===null,i=r===r,s=gn(r),a=t!==void 0,l=t===null,u=t===t,h=gn(t);if(!l&&!h&&!s&&r>t||s&&a&&u&&!l&&!h||n&&a&&u||!e&&u||!i)return 1;if(!n&&!s&&!h&&r<t||h&&e&&i&&!n&&!s||l&&e&&i||!a&&i||!u)return-1}return 0}var ly=ud;function ae(r,t,e){for(var n=-1,i=r.criteria,s=t.criteria,a=i.length,l=e.length;++n<a;){var u=ly(i[n],s[n]);if(u){if(n>=l)return u;var h=e[n];return u*(h=="desc"?-1:1)}}return r.index-t.index}var cy=ae;function hd(r,t,e){t.length?t=Nn(t,function(s){return Ve(s)?function(a){return Bs(a,s.length===1?s[0]:s)}:s}):t=[pr];var n=-1;t=Nn(t,Hs(Js));var i=Nt(r,function(s,a,l){var u=Nn(t,function(h){return h(s)});return{criteria:u,index:++n,value:s}});return lr(i,function(s,a){return cy(s,a,e)})}var Ol=hd,uy=as(function(r,t){if(r==null)return[];var e=t.length;return e>1&&Jo(r,t[0],t[1])?t=[]:e>2&&Jo(t[0],t[1],t[2])&&(t=[t[0]]),Ol(r,Cr(t,1),[])}),fd=uy;function hy(r,t,e,n){for(var i=-1,s=r==null?0:r.length;++i<s;){var a=r[i];t(n,a,e(a),r)}return n}var fy=hy;function dy(r,t,e,n){return Bu(r,function(i,s,a){t(n,i,e(i),a)}),n}var gy=dy;function py(r,t){return function(e,n){var i=Ve(e)?fy:gy,s=t?t():{};return i(e,r,Js(n,2),s)}}var my=py,yy=Object.prototype,vy=yy.hasOwnProperty,by=my(function(r,t,e){vy.call(r,e)?r[e].push(t):Gr(r,e,[t])}),ku=by,xy=200;function ju(r,t,e,n){var i=-1,s=ta,a=!0,l=r.length,u=[],h=t.length;if(!l)return u;e&&(t=Nn(t,Hs(e))),n?(s=td,a=!1):t.length>=xy&&(s=nu,a=!1,t=new sl(t));t:for(;++i<l;){var d=r[i],g=e==null?d:e(d);if(d=n||d!==0?d:0,a&&g===g){for(var p=h;p--;)if(t[p]===g)continue t;u.push(d)}else s(t,g,n)||u.push(d)}return u}var wy=ju,Fu=as(function(r,t){return Ka(r)?wy(r,Cr(t,1,Ka,!0)):[]}),dd=Fu;function Sy(r,t,e){for(var n=-1,i=r.length;++n<i;){var s=r[n],a=t(s);if(a!=null&&(l===void 0?a===a&&!gn(a):e(a,l)))var l=a,u=s}return u}var Ay=Sy;function en(r,t){return r>t}var jn=en;function Cy(r){return r&&r.length?Ay(r,pr,jn):void 0}var gd=Cy,Py=0;function pd(r){var t=++Py;return Wr(r)+t}var mb=pd;function Oy(r,t,e,n){var i=-1,s=r==null?0:r.length;for(n&&s&&(e=r[++i]);++i<s;)e=t(e,r[i],i,r);return e}var _y=Oy;function md(r){return function(t){return r==null?void 0:r[t]}}var Ey=md,My={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Ty=Ey(My),yd=Ty,vd=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ry="\\u0300-\\u036f",Iy="\\ufe20-\\ufe2f",Ly="\\u20d0-\\u20ff",Ny=Ry+Iy+Ly,Xs="["+Ny+"]",Dy=RegExp(Xs,"g");function By(r){return r=Wr(r),r&&r.replace(vd,yd).replace(Dy,"")}var ky=By,jy=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function Fy(r){return r.match(jy)||[]}var bd=Fy,xd=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function zy(r){return xd.test(r)}var $y=zy,wd="\\ud800-\\udfff",Vy="\\u0300-\\u036f",Hy="\\ufe20-\\ufe2f",Wy="\\u20d0-\\u20ff",Gy=Vy+Hy+Wy,Sd="\\u2700-\\u27bf",Ad="a-z\\xdf-\\xf6\\xf8-\\xff",Uy="\\xac\\xb1\\xd7\\xf7",qy="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Jy="\\u2000-\\u206f",Xy=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Cd="A-Z\\xc0-\\xd6\\xd8-\\xde",Yy="\\ufe0e\\ufe0f",Pd=Uy+qy+Jy+Xy,Od="['\u2019]",_d="["+Pd+"]",Zy="["+Gy+"]",Ed="\\d+",Ky="["+Sd+"]",Md="["+Ad+"]",Td="[^"+wd+Pd+Ed+Sd+Ad+Cd+"]",Qy="\\ud83c[\\udffb-\\udfff]",tv="(?:"+Zy+"|"+Qy+")",zu="[^"+wd+"]",$u="(?:\\ud83c[\\udde6-\\uddff]){2}",Vu="[\\ud800-\\udbff][\\udc00-\\udfff]",Ys="["+Cd+"]",ev="\\u200d",Rd="(?:"+Md+"|"+Td+")",Hu="(?:"+Ys+"|"+Td+")",Id="(?:"+Od+"(?:d|ll|m|re|s|t|ve))?",Ld="(?:"+Od+"(?:D|LL|M|RE|S|T|VE))?",Nd=tv+"?",Mn="["+Yy+"]?",Wu="(?:"+ev+"(?:"+[zu,$u,Vu].join("|")+")"+Mn+Nd+")*",nv="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rv="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",iv=Mn+Nd+Wu,sv="(?:"+[Ky,$u,Vu].join("|")+")"+iv,Gu=RegExp([Ys+"?"+Md+"+"+Id+"(?="+[_d,Ys,"$"].join("|")+")",Hu+"+"+Ld+"(?="+[_d,Ys+Rd,"$"].join("|")+")",Ys+"?"+Rd+"+"+Id,Ys+"+"+Ld,rv,nv,Ed,sv].join("|"),"g");function ov(r){return r.match(Gu)||[]}var Uu=ov;function av(r,t,e){return r=Wr(r),t=e?void 0:t,t===void 0?$y(r)?Uu(r):bd(r):r.match(t)||[]}var lv=av,cv="['\u2019]",uv=RegExp(cv,"g");function Dd(r){return function(t){return _y(lv(ky(t).replace(uv,"")),r,"")}}var _l=Dd;function hv(r,t,e){var n=-1,i=r.length;t<0&&(t=-t>i?0:i+t),e=e>i?i:e,e<0&&(e+=i),i=t>e?0:e-t>>>0,t>>>=0;for(var s=Array(i);++n<i;)s[n]=r[n+t];return s}var fv=hv;function qu(r,t,e){var n=r.length;return e=e===void 0?n:e,!t&&e>=n?r:fv(r,t,e)}var Ju=qu,dv="\\ud800-\\udfff",gv="\\u0300-\\u036f",pv="\\ufe20-\\ufe2f",mv="\\u20d0-\\u20ff",yv=gv+pv+mv,vv="\\ufe0e\\ufe0f",bv="\\u200d",xv=RegExp("["+bv+dv+yv+vv+"]");function wv(r){return xv.test(r)}var Bd=wv;function Sv(r){return r.split("")}var Av=Sv,kd="\\ud800-\\udfff",Cv="\\u0300-\\u036f",Pv="\\ufe20-\\ufe2f",Ov="\\u20d0-\\u20ff",_v=Cv+Pv+Ov,Ev="\\ufe0e\\ufe0f",Mv="["+kd+"]",Xu="["+_v+"]",Yu="\\ud83c[\\udffb-\\udfff]",o="(?:"+Xu+"|"+Yu+")",c="[^"+kd+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",P="\\u200d",T=o+"?",D="["+Ev+"]?",j="(?:"+P+"(?:"+[c,f,v].join("|")+")"+D+T+")*",V=D+T+j,X="(?:"+[c+Xu+"?",Xu,f,v,Mv].join("|")+")",Y=RegExp(Yu+"(?="+Yu+")|"+X+V,"g");function Q(r){return r.match(Y)||[]}var at=Q;function vt(r){return Bd(r)?at(r):Av(r)}var Ct=vt;function kt(r){return function(t){t=Wr(t);var e=Bd(t)?Ct(t):void 0,n=e?e[0]:t.charAt(0),i=e?Ju(e,1).join(""):t.slice(1);return n[r]()+i}}var At=kt,Ht=At("toUpperCase"),zt=Ht,qn=_l(function(r,t,e){return r+(e?" ":"")+zt(t)}),yn=qn;function Jn(r){return zt(Wr(r).toLowerCase())}var ze=Jn,wr=_l(function(r,t,e){return t=t.toLowerCase(),r+(e?ze(t):t)}),Xn=wr,jd=_l(function(r,t,e){return r+(e?" ":"")+t.toUpperCase()}),Px=jd,Ox=_l(function(r,t,e){return r+(e?" ":"")+t.toLowerCase()}),Tv=Ox,_x=At("toLowerCase"),Ex=_x;const na=r=>{const t=Object.create(null);return e=>t[e]||(t[e]=r(e))},yb=na(r=>r.replace(/\B([A-Z])/g,"-$1").toLowerCase()),Rv=na(r=>yn(Xn(r)).replace(/ /g,"")),fC=na(r=>Px(r).replace(/ /g,"_")),dC=na(r=>Tv(r).replace(/ /g,".")),gC=na(r=>Tv(r).replace(/ /g,"/")),pC=na(r=>zt(Tv(r))),mC=na(r=>yn(Xn(r)));function Iv(r){let t=2166136261,e=!1,n=r;for(let i=0,s=n.length;i<s;i+=1){let a=n.charCodeAt(i);a>127&&!e&&(n=unescape(encodeURIComponent(n)),a=n.charCodeAt(i),e=!0),t^=a,t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24)}return t>>>0}function Lv(){let r="";const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";for(let e=0,n=t.length;e<n;e+=1){const i=t[e],s=Math.random()*16|0,a=i==="x"?s:i==="y"?s&3|8:i;r+=a.toString(16)}return r}function Mx(r,t,e){const n=Math.min(2,Math.floor(r.length*.34));let i=Math.floor(r.length*.4)+1,s,a=!1;const l=r.toLowerCase();for(const u of t){const h=e(u);if(h!==void 0&&Math.abs(h.length-l.length)<=n){const d=h.toLowerCase();if(d===l){if(h===r)continue;return u}if(a||h.length<3)continue;const g=Tx(l,d,i-1);if(g===void 0)continue;g<3?(a=!0,s=u):(i=g,s=u)}}return s}function Tx(r,t,e){let n=new Array(t.length+1),i=new Array(t.length+1);const s=e+1;for(let l=0;l<=t.length;l+=1)n[l]=l;for(let l=1;l<=r.length;l+=1){const u=r.charCodeAt(l-1),h=l>e?l-e:1,d=t.length>e+l?e+l:t.length;i[0]=l;let g=l;for(let m=1;m<h;m+=1)i[m]=s;for(let m=h;m<=d;m+=1){const x=u===t.charCodeAt(m-1)?n[m-1]:Math.min(n[m]+1,i[m-1]+1,n[m-1]+2);i[m]=x,g=Math.min(g,x)}for(let m=d+1;m<=t.length;m+=1)i[m]=s;if(g>e)return;const p=n;n=i,i=p}const a=n[t.length];return a>e?void 0:a}var Rx="[object Number]";function Ix(r){return typeof r=="number"||On(r)&&Qe(r)==Rx}var vb=Ix;function Lx(r,t,e){return r===r&&(e!==void 0&&(r=r<=e?r:e),t!==void 0&&(r=r>=t?r:t)),r}var Nx=Lx;function Dx(r,t,e){return e===void 0&&(e=t,t=void 0),e!==void 0&&(e=Fr(e),e=e===e?e:0),t!==void 0&&(t=Fr(t),t=t===t?t:0),Nx(Fr(r),t,e)}var Tr=Dx;function yC(r,t){return(r%t+t)%t}function vC(r,t){if(t==null)t=r==null?1:r,r=0;else if(t<r){const e=r;r=t,t=e}return Math.floor(Math.random()*(t-r+1)+r)}function ds(r){return typeof r=="string"&&r.slice(-1)==="%"}function si(r,t){if(r==null)return 0;let e;if(typeof r=="string"){if(e=parseFloat(r),ds(r)&&(e/=100,Number.isFinite(e)))return e*t}else e=r;return Number.isFinite(e)?e>0&&e<1?e*t:e:0}function bC(r,t){function e(a){const l=new RegExp(`(?:\\d+(?:\\.\\d+)*)(${a})$`).exec(r);return l?l[1]:null}const n=parseFloat(r);if(Number.isNaN(n))return null;let i;if(t==null)i="[A-Za-z]*";else if(Array.isArray(t)){if(t.length===0)return null;i=t.join("|")}else typeof t=="string"&&(i=t);const s=e(i);return s===null?null:{unit:s,value:n}}function ra(r){if(typeof r=="object"){let e=0,n=0,i=0,s=0;return r.vertical!=null&&Number.isFinite(r.vertical)&&(n=s=r.vertical),r.horizontal!=null&&Number.isFinite(r.horizontal)&&(i=e=r.horizontal),r.left!=null&&Number.isFinite(r.left)&&(e=r.left),r.top!=null&&Number.isFinite(r.top)&&(n=r.top),r.right!=null&&Number.isFinite(r.right)&&(i=r.right),r.bottom!=null&&Number.isFinite(r.bottom)&&(s=r.bottom),{top:n,right:i,bottom:s,left:e}}let t=0;return r!=null&&Number.isFinite(r)&&(t=r),{top:t,right:t,bottom:t,left:t}}let Nv=!1,bb=!1,xb=!1,wb=!1,Sb=!1,Ab=!1,Cb=!1,Pb=!1,Ob=!1,_b=!1,Eb=!1,Mb=!1,Tb=!1,Rb=!1,Ib=!1,Lb=!1;if(typeof navigator=="object"){const r=navigator.userAgent;Nv=r.indexOf("Macintosh")>=0,bb=!!r.match(/(iPad|iPhone|iPod)/g),xb=r.indexOf("Windows")>=0,wb=r.indexOf("MSIE")>=0,Sb=!!r.match(/Trident\/7\./),Ab=!!r.match(/Edge\//),Cb=r.indexOf("Mozilla/")>=0&&r.indexOf("MSIE")<0&&r.indexOf("Edge/")<0,Ob=r.indexOf("Chrome/")>=0&&r.indexOf("Edge/")<0,_b=r.indexOf("Opera/")>=0||r.indexOf("OPR/")>=0,Eb=r.indexOf("Firefox/")>=0,Mb=r.indexOf("AppleWebKit/")>=0&&r.indexOf("Chrome/")<0&&r.indexOf("Edge/")<0,typeof document=="object"&&(Lb=!document.createElementNS||`${document.createElementNS("http://www.w3.org/2000/svg","foreignObject")}`!="[object SVGForeignObjectElement]"||r.indexOf("Opera/")>=0)}if(typeof window=="object"&&(Pb=window.chrome!=null&&window.chrome.app!=null&&window.chrome.app.runtime!=null,Rb=window.PointerEvent!=null&&!Nv),typeof document=="object"){Tb="ontouchstart"in document.documentElement;try{const r=Object.defineProperty({},"passive",{get(){Ib=!0}}),t=document.createElement("div");t.addEventListener&&t.addEventListener("click",()=>{},r)}catch(r){}}var Zs;(function(r){r.IS_MAC=Nv,r.IS_IOS=bb,r.IS_WINDOWS=xb,r.IS_IE=wb,r.IS_IE11=Sb,r.IS_EDGE=Ab,r.IS_NETSCAPE=Cb,r.IS_CHROME_APP=Pb,r.IS_CHROME=Ob,r.IS_OPERA=_b,r.IS_FIREFOX=Eb,r.IS_SAFARI=Mb,r.SUPPORT_TOUCH=Tb,r.SUPPORT_POINTER=Rb,r.SUPPORT_PASSIVE=Ib,r.NO_FOREIGNOBJECT=Lb,r.SUPPORT_FOREIGNOBJECT=!r.NO_FOREIGNOBJECT})(Zs||(Zs={})),function(r){function t(){const s=window.module;return s!=null&&s.hot!=null&&s.hot.status!=null?s.hot.status():"unkonwn"}r.getHMRStatus=t;function e(){return t()==="apply"}r.isApplyingHMR=e;const n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};function i(s){const a=document.createElement(n[s]||"div"),l=`on${s}`;let u=l in a;return u||(a.setAttribute(l,"return;"),u=typeof a[l]=="function"),u}r.isEventSupported=i}(Zs||(Zs={}));const Dv=/[\t\r\n\f]/g,Bv=/\S+/g,El=r=>` ${r} `;function Ml(r){return r&&r.getAttribute&&r.getAttribute("class")||""}function Tl(r,t){if(r==null||t==null)return!1;const e=El(Ml(r)),n=El(t);return r.nodeType===1?e.replace(Dv," ").includes(n):!1}function se(r,t){if(!(r==null||t==null)){if(typeof t=="function")return se(r,t(Ml(r)));if(typeof t=="string"&&r.nodeType===1){const e=t.match(Bv)||[],n=El(Ml(r)).replace(Dv," ");let i=e.reduce((s,a)=>s.indexOf(El(a))<0?`${s}${a} `:s,n);i=i.trim(),n!==i&&r.setAttribute("class",i)}}}function Rr(r,t){if(r!=null){if(typeof t=="function")return Rr(r,t(Ml(r)));if((!t||typeof t=="string")&&r.nodeType===1){const e=(t||"").match(Bv)||[],n=El(Ml(r)).replace(Dv," ");let i=e.reduce((s,a)=>{const l=El(a);return s.indexOf(l)>-1?s.replace(l," "):s},n);i=t?i.trim():"",n!==i&&r.setAttribute("class",i)}}}function Nb(r,t,e){if(!(r==null||t==null)){if(e!=null&&typeof t=="string"){e?se(r,t):Rr(r,t);return}if(typeof t=="function")return Nb(r,t(Ml(r),e),e);typeof t=="string"&&(t.match(Bv)||[]).forEach(i=>{Tl(r,i)?Rr(r,i):se(r,i)})}}let Db=0;function Bx(){return Db+=1,`v${Db}`}function kv(r){return(r.id==null||r.id==="")&&(r.id=Bx()),r.id}function Ks(r){return r==null?!1:typeof r.getScreenCTM=="function"&&r instanceof SVGElement}const vn={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},Bb="1.1";function kb(r,t=document){return t.createElement(r)}function jv(r,t=vn.xhtml,e=document){return e.createElementNS(t,r)}function gs(r,t=document){return jv(r,vn.svg,t)}function Fd(r){if(r){const e=`<svg xmlns="${vn.svg}" xmlns:xlink="${vn.xlink}" version="${Bb}">${r}</svg>`,{documentElement:n}=kx(e,{async:!1});return n}const t=document.createElementNS(vn.svg,"svg");return t.setAttributeNS(vn.xmlns,"xmlns:xlink",vn.xlink),t.setAttribute("version",Bb),t}function kx(r,t={}){let e;try{const n=new DOMParser;if(t.async!=null){const i=n;i.async=t.async}e=n.parseFromString(r,t.mimeType||"text/xml")}catch(n){e=void 0}if(!e||e.getElementsByTagName("parsererror").length)throw new Error(`Invalid XML: ${r}`);return e}function jx(r,t=!0){const e=r.nodeName;return t?e.toLowerCase():e.toUpperCase()}function Fv(r){let t=0,e=r.previousSibling;for(;e;)e.nodeType===1&&(t+=1),e=e.previousSibling;return t}function Fx(r,t){return r.querySelectorAll(t)}function zx(r,t){return r.querySelector(t)}function jb(r,t,e){const n=r.ownerSVGElement;let i=r.parentNode;for(;i&&i!==e&&i!==n;){if(Tl(i,t))return i;i=i.parentNode}return null}function Fb(r,t){const e=t&&t.parentNode;return r===e||!!(e&&e.nodeType===1&&r.compareDocumentPosition(e)&16)}function Rl(r){r&&(Array.isArray(r)?r:[r]).forEach(e=>{e.parentNode&&e.parentNode.removeChild(e)})}function Zu(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function Ku(r,t){(Array.isArray(t)?t:[t]).forEach(n=>{n!=null&&r.appendChild(n)})}function $x(r,t){const e=r.firstChild;return e?zv(e,t):Ku(r,t)}function zv(r,t){const e=r.parentNode;e&&(Array.isArray(t)?t:[t]).forEach(i=>{i!=null&&e.insertBefore(i,r)})}function xC(r,t){const e=r.parentNode;e&&(Array.isArray(t)?t:[t]).forEach(i=>{i!=null&&e.insertBefore(i,r.nextSibling)})}function Vx(r,t){t!=null&&t.appendChild(r)}function Hx(r){return!!r&&r.nodeType===1}function zb(r){try{return r instanceof HTMLElement}catch(t){return typeof r=="object"&&r.nodeType===1&&typeof r.style=="object"&&typeof r.ownerDocument=="object"}}function wC(r,t){const e=[];let n=r.firstChild;for(;n;n=n.nextSibling)n.nodeType===1&&(!t||Tl(n,t))&&e.push(n);return e}const $b=["viewBox","attributeName","attributeType","repeatCount","textLength","lengthAdjust"];function Wx(r,t){return r.getAttribute(t)}function Vb(r,t){const e=Wb(t);e.ns?r.hasAttributeNS(e.ns,e.local)&&r.removeAttributeNS(e.ns,e.local):r.hasAttribute(t)&&r.removeAttribute(t)}function $v(r,t,e){if(e==null)return Vb(r,t);const n=Wb(t);n.ns&&typeof e=="string"?r.setAttributeNS(n.ns,t,e):t==="id"?r.id=`${e}`:r.setAttribute(t,`${e}`)}function Hb(r,t){Object.keys(t).forEach(e=>{$v(r,e,t[e])})}function xe(r,t,e){if(t==null){const n=r.attributes,i={};for(let s=0;s<n.length;s+=1)i[n[s].name]=n[s].value;return i}if(typeof t=="string"&&e===void 0)return r.getAttribute(t);typeof t=="object"?Hb(r,t):$v(r,t,e)}function Wb(r){if(r.indexOf(":")!==-1){const t=r.split(":");return{ns:vn[t[0]],local:t[1]}}return{ns:null,local:r}}function Qu(r){const t={};return Object.keys(r).forEach(e=>{const n=$b.includes(e)?e:yb(e);t[n]=r[e]}),t}function zd(r){const t={};return r.split(";").forEach(n=>{const i=n.trim();if(i){const s=i.split("=");s.length&&(t[s[0].trim()]=s[1]?s[1].trim():"")}}),t}function Vv(r,t){return Object.keys(t).forEach(e=>{if(e==="class")r[e]=r[e]?`${r[e]} ${t[e]}`:t[e];else if(e==="style"){const n=typeof r[e]=="object",i=typeof t[e]=="object";let s,a;n&&i?(s=r[e],a=t[e]):n?(s=r[e],a=zd(t[e])):i?(s=zd(r[e]),a=t[e]):(s=zd(r[e]),a=zd(t[e])),r[e]=Vv(s,a)}else r[e]=t[e]}),r}function Gx(r,t,e={}){const n=e.offset||0,i=[],s=[];let a,l,u=null;for(let h=0;h<r.length;h+=1){a=s[h]=r[h];for(let d=0,g=t.length;d<g;d+=1){const p=t[d],m=p.start+n,x=p.end+n;h>=m&&h<x&&(typeof a=="string"?a=s[h]={t:r[h],attrs:p.attrs}:a.attrs=Vv(Vv({},a.attrs),p.attrs),e.includeAnnotationIndices&&(a.annotations==null&&(a.annotations=[]),a.annotations.push(d)))}l=s[h-1],l?wt(a)&&wt(l)?(u=u,JSON.stringify(a.attrs)===JSON.stringify(l.attrs)?u.t+=a.t:(i.push(u),u=a)):wt(a)||wt(l)?(u=u,i.push(u),u=a):u=(u||"")+a:u=a}return u!=null&&i.push(u),i}function SC(r,t){return r?r.filter(e=>e.start<t&&t<=e.end):[]}function AC(r,t,e){return r?r.filter(n=>t>=n.start&&t<n.end||e>n.start&&e<=n.end||n.start>=t&&n.end<e):[]}function CC(r,t,e){return r&&r.forEach(n=>{n.start<t&&n.end>=t?n.end+=e:n.start>=t&&(n.start+=e,n.end+=e)}),r}function Ux(r){return r.replace(/ /g,"\xA0")}var Gb;(function(r){function t(h){const d="data:";return h.substr(0,d.length)===d}r.isDataUrl=t;function e(h,d){if(!h||t(h)){setTimeout(()=>d(null,h));return}const g=()=>{d(new Error(`Failed to load image: ${h}`))},p=window.FileReader?x=>{if(x.status===200){const C=new FileReader;C.onload=O=>{const R=O.target.result;d(null,R)},C.onerror=g,C.readAsDataURL(x.response)}else g()}:x=>{const C=O=>{const L=[];for(let M=0;M<O.length;M+=32768)L.push(String.fromCharCode.apply(null,O.subarray(M,M+32768)));return L.join("")};if(x.status===200){let O=h.split(".").pop()||"png";O==="svg"&&(O="svg+xml");const R=`data:image/${O};base64,`,L=new Uint8Array(x.response),M=R+btoa(C(L));d(null,M)}else g()},m=new XMLHttpRequest;m.responseType=window.FileReader?"blob":"arraybuffer",m.open("GET",h,!0),m.addEventListener("error",g),m.addEventListener("load",()=>p(m)),m.send()}r.imageToDataUri=e;function n(h){let d=h.replace(/\s/g,"");d=decodeURIComponent(d);const g=d.indexOf(","),p=d.slice(0,g),m=p.split(":")[1].split(";")[0],x=d.slice(g+1);let C;p.indexOf("base64")>=0?C=atob(x):C=unescape(encodeURIComponent(x));const O=new Uint8Array(C.length);for(let R=0;R<C.length;R+=1)O[R]=C.charCodeAt(R);return new Blob([O],{type:m})}r.dataUriToBlob=n;function i(h,d){const g=window.navigator.msSaveBlob;if(g)g(h,d);else{const p=window.URL.createObjectURL(h),m=document.createElement("a");m.href=p,m.download=d,document.body.appendChild(m),m.click(),document.body.removeChild(m),window.URL.revokeObjectURL(p)}}r.downloadBlob=i;function s(h,d){const g=n(h);i(g,d)}r.downloadDataUri=s;function a(h){const d=h.match(/<svg[^>]*viewBox\s*=\s*(["']?)(.+?)\1[^>]*>/i);return d&&d[2]?d[2].replace(/\s+/," ").split(" "):null}function l(h){const d=parseFloat(h);return Number.isNaN(d)?null:d}function u(h,d={}){let g=null;const p=M=>(g==null&&(g=a(h)),g!=null?l(g[M]):null),m=M=>{const k=h.match(M);return k&&k[2]?l(k[2]):null};let x=d.width;if(x==null&&(x=m(/<svg[^>]*width\s*=\s*(["']?)(.+?)\1[^>]*>/i)),x==null&&(x=p(2)),x==null)throw new Error("Can not parse width from svg string");let C=d.height;if(C==null&&(C=m(/<svg[^>]*height\s*=\s*(["']?)(.+?)\1[^>]*>/i)),C==null&&(C=p(3)),C==null)throw new Error("Can not parse height from svg string");return`data:image/svg+xml,${encodeURIComponent(h).replace(/'/g,"%27").replace(/"/g,"%22")}`}r.svgToDataUrl=u})(Gb||(Gb={}));let ia;const qx={px(r){return r},mm(r){return ia*r},cm(r){return ia*r*10},in(r){return ia*r*25.4},pt(r){return ia*(25.4*r/72)},pc(r){return ia*(25.4*r/6)}};var Ub;(function(r){function t(n,i,s){const a=document.createElement("div"),l=a.style;l.display="inline-block",l.position="absolute",l.left="-15000px",l.top="-15000px",l.width=n+(s||"px"),l.height=i+(s||"px"),document.body.appendChild(a);const u=a.getBoundingClientRect(),h={width:u.width||0,height:u.height||0};return document.body.removeChild(a),h}r.measure=t;function e(n,i){ia==null&&(ia=t("1","1","mm").width);const s=i?qx[i]:null;return s?s(n):n}r.toPx=e})(Ub||(Ub={}));const Jx=/-(.)/g;function Xx(r){return r.replace(Jx,(t,e)=>e.toUpperCase())}const Hv={},qb=["webkit","ms","moz","o"],Jb=document?document.createElement("div").style:{};function Yx(r){for(let t=0;t<qb.length;t+=1){const e=qb[t]+r;if(e in Jb)return e}return null}function Xb(r){const t=Xx(r);if(Hv[t]==null){const e=t.charAt(0).toUpperCase()+t.slice(1);Hv[t]=t in Jb?t:Yx(e)}return Hv[t]}function PC(r,t,e){const n=Xb(t);n!=null&&(r[n]=e),r[t]=e}function Wv(r,t){const e=r.ownerDocument&&r.ownerDocument.defaultView&&r.ownerDocument.defaultView.opener?r.ownerDocument.defaultView.getComputedStyle(r,null):window.getComputedStyle(r,null);return e&&t?e.getPropertyValue(t)||e[t]:e}function OC(r){const t=Wv(r);return t!=null&&(t.overflow==="scroll"||t.overflow==="auto")}const _C=function(){const r=document;return r.selection?function(){r.selection.empty()}:window.getSelection?function(){const t=window.getSelection();t&&(t.empty?t.empty():t.removeAllRanges&&t.removeAllRanges())}:function(){}}(),Zx={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function Kx(r){return/^--/.test(r)}function $d(r,t,e){const n=window.getComputedStyle(r,null);return e?n.getPropertyValue(t)||void 0:n[t]||r.style[t]}function Vd(r,t){return parseInt($d(r,t),10)||0}function Qx(r,t){return!Zx[r]&&typeof t=="number"?`${t}px`:t}function th(r,t,e){if(typeof t=="string"){const n=Kx(t);if(n||(t=Xb(t)),e===void 0)return $d(r,t,n);n||(e=Qx(t,e));const i=r.style;n?i.setProperty(t,e):i[t]=e;return}for(const n in t)th(r,n,t[n])}const Hd=new WeakMap;function Yb(r,t){const e=Xn(t),n=Hd.get(r);if(n)return n[e]}function tw(r,t,e){const n=Xn(t),i=Hd.get(r);i?i[n]=e:Hd.set(r,{[n]:e})}function sa(r,t,e){if(!t){const n={};return Object.keys(Hd).forEach(i=>{n[i]=Yb(r,i)}),n}if(typeof t=="string"){if(e===void 0)return Yb(r,t);tw(r,t,e);return}for(const n in t)sa(r,n,t[n])}const ew={class:"className",contenteditable:"contentEditable",for:"htmlFor",readonly:"readOnly",maxlength:"maxLength",tabindex:"tabIndex",colspan:"colSpan",rowspan:"rowSpan",usemap:"useMap"};function nw(r,t,e){if(t){if(typeof t=="string"){if(t=ew[t]||t,arguments.length<3)return r[t];r[t]=e;return}for(const n in t)nw(r,n,t[n])}}class _t{get[Symbol.toStringTag](){return _t.toStringTag}get type(){return this.node.nodeName}get id(){return this.node.id}set id(t){this.node.id=t}constructor(t,e,n){if(!t)throw new TypeError("Invalid element to create vector");let i;if(_t.isVector(t))i=t.node;else if(typeof t=="string")if(t.toLowerCase()==="svg")i=Fd();else if(t[0]==="<"){const s=Fd(t);i=document.importNode(s.firstChild,!0)}else i=document.createElementNS(vn.svg,t);else i=t;this.node=i,e&&this.setAttributes(e),n&&this.append(n)}transform(t,e){return t==null?Ll(this.node):(Ll(this.node,t,e),this)}translate(t,e=0,n={}){return t==null?s0(this.node):(s0(this.node,t,e,n),this)}rotate(t,e,n,i={}){return t==null?qv(this.node):(qv(this.node,t,e,n,i),this)}scale(t,e){return t==null?Jv(this.node):(Jv(this.node,t,e),this)}getTransformToElement(t){const e=_t.toNode(t);return ih(this.node,e)}removeAttribute(t){return Vb(this.node,t),this}getAttribute(t){return Wx(this.node,t)}setAttribute(t,e){return $v(this.node,t,e),this}setAttributes(t){return Hb(this.node,t),this}attr(t,e){return t==null?xe(this.node):typeof t=="string"&&e===void 0?xe(this.node,t):(typeof t=="object"?xe(this.node,t):xe(this.node,t,e),this)}svg(){return this.node instanceof SVGSVGElement?this:_t.create(this.node.ownerSVGElement)}defs(){const t=this.svg()||this,e=t.node.getElementsByTagName("defs")[0];return e?_t.create(e):_t.create("defs").appendTo(t)}text(t,e={}){return Qb(this.node,t,e),this}tagName(){return jx(this.node)}clone(){return _t.create(this.node.cloneNode(!0))}remove(){return Rl(this.node),this}empty(){return Zu(this.node),this}append(t){return Ku(this.node,_t.toNodes(t)),this}appendTo(t){return Vx(this.node,_t.isVector(t)?t.node:t),this}prepend(t){return $x(this.node,_t.toNodes(t)),this}before(t){return zv(this.node,_t.toNodes(t)),this}replace(t){return this.node.parentNode&&this.node.parentNode.replaceChild(_t.toNode(t),this.node),_t.create(t)}first(){return this.node.firstChild?_t.create(this.node.firstChild):null}last(){return this.node.lastChild?_t.create(this.node.lastChild):null}get(t){const e=this.node.childNodes[t];return e?_t.create(e):null}indexOf(t){return Array.prototype.slice.call(this.node.childNodes).indexOf(_t.toNode(t))}find(t){const e=[],n=Fx(this.node,t);if(n)for(let i=0,s=n.length;i<s;i+=1)e.push(_t.create(n[i]));return e}findOne(t){const e=zx(this.node,t);return e?_t.create(e):null}findParentByClass(t,e){const n=jb(this.node,t,e);return n?_t.create(n):null}matches(t){const e=this.node,n=this.node.matches,i=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector||null;return i&&i.call(e,t)}contains(t){return Fb(this.node,_t.isVector(t)?t.node:t)}wrap(t){const e=_t.create(t),n=this.node.parentNode;return n!=null&&n.insertBefore(e.node,this.node),e.append(this)}parent(t){let e=this;if(e.node.parentNode==null)return null;if(e=_t.create(e.node.parentNode),t==null)return e;do if(typeof t=="string"?e.matches(t):e instanceof t)return e;while(e=_t.create(e.node.parentNode));return e}children(){const t=this.node.childNodes,e=[];for(let n=0;n<t.length;n+=1)t[n].nodeType===1&&e.push(_t.create(t[n]));return e}eachChild(t,e){const n=this.children();for(let i=0,s=n.length;i<s;i+=1)t.call(n[i],n[i],i,n),e&&n[i].eachChild(t,e);return this}index(){return Fv(this.node)}hasClass(t){return Tl(this.node,t)}addClass(t){return se(this.node,t),this}removeClass(t){return Rr(this.node,t),this}toggleClass(t,e){return Nb(this.node,t,e),this}toLocalPoint(t,e){return Aw(this.node,t,e)}sample(t=1){return this.node instanceof SVGPathElement?aw(this.node,t):[]}toPath(){return _t.create(gw(this.node))}toPathData(){return r0(this.node)}}(function(r){r.toStringTag=`X6.${r.name}`;function t(a){if(a==null)return!1;if(a instanceof r)return!0;const l=a[Symbol.toStringTag],u=a;return(l==null||l===r.toStringTag)&&u.node instanceof SVGElement&&typeof u.sample=="function"&&typeof u.toPath=="function"}r.isVector=t;function e(a,l,u){return new r(a,l,u)}r.create=e;function n(a){if(a[0]==="<"){const l=Fd(a),u=[];for(let h=0,d=l.childNodes.length;h<d;h+=1){const g=l.childNodes[h];u.push(e(document.importNode(g,!0)))}return u}return[e(a)]}r.createVectors=n;function i(a){return t(a)?a.node:a}r.toNode=i;function s(a){return Array.isArray(a)?a.map(l=>i(l)):[i(a)]}r.toNodes=s})(_t||(_t={}));const Zb=document.createElement("canvas").getContext("2d");function rw(r,t){const e=_t.create(t),n=_t.create("textPath"),i=r.d;if(i&&r["xlink:href"]===void 0){const s=_t.create("path").attr("d",i).appendTo(e.defs());n.attr("xlink:href",`#${s.id}`)}return typeof r=="object"&&n.attr(r),n.node}function iw(r,t,e){const n=e.eol,i=e.baseSize,s=e.lineHeight;let a=0,l;const u={},h=t.length-1;for(let d=0;d<=h;d+=1){let g=t[d],p=null;if(typeof g=="object"){const m=g.attrs,x=_t.create("tspan",m);l=x.node;let C=g.t;n&&d===h&&(C+=n),l.textContent=C;const O=m.class;O&&x.addClass(O),e.includeAnnotationIndices&&x.attr("annotations",g.annotations.join(",")),p=parseFloat(m["font-size"]),p===void 0&&(p=i),p&&p>a&&(a=p)}else n&&d===h&&(g+=n),l=document.createTextNode(g||" "),i&&i>a&&(a=i);r.appendChild(l)}return a&&(u.maxFontSize=a),s?u.lineHeight=s:a&&(u.lineHeight=a*1.2),u}const Kb=/em$/;function Wd(r,t){const e=parseFloat(r);return Kb.test(r)?e*t:e}function sw(r,t,e,n){if(!Array.isArray(t))return 0;const i=t.length;if(!i)return 0;let s=t[0];const a=Wd(s.maxFontSize,e)||e;let l=0;const u=Wd(n,e);for(let g=1;g<i;g+=1){s=t[g];const p=Wd(s.lineHeight,e)||u;l+=p}const h=Wd(s.maxFontSize,e)||e;let d;switch(r){case"middle":d=a/2-.15*h-l/2;break;case"bottom":d=-(.25*h)-l;break;case"top":default:d=.8*a;break}return d}function Qb(r,t,e={}){t=Ux(t);const n=e.eol;let i=e.textPath;const s=e.textVerticalAnchor,a=s==="middle"||s==="bottom"||s==="top";let l=e.x;l===void 0&&(l=r.getAttribute("x")||0);const u=e.includeAnnotationIndices;let h=e.annotations;h&&!Array.isArray(h)&&(h=[h]);const d=e.lineHeight,g=d==="auto",p=g?"1.5em":d||"1em";let m=!0;const x=r.children;x.length===1&&x[0].tagName.toUpperCase()==="TITLE"&&(m=!1),m&&Zu(r),xe(r,{"xml:space":"preserve",display:t||e.displayEmpty?null:"none"});const C=xe(r,"font-size");let O=parseFloat(C);O||(O=16,(a||h)&&!C&&xe(r,"font-size",`${O}`));let R;i?(typeof i=="string"&&(i={d:i}),R=rw(i,r)):R=document.createDocumentFragment();let L,M=0,k;const z=t.split(`
`),H=[],K=z.length-1;for(let it=0;it<=K;it+=1){L=p;let gt="v-line";const ot=gs("tspan");let pt,Ae=z[it];if(Ae)if(h){const Ut=Gx(Ae,h,{offset:-M,includeAnnotationIndices:u});pt=iw(ot,Ut,{eol:it!==K&&n,baseSize:O,lineHeight:g?null:p,includeAnnotationIndices:u});const G=pt.lineHeight;G&&g&&it!==0&&(L=G),it===0&&(k=pt.maxFontSize*.8)}else n&&it!==K&&(Ae+=n),ot.textContent=Ae;else{ot.textContent="-",gt+=" v-empty-line";const Ut=ot.style;Ut.fillOpacity=0,Ut.strokeOpacity=0,h&&(pt={})}pt&&H.push(pt),it>0&&ot.setAttribute("dy",L),(it>0||i)&&ot.setAttribute("x",l),ot.className.baseVal=gt,R.appendChild(ot),M+=Ae.length+1}if(a)if(h)L=sw(s,H,O,p);else if(s==="top")L="0.8em";else{let it;switch(K>0?(it=parseFloat(p)||1,it*=K,Kb.test(p)||(it/=O)):it=0,s){case"middle":L=`${.3-it/2}em`;break;case"bottom":L=`${-it-.3}em`;break;default:break}}else s===0?L="0em":s?L=s:(L=0,r.getAttribute("y")==null&&r.setAttribute("y",`${k||"0.8em"}`));R.firstChild.setAttribute("dy",L),r.appendChild(R)}function eh(r,t={}){if(!r)return{width:0};const e=[],n=t["font-size"]?`${parseFloat(t["font-size"])}px`:"14px";return e.push(t["font-style"]||"normal"),e.push(t["font-variant"]||"normal"),e.push(t["font-weight"]||400),e.push(n),e.push(t["font-family"]||"sans-serif"),Zb.font=e.join(" "),Zb.measureText(r)}function t0(r,t,e,n={}){if(t>=e)return[r,""];const i=r.length,s={};let a=Math.round(t/e*i-1);for(a<0&&(a=0);a>=0&&a<i;){const l=r.slice(0,a),u=s[l]||eh(l,n).width,h=r.slice(0,a+1),d=s[h]||eh(h,n).width;if(s[l]=u,s[h]=d,u>t)a-=1;else if(d<=t)a+=1;else break}return[r.slice(0,a),r.slice(a)]}function ow(r,t,e={},n={}){const i=t.width,s=t.height,a=n.eol||`
`,{width:l}=eh(r,e);if(l<i)return r;const u=[],h=e.fontSize||14,d=e.lineHeight?parseFloat(e.lineHeight):Math.ceil(h*1.4),g=Math.floor(s/d);let p=r,m=l,x=n.ellipsis,C=0;x&&(typeof x!="string"&&(x="\u2026"),C=eh(x,e).width);for(let O=0;O<g;O+=1)if(m>i)if(O===g-1){const[L]=t0(p,i-C,m,e);u.push(x?`${L}${x}`:L)}else{const[L,M]=t0(p,i,m,e);u.push(L),p=M,m=eh(p,e).width}else{u.push(p);break}return u.join(a)}const Gv=.551784;function Tn(r,t,e=NaN){const n=r.getAttribute(t);if(n==null)return e;const i=parseFloat(n);return Number.isNaN(i)?e:i}function aw(r,t=1){const e=r.getTotalLength(),n=[];let i=0,s;for(;i<e;)s=r.getPointAtLength(i),n.push({distance:i,x:s.x,y:s.y}),i+=t;return n}function lw(r){return["M",Tn(r,"x1"),Tn(r,"y1"),"L",Tn(r,"x2"),Tn(r,"y2")].join(" ")}function cw(r){const t=Gd(r);return t.length===0?null:`${e0(t)} Z`}function uw(r){const t=Gd(r);return t.length===0?null:e0(t)}function e0(r){return`M ${r.map(e=>`${e.x} ${e.y}`).join(" L")}`}function Gd(r){const t=[],e=r.points;if(e)for(let n=0,i=e.numberOfItems;n<i;n+=1)t.push(e.getItem(n));return t}function hw(r){const t=Tn(r,"cx",0),e=Tn(r,"cy",0),n=Tn(r,"r"),i=n*Gv;return["M",t,e-n,"C",t+i,e-n,t+n,e-i,t+n,e,"C",t+n,e+i,t+i,e+n,t,e+n,"C",t-i,e+n,t-n,e+i,t-n,e,"C",t-n,e-i,t-i,e-n,t,e-n,"Z"].join(" ")}function fw(r){const t=Tn(r,"cx",0),e=Tn(r,"cy",0),n=Tn(r,"rx"),i=Tn(r,"ry")||n,s=n*Gv,a=i*Gv;return["M",t,e-i,"C",t+s,e-i,t+n,e-a,t+n,e,"C",t+n,e+a,t+s,e+i,t,e+i,"C",t-s,e+i,t-n,e+a,t-n,e,"C",t-n,e-a,t-s,e-i,t,e-i,"Z"].join(" ")}function dw(r){return n0({x:Tn(r,"x",0),y:Tn(r,"y",0),width:Tn(r,"width",0),height:Tn(r,"height",0),rx:Tn(r,"rx",0),ry:Tn(r,"ry",0)})}function n0(r){let t;const e=r.x,n=r.y,i=r.width,s=r.height,a=Math.min(r.rx||r["top-rx"]||0,i/2),l=Math.min(r.rx||r["bottom-rx"]||0,i/2),u=Math.min(r.ry||r["top-ry"]||0,s/2),h=Math.min(r.ry||r["bottom-ry"]||0,s/2);return a||l||u||h?t=["M",e,n+u,"v",s-u-h,"a",l,h,0,0,0,l,h,"h",i-2*l,"a",l,h,0,0,0,l,-h,"v",-(s-h-u),"a",a,u,0,0,0,-a,-u,"h",-(i-2*a),"a",a,u,0,0,0,-a,u,"Z"]:t=["M",e,n,"H",e+i,"V",n+s,"H",e,"V",n,"Z"],t.join(" ")}function gw(r){const t=gs("path");xe(t,xe(r));const e=r0(r);return e&&t.setAttribute("d",e),t}function r0(r){const t=r.tagName.toLowerCase();switch(t){case"path":return r.getAttribute("d");case"line":return lw(r);case"polygon":return cw(r);case"polyline":return uw(r);case"ellipse":return fw(r);case"circle":return hw(r);case"rect":return dw(r);default:break}throw new Error(`"${t}" cannot be converted to svg path element.`)}function EC(r,t,e,n){const i=2*Math.PI-1e-6,s=r,a=t;let l=e,u=n;if(u<l){const C=l;l=u,u=C}const h=u-l,d=h<Math.PI?"0":"1",g=Math.cos(l),p=Math.sin(l),m=Math.cos(u),x=Math.sin(u);return h>=i?s?`M0,${a}A${a},${a} 0 1,1 0,${-a}A${a},${a} 0 1,1 0,${a}M0,${s}A${s},${s} 0 1,0 0,${-s}A${s},${s} 0 1,0 0,${s}Z`:`M0,${a}A${a},${a} 0 1,1 0,${-a}A${a},${a} 0 1,1 0,${a}Z`:s?`M${a*g},${a*p}A${a},${a} 0 ${d},1 ${a*m},${a*x}L${s*m},${s*x}A${s},${s} 0 ${d},0 ${s*g},${s*p}Z`:`M${a*g},${a*p}A${a},${a} 0 ${d},1 ${a*m},${a*x}L0,0Z`}const Ud=gs("svg"),pw=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,i0=/[ ,]+/,mw=/^(\w+)\((.*)\)/;function yw(r,t){const e=Ud.createSVGPoint();return e.x=r,e.y=t,e}function bn(r){const t=Ud.createSVGMatrix();if(r!=null){const e=r,n=t;for(const i in e)n[i]=e[i]}return t}function nh(r){return r!=null?(r instanceof DOMMatrix||(r=bn(r)),Ud.createSVGTransformFromMatrix(r)):Ud.createSVGTransform()}function rh(r){let t=bn();const e=r!=null&&r.match(pw);if(!e)return t;for(let n=0,i=e.length;n<i;n+=1){const a=e[n].match(mw);if(a){let l,u,h,d,g,p=bn();const m=a[2].split(i0);switch(a[1].toLowerCase()){case"scale":l=parseFloat(m[0]),u=m[1]===void 0?l:parseFloat(m[1]),p=p.scaleNonUniform(l,u);break;case"translate":h=parseFloat(m[0]),d=parseFloat(m[1]),p=p.translate(h,d);break;case"rotate":g=parseFloat(m[0]),h=parseFloat(m[1])||0,d=parseFloat(m[2])||0,h!==0||d!==0?p=p.translate(h,d).rotate(g).translate(-h,-d):p=p.rotate(g);break;case"skewx":g=parseFloat(m[0]),p=p.skewX(g);break;case"skewy":g=parseFloat(m[0]),p=p.skewY(g);break;case"matrix":p.a=parseFloat(m[0]),p.b=parseFloat(m[1]),p.c=parseFloat(m[2]),p.d=parseFloat(m[3]),p.e=parseFloat(m[4]),p.f=parseFloat(m[5]);break;default:continue}t=t.multiply(p)}}return t}function Il(r){const t=r||{},e=t.a!=null?t.a:1,n=t.b!=null?t.b:0,i=t.c!=null?t.c:0,s=t.d!=null?t.d:1,a=t.e!=null?t.e:0,l=t.f!=null?t.f:0;return`matrix(${e},${n},${i},${s},${a},${l})`}function qd(r){let t,e,n;if(r){const s=i0;if(r.trim().indexOf("matrix")>=0){const a=rh(r),l=vw(a);t=[l.translateX,l.translateY],e=[l.rotation],n=[l.scaleX,l.scaleY];const u=[];(t[0]!==0||t[1]!==0)&&u.push(`translate(${t.join(",")})`),(n[0]!==1||n[1]!==1)&&u.push(`scale(${n.join(",")})`),e[0]!==0&&u.push(`rotate(${e[0]})`),r=u.join(" ")}else{const a=r.match(/translate\((.*?)\)/);a&&(t=a[1].split(s));const l=r.match(/rotate\((.*?)\)/);l&&(e=l[1].split(s));const u=r.match(/scale\((.*?)\)/);u&&(n=u[1].split(s))}}const i=n&&n[0]?parseFloat(n[0]):1;return{raw:r||"",translation:{tx:t&&t[0]?parseInt(t[0],10):0,ty:t&&t[1]?parseInt(t[1],10):0},rotation:{angle:e&&e[0]?parseInt(e[0],10):0,cx:e&&e[1]?parseInt(e[1],10):void 0,cy:e&&e[2]?parseInt(e[2],10):void 0},scale:{sx:i,sy:n&&n[1]?parseFloat(n[1]):i}}}function Uv(r,t){const e=t.x*r.a+t.y*r.c+0,n=t.x*r.b+t.y*r.d+0;return{x:e,y:n}}function vw(r){const t=Uv(r,{x:0,y:1}),e=Uv(r,{x:1,y:0}),n=180/Math.PI*Math.atan2(t.y,t.x)-90,i=180/Math.PI*Math.atan2(e.y,e.x);return{skewX:n,skewY:i,translateX:r.e,translateY:r.f,scaleX:Math.sqrt(r.a*r.a+r.b*r.b),scaleY:Math.sqrt(r.c*r.c+r.d*r.d),rotation:n}}function bw(r){let t,e,n,i;return r?(t=r.a==null?1:r.a,i=r.d==null?1:r.d,e=r.b,n=r.c):t=i=1,{sx:e?Math.sqrt(t*t+e*e):t,sy:n?Math.sqrt(n*n+i*i):i}}function xw(r){let t={x:0,y:1};r&&(t=Uv(r,t));const e=180*Math.atan2(t.y,t.x)/Math.PI%360-90;return{angle:e%360+(e<0?360:0)}}function ww(r){return{tx:r&&r.e||0,ty:r&&r.f||0}}function Ll(r,t,e={}){if(t==null)return rh(xe(r,"transform"));if(e.absolute){r.setAttribute("transform",Il(t));return}const n=r.transform,i=nh(t);n.baseVal.appendItem(i)}function s0(r,t,e=0,n={}){let i=xe(r,"transform");const s=qd(i);if(t==null)return s.translation;i=s.raw,i=i.replace(/translate\([^)]*\)/g,"").trim();const a=n.absolute?t:s.translation.tx+t,l=n.absolute?e:s.translation.ty+e,u=`translate(${a},${l})`;r.setAttribute("transform",`${u} ${i}`.trim())}function qv(r,t,e,n,i={}){let s=xe(r,"transform");const a=qd(s);if(t==null)return a.rotation;s=a.raw,s=s.replace(/rotate\([^)]*\)/g,"").trim(),t%=360;const l=i.absolute?t:a.rotation.angle+t,u=e!=null&&n!=null?`,${e},${n}`:"",h=`rotate(${l}${u})`;r.setAttribute("transform",`${s} ${h}`.trim())}function Jv(r,t,e){let n=xe(r,"transform");const i=qd(n);if(t==null)return i.scale;e=e==null?t:e,n=i.raw,n=n.replace(/scale\([^)]*\)/g,"").trim();const s=`scale(${t},${e})`;r.setAttribute("transform",`${n} ${s}`.trim())}function ih(r,t){if(Ks(t)&&Ks(r)){const e=t.getScreenCTM(),n=r.getScreenCTM();if(e&&n)return e.inverse().multiply(n)}return bn()}function Sw(r,t){let e=bn();if(Ks(t)&&Ks(r)){let n=r;const i=[];for(;n&&n!==t;){const s=n.getAttribute("transform")||null,a=rh(s);i.push(a),n=n.parentNode}i.reverse().forEach(s=>{e=e.multiply(s)})}return e}function Aw(r,t,e){const n=r instanceof SVGSVGElement?r:r.ownerSVGElement,i=n.createSVGPoint();i.x=t,i.y=e;try{const s=n.getScreenCTM(),a=i.matrixTransform(s.inverse()),l=ih(r,n).inverse();return a.matrixTransform(l)}catch(s){return i}}var Ir;(function(r){const t={};function e(s){return t[s]||{}}r.get=e;function n(s,a){t[s]=a}r.register=n;function i(s){delete t[s]}r.unregister=i})(Ir||(Ir={}));var oa;(function(r){const t=new WeakMap;function e(s){return t.has(s)||t.set(s,{events:Object.create(null)}),t.get(s)}r.ensure=e;function n(s){return t.get(s)}r.get=n;function i(s){return t.delete(s)}r.remove=i})(oa||(oa={}));var It;(function(r){r.returnTrue=()=>!0,r.returnFalse=()=>!1;function t(i){i.stopPropagation()}r.stopPropagationCallback=t;function e(i,s,a){i.addEventListener!=null&&i.addEventListener(s,a)}r.addEventListener=e;function n(i,s,a){i.removeEventListener!=null&&i.removeEventListener(s,a)}r.removeEventListener=n})(It||(It={})),function(r){const t=/[^\x20\t\r\n\f]+/g,e=/^([^.]*)(?:\.(.+)|)/;function n(l){return(l||"").match(t)||[""]}r.splitType=n;function i(l){const u=e.exec(l)||[];return{originType:u[1]?u[1].trim():u[1],namespaces:u[2]?u[2].split(".").map(h=>h.trim()).sort():[]}}r.normalizeType=i;function s(l){return l.nodeType===1||l.nodeType===9||!+l.nodeType}r.isValidTarget=s;function a(l,u){if(u){const h=l;return h.querySelector!=null&&h.querySelector(u)!=null}return!0}r.isValidSelector=a}(It||(It={})),function(r){let t=0;const e=new WeakMap;function n(l){return e.has(l)||(e.set(l,t),t+=1),e.get(l)}r.ensureHandlerId=n;function i(l){return e.get(l)}r.getHandlerId=i;function s(l){return e.delete(l)}r.removeHandlerId=s;function a(l,u){return e.set(l,u)}r.setHandlerId=a}(It||(It={})),function(r){function t(e,n){const i=[],s=oa.get(e),a=s&&s.events&&s.events[n.type],l=a&&a.handlers||[],u=a?a.delegateCount:0;if(u>0&&!(n.type==="click"&&typeof n.button=="number"&&n.button>=1)){for(let h=n.target;h!==e;h=h.parentNode||e)if(h.nodeType===1&&!(n.type==="click"&&h.disabled===!0)){const d=[],g={};for(let p=0;p<u;p+=1){const m=l[p],x=m.selector;if(x!=null&&g[x]==null){const C=e,O=[];C.querySelectorAll(x).forEach(R=>{O.push(R)}),g[x]=O.includes(h)}g[x]&&d.push(m)}d.length&&i.push({elem:h,handlers:d})}}return u<l.length&&i.push({elem:e,handlers:l.slice(u)}),i}r.getHandlerQueue=t}(It||(It={})),function(r){function t(e){return e!=null&&e===e.window}r.isWindow=t}(It||(It={})),function(r){function t(e,n){const i=e.nodeType===9?e.documentElement:e,s=n&&n.parentNode;return e===s||!!(s&&s.nodeType===1&&(i.contains?i.contains(s):e.compareDocumentPosition&&e.compareDocumentPosition(s)&16))}r.contains=t}(It||(It={}));class Ni{constructor(t,e){this.isDefaultPrevented=It.returnFalse,this.isPropagationStopped=It.returnFalse,this.isImmediatePropagationStopped=It.returnFalse,this.isSimulated=!1,typeof t=="string"?this.type=t:t.type&&(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?It.returnTrue:It.returnFalse,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.timeStamp=t.timeStamp),e&&Object.assign(this,e),this.timeStamp||(this.timeStamp=Date.now())}preventDefault(){const t=this.originalEvent;this.isDefaultPrevented=It.returnTrue,t&&!this.isSimulated&&t.preventDefault()}stopPropagation(){const t=this.originalEvent;this.isPropagationStopped=It.returnTrue,t&&!this.isSimulated&&t.stopPropagation()}stopImmediatePropagation(){const t=this.originalEvent;this.isImmediatePropagationStopped=It.returnTrue,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}}(function(r){function t(e){return e instanceof r?e:new r(e)}r.create=t})(Ni||(Ni={})),function(r){function t(e,n){Object.defineProperty(r.prototype,e,{enumerable:!0,configurable:!0,get:typeof n=="function"?function(){if(this.originalEvent)return n(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set(i){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:i})}})}r.addProperty=t}(Ni||(Ni={})),function(r){const t={bubbles:!0,cancelable:!0,eventPhase:!0,detail:!0,view:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pageX:!0,pageY:!0,screenX:!0,screenY:!0,toElement:!0,pointerId:!0,pointerType:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,touches:!0,changedTouches:!0,targetTouches:!0,which:!0,altKey:!0,ctrlKey:!0,metaKey:!0,shiftKey:!0};Object.keys(t).forEach(e=>r.addProperty(e,t[e]))}(Ni||(Ni={}));var Nl;(function(r){Ir.register("load",{noBubble:!0})})(Nl||(Nl={})),function(r){Ir.register("beforeunload",{postDispatch(t,e){e.result!==void 0&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}})}(Nl||(Nl={})),function(r){Ir.register("mouseenter",{delegateType:"mouseover",bindType:"mouseover",handle(t,e){let n;const i=e.relatedTarget,s=e.handleObj;return(!i||i!==t&&!It.contains(t,i))&&(e.type=s.originType,n=s.handler.call(t,e),e.type="mouseover"),n}}),Ir.register("mouseleave",{delegateType:"mouseout",bindType:"mouseout",handle(t,e){let n;const i=e.relatedTarget,s=e.handleObj;return(!i||i!==t&&!It.contains(t,i))&&(e.type=s.originType,n=s.handler.call(t,e),e.type="mouseout"),n}})}(Nl||(Nl={}));var Cw=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e},sh;(function(r){let t;function e(a,l,u,h,d){if(!It.isValidTarget(a))return;let g;if(typeof u!="function"){const{handler:C,selector:O}=u,R=Cw(u,["handler","selector"]);u=C,d=O,g=R}const p=oa.ensure(a);let m=p.handler;m==null&&(m=p.handler=function(C,...O){return t!==C.type?i(a,C,...O):void 0});const x=It.ensureHandlerId(u);It.splitType(l).forEach(C=>{const{originType:O,namespaces:R}=It.normalizeType(C);if(!O)return;let L=O,M=Ir.get(L);L=(d?M.delegateType:M.bindType)||L,M=Ir.get(L);const k=Object.assign({type:L,originType:O,data:h,selector:d,guid:x,handler:u,namespace:R.join(".")},g),z=p.events;let H=z[L];H||(H=z[L]={handlers:[],delegateCount:0},(!M.setup||M.setup(a,h,R,m)===!1)&&It.addEventListener(a,L,m)),M.add&&(It.removeHandlerId(k.handler),M.add(a,k),It.setHandlerId(k.handler,x)),d?(H.handlers.splice(H.delegateCount,0,k),H.delegateCount+=1):H.handlers.push(k)})}r.on=e;function n(a,l,u,h,d){const g=oa.get(a);if(!g)return;const p=g.events;p&&(It.splitType(l).forEach(m=>{const{originType:x,namespaces:C}=It.normalizeType(m);if(!x){Object.keys(p).forEach(z=>{n(a,z+m,u,h,!0)});return}let O=x;const R=Ir.get(O);O=(h?R.delegateType:R.bindType)||O;const L=p[O]||{},M=C.length>0?new RegExp(`(^|\\.)${C.join("\\.(?:.*\\.|)")}(\\.|$)`):null,k=L.handlers.length;for(let z=L.handlers.length-1;z>=0;z-=1){const H=L.handlers[z];(d||x===H.originType)&&(!u||It.getHandlerId(u)===H.guid)&&(M==null||H.namespace&&M.test(H.namespace))&&(h==null||h===H.selector||h==="**"&&H.selector)&&(L.handlers.splice(z,1),H.selector&&(L.delegateCount-=1),R.remove&&R.remove(a,H))}k&&L.handlers.length===0&&((!R.teardown||R.teardown(a,C,g.handler)===!1)&&It.removeEventListener(a,O,g.handler),delete p[O])}),Object.keys(p).length===0&&oa.remove(a))}r.off=n;function i(a,l,...u){const h=Ni.create(l);h.delegateTarget=a;const d=Ir.get(h.type);if(d.preDispatch&&d.preDispatch(a,h)===!1)return;const g=It.getHandlerQueue(a,h);for(let p=0,m=g.length;p<m&&!h.isPropagationStopped();p+=1){const x=g[p];h.currentTarget=x.elem;for(let C=0,O=x.handlers.length;C<O&&!h.isImmediatePropagationStopped();C+=1){const R=x.handlers[C];if(h.rnamespace==null||R.namespace&&h.rnamespace.test(R.namespace)){h.handleObj=R,h.data=R.data;const L=Ir.get(R.originType).handle,M=L?L(x.elem,h,...u):R.handler.call(x.elem,h,...u);M!==void 0&&(h.result=M,M===!1&&(h.preventDefault(),h.stopPropagation()))}}}return d.postDispatch&&d.postDispatch(a,h),h.result}r.dispatch=i;function s(a,l,u,h){let d=a,g=typeof a=="string"?a:a.type,p=typeof a=="string"||d.namespace==null?[]:d.namespace.split(".");const m=u;if(m.nodeType===3||m.nodeType===8)return;g.indexOf(".")>-1&&(p=g.split("."),g=p.shift(),p.sort());const x=g.indexOf(":")<0&&`on${g}`;d=a instanceof Ni?a:new Ni(g,typeof a=="object"?a:null),d.namespace=p.join("."),d.rnamespace=d.namespace?new RegExp(`(^|\\.)${p.join("\\.(?:.*\\.|)")}(\\.|$)`):null,d.result=void 0,d.target||(d.target=m);const C=[d];Array.isArray(l)?C.push(...l):C.push(l);const O=Ir.get(g);if(!h&&O.trigger&&O.trigger(m,d,l)===!1)return;let R;const L=[m];if(!h&&!O.noBubble&&!It.isWindow(m)){R=O.delegateType||g;let k=m,z=m.parentNode;for(;z!=null;)L.push(z),k=z,z=z.parentNode;const H=m.ownerDocument||document;if(k===H){const K=k.defaultView||k.parentWindow||window;L.push(K)}}let M=m;for(let k=0,z=L.length;k<z&&!d.isPropagationStopped();k+=1){const H=L[k];M=H,d.type=k>1?R:O.bindType||g;const K=oa.get(H);K&&K.events[d.type]&&K.handler&&K.handler.call(H,...C);const rt=x&&H[x]||null;rt&&It.isValidTarget(H)&&(d.result=rt.call(H,...C),d.result===!1&&d.preventDefault())}if(d.type=g,!h&&!d.isDefaultPrevented()){const k=O.preventDefault;if((k==null||k(L.pop(),d,l)===!1)&&It.isValidTarget(m)&&x&&typeof m[g]=="function"&&!It.isWindow(m)){const z=m[x];z&&(m[x]=null),t=g,d.isPropagationStopped()&&M.addEventListener(g,It.stopPropagationCallback),m[g](),d.isPropagationStopped()&&M.removeEventListener(g,It.stopPropagationCallback),t=void 0,z&&(m[x]=z)}}return d.result}r.trigger=s})(sh||(sh={}));var Yn;(function(r){function t(s,a,l,u,h){return oh.on(s,a,l,u,h),s}r.on=t;function e(s,a,l,u,h){return oh.on(s,a,l,u,h,!0),s}r.once=e;function n(s,a,l,u){return oh.off(s,a,l,u),s}r.off=n;function i(s,a,l,u){return sh.trigger(a,l,s,u),s}r.trigger=i})(Yn||(Yn={}));var oh;(function(r){function t(n,i,s,a,l,u){if(typeof i=="object"){typeof s!="string"&&(a=a||s,s=void 0),Object.keys(i).forEach(h=>t(n,h,s,a,i[h],u));return}if(a==null&&l==null?(l=s,a=s=void 0):l==null&&(typeof s=="string"?(l=a,a=void 0):(l=a,a=s,s=void 0)),l===!1)l=It.returnFalse;else if(!l)return;if(u){const h=l;l=function(d,...g){return r.off(n,d),h.call(this,d,...g)},It.setHandlerId(l,It.ensureHandlerId(h))}sh.on(n,i,l,a,s)}r.on=t;function e(n,i,s,a){const l=i;if(l&&l.preventDefault!=null&&l.handleObj!=null){const u=l.handleObj;e(l.delegateTarget,u.namespace?`${u.originType}.${u.namespace}`:u.originType,u.selector,u.handler);return}if(typeof i=="object"){const u=i;Object.keys(u).forEach(h=>e(n,h,s,u[h]));return}(s===!1||typeof s=="function")&&(a=s,s=void 0),a===!1&&(a=It.returnFalse),sh.off(n,i,a,s)}r.off=e})(oh||(oh={}));class o0{constructor(t,e,n){this.animationFrameId=0,this.deltaX=0,this.deltaY=0,this.eventName=Zs.isEventSupported("wheel")?"wheel":"mousewheel",this.target=t,this.onWheelCallback=e,this.onWheelGuard=n,this.onWheel=this.onWheel.bind(this),this.didWheel=this.didWheel.bind(this)}enable(){this.target.addEventListener(this.eventName,this.onWheel,{passive:!1})}disable(){this.target.removeEventListener(this.eventName,this.onWheel)}onWheel(t){if(this.onWheelGuard!=null&&!this.onWheelGuard(t))return;this.deltaX+=t.deltaX,this.deltaY+=t.deltaY,t.preventDefault();let e;(this.deltaX!==0||this.deltaY!==0)&&(t.stopPropagation(),e=!0),e===!0&&this.animationFrameId===0&&(this.animationFrameId=requestAnimationFrame(()=>{this.didWheel(t)}))}didWheel(t){this.animationFrameId=0,this.onWheelCallback(t,this.deltaX,this.deltaY),this.deltaX=0,this.deltaY=0}}function a0(r){const t=r.getBoundingClientRect(),e=r.ownerDocument.defaultView;return{top:t.top+e.pageYOffset,left:t.left+e.pageXOffset}}function MC(r){return r.getBoundingClientRect().width}function TC(r){return r.getBoundingClientRect().height}function RC(r){const t=$d(r,"position")==="fixed";let e;if(t){const n=r.getBoundingClientRect();e={left:n.left,top:n.top}}else e=a0(r);if(!t){const n=r.ownerDocument;let i=r.offsetParent||n.documentElement;for(;(i===n.body||i===n.documentElement)&&$d(i,"position")==="static";)i=i.parentNode;if(i!==r&&Hx(i)){const s=a0(i);e.top-=s.top+Vd(i,"borderTopWidth"),e.left-=s.left+Vd(i,"borderLeftWidth")}}return{top:e.top-Vd(r,"marginTop"),left:e.left-Vd(r,"marginLeft")}}function l0(r,t=60){let e=null;return(...n)=>{e&&clearTimeout(e),e=window.setTimeout(()=>{r.apply(this,n)},t)}}function Pw(r){let t=null,e=[];const n=()=>{if(getComputedStyle(r).position==="static"){const h=r.style;h.position="relative"}const u=document.createElement("object");return u.onload=()=>{u.contentDocument.defaultView.addEventListener("resize",i),i()},u.style.display="block",u.style.position="absolute",u.style.top="0",u.style.left="0",u.style.height="100%",u.style.width="100%",u.style.overflow="hidden",u.style.pointerEvents="none",u.style.zIndex="-1",u.style.opacity="0",u.setAttribute("tabindex","-1"),u.type="text/html",r.appendChild(u),u.data="about:blank",u},i=l0(()=>{e.forEach(u=>u(r))}),s=u=>{t||(t=n()),e.indexOf(u)===-1&&e.push(u)},a=()=>{t&&t.parentNode&&(t.contentDocument&&t.contentDocument.defaultView.removeEventListener("resize",i),t.parentNode.removeChild(t),t=null,e=[])};return{element:r,bind:s,destroy:a,unbind:u=>{const h=e.indexOf(u);h!==-1&&e.splice(h,1),e.length===0&&t&&a()}}}function Ow(r){let t=null,e=[];const n=l0(()=>{e.forEach(u=>{u(r)})}),i=()=>{const u=new ResizeObserver(n);return u.observe(r),n(),u},s=u=>{t||(t=i()),e.indexOf(u)===-1&&e.push(u)},a=()=>{t&&(t.disconnect(),e=[],t=null)};return{element:r,bind:s,destroy:a,unbind:u=>{const h=e.indexOf(u);h!==-1&&e.splice(h,1),e.length===0&&t&&a()}}}const _w=typeof ResizeObserver!="undefined"?Ow:Pw;var Jd;(function(r){const t=new WeakMap;function e(i){let s=t.get(i);return s||(s=_w(i),t.set(i,s),s)}function n(i){i.destroy(),t.delete(i.element)}r.bind=(i,s)=>{const a=e(i);return a.bind(s),()=>a.unbind(s)},r.clear=i=>{const s=e(i);n(s)}})(Jd||(Jd={}));class ah{constructor(t={}){this.comparator=t.comparator||ah.defaultComparator,this.index={},this.data=t.data||[],this.heapify()}isEmpty(){return this.data.length===0}insert(t,e,n){const i={priority:t,value:e},s=this.data.length;return n&&(i.id=n,this.index[n]=s),this.data.push(i),this.bubbleUp(s),this}peek(){return this.data[0]?this.data[0].value:null}peekPriority(){return this.data[0]?this.data[0].priority:null}updatePriority(t,e){const n=this.index[t];if(typeof n=="undefined")throw new Error(`Node with id '${t}' was not found in the heap.`);const i=this.data,s=i[n].priority,a=this.comparator(e,s);a<0?(i[n].priority=e,this.bubbleUp(n)):a>0&&(i[n].priority=e,this.bubbleDown(n))}remove(){const t=this.data,e=t[0],n=t.pop();return e.id&&delete this.index[e.id],t.length>0&&(t[0]=n,n.id&&(this.index[n.id]=0),this.bubbleDown(0)),e?e.value:null}heapify(){for(let t=0;t<this.data.length;t+=1)this.bubbleUp(t)}bubbleUp(t){const e=this.data;let n,i,s=t;for(;s>0&&(i=s-1>>>1,this.comparator(e[s].priority,e[i].priority)<0);){n=e[i],e[i]=e[s];let a=e[s].id;a!=null&&(this.index[a]=i),e[s]=n,a=e[s].id,a!=null&&(this.index[a]=s),s=i}}bubbleDown(t){const e=this.data,n=e.length-1;let i=t;for(;;){const s=(i<<1)+1,a=s+1;let l=i;if(s<=n&&this.comparator(e[s].priority,e[l].priority)<0&&(l=s),a<=n&&this.comparator(e[a].priority,e[l].priority)<0&&(l=a),l!==i){const u=e[l];e[l]=e[i];let h=e[i].id;h!=null&&(this.index[h]=l),e[i]=u,h=e[i].id,h!=null&&(this.index[h]=i),i=l}else break}}}(function(r){r.defaultComparator=(t,e)=>t-e})(ah||(ah={}));var Xv;(function(r){function t(e,n,i=(s,a)=>1){const s={},a={},l={},u=new ah;for(s[n]=0,Object.keys(e).forEach(h=>{h!==n&&(s[h]=1/0),u.insert(s[h],h,h)});!u.isEmpty();){const h=u.remove();l[h]=!0;const d=e[h]||[];for(let g=0;g<d.length;g+=1){const p=d[g];if(!l[p]){const m=s[h]+i(h,p);m<s[p]&&(s[p]=m,a[p]=h,u.updatePriority(p,m))}}}return a}r.run=t})(Xv||(Xv={}));class ps{constructor(t,e,n,i){if(t==null)return this.set(255,255,255,1);if(typeof t=="number")return this.set(t,e,n,i);if(typeof t=="string")return ps.fromString(t)||this;if(Array.isArray(t))return this.set(t);this.set(t.r,t.g,t.b,t.a==null?1:t.a)}blend(t,e,n){this.set(t.r+(e.r-t.r)*n,t.g+(e.g-t.g)*n,t.b+(e.b-t.b)*n,t.a+(e.a-t.a)*n)}lighten(t){const e=ps.lighten(this.toArray(),t);this.r=e[0],this.g=e[1],this.b=e[2],this.a=e[3]}darken(t){this.lighten(-t)}set(t,e,n,i){const s=Array.isArray(t)?t[0]:t,a=Array.isArray(t)?t[1]:e,l=Array.isArray(t)?t[2]:n,u=Array.isArray(t)?t[3]:i;return this.r=Math.round(Tr(s,0,255)),this.g=Math.round(Tr(a,0,255)),this.b=Math.round(Tr(l,0,255)),this.a=u==null?1:Tr(u,0,1),this}toHex(){return`#${["r","g","b"].map(e=>{const n=this[e].toString(16);return n.length<2?`0${n}`:n}).join("")}`}toRGBA(){return this.toArray()}toHSLA(){return ps.rgba2hsla(this.r,this.g,this.b,this.a)}toCSS(t){const e=`${this.r},${this.g},${this.b},`;return t?`rgb(${e})`:`rgba(${e},${this.a})`}toGrey(){return ps.makeGrey(Math.round((this.r+this.g+this.b)/3),this.a)}toArray(){return[this.r,this.g,this.b,this.a]}toString(){return this.toCSS()}}(function(r){function t(M){return new r(M)}r.fromArray=t;function e(M){return new r([...x(M),1])}r.fromHex=e;function n(M){const k=M.toLowerCase().match(/^rgba?\(([\s.,0-9]+)\)/);if(k){const z=k[1].split(/\s*,\s*/).map(H=>parseInt(H,10));return new r(z)}return null}r.fromRGBA=n;function i(M,k,z){z<0&&++z,z>1&&--z;const H=6*z;return H<1?M+(k-M)*H:2*z<1?k:3*z<2?M+(k-M)*(2/3-z)*6:M}function s(M){const k=M.toLowerCase().match(/^hsla?\(([\s.,0-9]+)\)/);if(k){const z=k[2].split(/\s*,\s*/),H=(parseFloat(z[0])%360+360)%360/360,K=parseFloat(z[1])/100,rt=parseFloat(z[2])/100,it=z[3]==null?1:parseInt(z[3],10);return new r(h(H,K,rt,it))}return null}r.fromHSLA=s;function a(M){if(M.startsWith("#"))return e(M);if(M.startsWith("rgb"))return n(M);const k=r.named[M];return k?e(k):s(M)}r.fromString=a;function l(M,k){return r.fromArray([M,M,M,k])}r.makeGrey=l;function u(M,k,z,H){const K=Array.isArray(M)?M[0]:M,rt=Array.isArray(M)?M[1]:k,it=Array.isArray(M)?M[2]:z,gt=Array.isArray(M)?M[3]:H,ot=Math.max(K,rt,it),pt=Math.min(K,rt,it),Ae=(ot+pt)/2;let Ut=0,G=0;if(pt!==ot){const tt=ot-pt;switch(G=Ae>.5?tt/(2-ot-pt):tt/(ot+pt),ot){case K:Ut=(rt-it)/tt+(rt<it?6:0);break;case rt:Ut=(it-K)/tt+2;break;case it:Ut=(K-rt)/tt+4;break;default:break}Ut/=6}return[Ut,G,Ae,gt==null?1:gt]}r.rgba2hsla=u;function h(M,k,z,H){const K=Array.isArray(M)?M[0]:M,rt=Array.isArray(M)?M[1]:k,it=Array.isArray(M)?M[2]:z,gt=Array.isArray(M)?M[3]:H,ot=it<=.5?it*(rt+1):it+rt-it*rt,pt=2*it-ot;return[i(pt,ot,K+1/3)*256,i(pt,ot,K)*256,i(pt,ot,K-1/3)*256,gt==null?1:gt]}r.hsla2rgba=h;function d(M){return new r(Math.round(Math.random()*256),Math.round(Math.random()*256),Math.round(Math.random()*256),M?void 0:parseFloat(Math.random().toFixed(2)))}r.random=d;function g(){const M="0123456789ABCDEF";let k="#";for(let z=0;z<6;z+=1)k+=M[Math.floor(Math.random()*16)];return k}r.randomHex=g;function p(M){return d(M).toString()}r.randomRGBA=p;function m(M,k){if(typeof M=="string"){const it=M[0]==="#",[gt,ot,pt]=x(M);return k?gt*.299+ot*.587+pt*.114>186?"#000000":"#ffffff":`${it?"#":""}${C(255-gt,255-ot,255-pt)}`}const z=M[0],H=M[1],K=M[2],rt=M[3];return k?z*.299+H*.587+K*.114>186?[0,0,0,rt]:[255,255,255,rt]:[255-z,255-H,255-K,rt]}r.invert=m;function x(M){const k=M.indexOf("#")===0?M:`#${M}`;let z=Number(`0x${k.substr(1)}`);if(!(k.length===4||k.length===7)||Number.isNaN(z))throw new Error("Invalid hex color.");const H=k.length===4?4:8,K=(1<<H)-1,rt=["b","g","r"].map(()=>{const it=z&K;return z>>=H,H===4?17*it:it});return[rt[2],rt[1],rt[0]]}function C(M,k,z){const H=K=>K.length<2?`0${K}`:K;return`${H(M.toString(16))}${H(k.toString(16))}${H(z.toString(16))}`}function O(M,k){return L(M,k)}r.lighten=O;function R(M,k){return L(M,-k)}r.darken=R;function L(M,k){if(typeof M=="string"){const K=M[0]==="#",rt=parseInt(K?M.substr(1):M,16),it=Tr((rt>>16)+k,0,255),gt=Tr((rt>>8&255)+k,0,255),ot=Tr((rt&255)+k,0,255);return`${K?"#":""}${(ot|gt<<8|it<<16).toString(16)}`}const z=C(M[0],M[1],M[2]),H=x(L(z,k));return[H[0],H[1],H[2],M[3]]}})(ps||(ps={})),function(r){r.named={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",burntsienna:"#ea7e5d",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}}(ps||(ps={}));class Yv{constructor(){this.clear()}clear(){this.map=new WeakMap,this.arr=[]}has(t){return this.map.has(t)}get(t){return this.map.get(t)}set(t,e){this.map.set(t,e),this.arr.push(t)}delete(t){const e=this.arr.indexOf(t);e>=0&&this.arr.splice(e,1);const n=this.map.get(t);return this.map.delete(t),n}each(t){this.arr.forEach(e=>{const n=this.map.get(e);t(n,e)})}dispose(){this.clear()}}var lh;(function(r){function t(i){const s=[],a=[];return Array.isArray(i)?s.push(...i):i.split("|").forEach(l=>{l.indexOf("&")===-1?s.push(l):a.push(...l.split("&"))}),{or:s,and:a}}r.parse=t;function e(i,s){if(i!=null&&s!=null){const a=t(i),l=t(s),u=a.or.sort(),h=l.or.sort(),d=a.and.sort(),g=l.and.sort(),p=(m,x)=>m.length===x.length&&(m.length===0||m.every((C,O)=>C===x[O]));return p(u,h)&&p(d,g)}return i==null&&s==null}r.equals=e;function n(i,s,a){if(s==null||Array.isArray(s)&&s.length===0)return a?i.altKey!==!0&&i.ctrlKey!==!0&&i.metaKey!==!0&&i.shiftKey!==!0:!0;const{or:l,and:u}=t(s),h=d=>{const g=`${d.toLowerCase()}Key`;return i[g]===!0};return l.some(d=>h(d))&&u.every(d=>h(d))}r.isMatch=n})(lh||(lh={}));var aa;(function(r){r.linear=t=>t,r.quad=t=>t*t,r.cubic=t=>t*t*t,r.inout=t=>{if(t<=0)return 0;if(t>=1)return 1;const e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)},r.exponential=t=>Math.pow(2,10*(t-1)),r.bounce=t=>{for(let e=0,n=1;;e+=n,n/=2)if(t>=(7-4*e)/11){const i=(11-6*e-11*t)/4;return-i*i+n*n}}})(aa||(aa={})),function(r){r.decorators={reverse(t){return e=>1-t(1-e)},reflect(t){return e=>.5*(e<.5?t(2*e):2-t(2-2*e))},clamp(t,e=0,n=1){return i=>{const s=t(i);return s<e?e:s>n?n:s}},back(t=1.70158){return e=>e*e*((t+1)*e-t)},elastic(t=1.5){return e=>Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)}}}(aa||(aa={})),function(r){function t(G){return-1*Math.cos(G*(Math.PI/2))+1}r.easeInSine=t;function e(G){return Math.sin(G*(Math.PI/2))}r.easeOutSine=e;function n(G){return-.5*(Math.cos(Math.PI*G)-1)}r.easeInOutSine=n;function i(G){return G*G}r.easeInQuad=i;function s(G){return G*(2-G)}r.easeOutQuad=s;function a(G){return G<.5?2*G*G:-1+(4-2*G)*G}r.easeInOutQuad=a;function l(G){return G*G*G}r.easeInCubic=l;function u(G){const tt=G-1;return tt*tt*tt+1}r.easeOutCubic=u;function h(G){return G<.5?4*G*G*G:(G-1)*(2*G-2)*(2*G-2)+1}r.easeInOutCubic=h;function d(G){return G*G*G*G}r.easeInQuart=d;function g(G){const tt=G-1;return 1-tt*tt*tt*tt}r.easeOutQuart=g;function p(G){const tt=G-1;return G<.5?8*G*G*G*G:1-8*tt*tt*tt*tt}r.easeInOutQuart=p;function m(G){return G*G*G*G*G}r.easeInQuint=m;function x(G){const tt=G-1;return 1+tt*tt*tt*tt*tt}r.easeOutQuint=x;function C(G){const tt=G-1;return G<.5?16*G*G*G*G*G:1+16*tt*tt*tt*tt*tt}r.easeInOutQuint=C;function O(G){return G===0?0:Math.pow(2,10*(G-1))}r.easeInExpo=O;function R(G){return G===1?1:-Math.pow(2,-10*G)+1}r.easeOutExpo=R;function L(G){if(G===0||G===1)return G;const tt=G*2,Rt=tt-1;return tt<1?.5*Math.pow(2,10*Rt):.5*(-Math.pow(2,-10*Rt)+2)}r.easeInOutExpo=L;function M(G){const tt=G/1;return-1*(Math.sqrt(1-tt*G)-1)}r.easeInCirc=M;function k(G){const tt=G-1;return Math.sqrt(1-tt*tt)}r.easeOutCirc=k;function z(G){const tt=G*2,Rt=tt-2;return tt<1?-.5*(Math.sqrt(1-tt*tt)-1):.5*(Math.sqrt(1-Rt*Rt)+1)}r.easeInOutCirc=z;function H(G,tt=1.70158){return G*G*((tt+1)*G-tt)}r.easeInBack=H;function K(G,tt=1.70158){const Rt=G/1-1;return Rt*Rt*((tt+1)*Rt+tt)+1}r.easeOutBack=K;function rt(G,tt=1.70158){const Rt=G*2,Le=Rt-2,Ne=tt*1.525;return Rt<1?.5*Rt*Rt*((Ne+1)*Rt-Ne):.5*(Le*Le*((Ne+1)*Le+Ne)+2)}r.easeInOutBack=rt;function it(G,tt=.7){if(G===0||G===1)return G;const Le=G/1-1,Ne=1-tt,un=Ne/(2*Math.PI)*Math.asin(1);return-(Math.pow(2,10*Le)*Math.sin((Le-un)*(2*Math.PI)/Ne))}r.easeInElastic=it;function gt(G,tt=.7){const Rt=1-tt,Le=G*2;if(G===0||G===1)return G;const Ne=Rt/(2*Math.PI)*Math.asin(1);return Math.pow(2,-10*Le)*Math.sin((Le-Ne)*(2*Math.PI)/Rt)+1}r.easeOutElastic=gt;function ot(G,tt=.65){const Rt=1-tt;if(G===0||G===1)return G;const Le=G*2,Ne=Le-1,un=Rt/(2*Math.PI)*Math.asin(1);return Le<1?-.5*(Math.pow(2,10*Ne)*Math.sin((Ne-un)*(2*Math.PI)/Rt)):Math.pow(2,-10*Ne)*Math.sin((Ne-un)*(2*Math.PI)/Rt)*.5+1}r.easeInOutElastic=ot;function pt(G){const tt=G/1;if(tt<1/2.75)return 7.5625*tt*tt;if(tt<2/2.75){const Rt=tt-.5454545454545454;return 7.5625*Rt*Rt+.75}if(tt<2.5/2.75){const Rt=tt-.8181818181818182;return 7.5625*Rt*Rt+.9375}{const Rt=tt-.9545454545454546;return 7.5625*Rt*Rt+.984375}}r.easeOutBounce=pt;function Ae(G){return 1-pt(1-G)}r.easeInBounce=Ae;function Ut(G){return G<.5?Ae(G*2)*.5:pt(G*2-1)*.5+.5}r.easeInOutBounce=Ut}(aa||(aa={}));var la;(function(r){r.number=(t,e)=>{const n=e-t;return i=>t+n*i},r.object=(t,e)=>{const n=Object.keys(t);return i=>{const s={};for(let a=n.length-1;a!==-1;a-=1){const l=n[a];s[l]=t[l]+(e[l]-t[l])*i}return s}},r.unit=(t,e)=>{const n=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,i=n.exec(t),s=n.exec(e),a=s?s[1]:"",l=i?+i[1]:0,u=s?+s[1]:0,h=a.indexOf("."),d=h>0?a[1].length-h-1:0,g=u-l,p=i?i[2]:"";return m=>(l+g*m).toFixed(d)+p},r.color=(t,e)=>{const n=parseInt(t.slice(1),16),i=parseInt(e.slice(1),16),s=n&255,a=(i&255)-s,l=n&65280,u=(i&65280)-l,h=n&16711680,d=(i&16711680)-h;return g=>{const p=s+a*g&255,m=l+u*g&65280,x=h+d*g&16711680;return`#${(1<<24|p|m|x).toString(16).slice(1)}`}}})(la||(la={}));const ch=[];function c0(r,t){const e=ch.find(n=>n.name===r);if(!(e&&(e.loadTimes+=1,e.loadTimes>1))&&!Zs.isApplyingHMR()){const n=document.createElement("style");n.setAttribute("type","text/css"),n.textContent=t;const i=document.querySelector("head");i&&i.insertBefore(n,i.firstChild),ch.push({name:r,loadTimes:1,styleElement:n})}}function u0(r){const t=ch.findIndex(e=>e.name===r);if(t>-1){const e=ch[t];if(e.loadTimes-=1,e.loadTimes>0)return;let n=e.styleElement;n&&n.parentNode&&n.parentNode.removeChild(n),n=null,ch.splice(t,1)}}var we;(function(r){function t(n){return 180*n/Math.PI%360}r.toDeg=t,r.toRad=function(n,i=!1){return(i?n:n%360)*Math.PI/180};function e(n){return n%360+(n<0?360:0)}r.normalize=e})(we||(we={}));var Se;(function(r){function t(l,u=0){return Number.isInteger(l)?l:+l.toFixed(u)}r.round=t;function e(l,u){let h,d;if(u==null?(d=l==null?1:l,h=0):(d=u,h=l==null?0:l),d<h){const g=h;h=d,d=g}return Math.floor(Math.random()*(d-h+1)+h)}r.random=e;function n(l,u,h){return Number.isNaN(l)?NaN:Number.isNaN(u)||Number.isNaN(h)?0:u<h?l<u?u:l>h?h:l:l<h?h:l>u?u:l}r.clamp=n;function i(l,u){return u*Math.round(l/u)}r.snapToGrid=i;function s(l,u){return u!=null&&l!=null&&u.x>=l.x&&u.x<=l.x+l.width&&u.y>=l.y&&u.y<=l.y+l.height}r.containsPoint=s;function a(l,u){const h=l.x-u.x,d=l.y-u.y;return h*h+d*d}r.squaredLength=a})(Se||(Se={}));class Qs{valueOf(){return this.toJSON()}toString(){return JSON.stringify(this.toJSON())}}class B extends Qs{constructor(t,e){super(),this.x=t==null?0:t,this.y=e==null?0:e}round(t=0){return this.x=Se.round(this.x,t),this.y=Se.round(this.y,t),this}add(t,e){const n=B.create(t,e);return this.x+=n.x,this.y+=n.y,this}update(t,e){const n=B.create(t,e);return this.x=n.x,this.y=n.y,this}translate(t,e){const n=B.create(t,e);return this.x+=n.x,this.y+=n.y,this}rotate(t,e){const n=B.rotate(this,t,e);return this.x=n.x,this.y=n.y,this}scale(t,e,n=new B){const i=B.create(n);return this.x=i.x+t*(this.x-i.x),this.y=i.y+e*(this.y-i.y),this}closest(t){if(t.length===1)return B.create(t[0]);let e=null,n=1/0;return t.forEach(i=>{const s=this.squaredDistance(i);s<n&&(e=i,n=s)}),e?B.create(e):null}distance(t){return Math.sqrt(this.squaredDistance(t))}squaredDistance(t){const e=B.create(t),n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistance(t){const e=B.create(t);return Math.abs(e.x-this.x)+Math.abs(e.y-this.y)}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)||.01}theta(t=new B){const e=B.create(t),n=-(e.y-this.y),i=e.x-this.x;let s=Math.atan2(n,i);return s<0&&(s=2*Math.PI+s),180*s/Math.PI}angleBetween(t,e){if(this.equals(t)||this.equals(e))return NaN;let n=this.theta(e)-this.theta(t);return n<0&&(n+=360),n}vectorAngle(t){return new B(0,0).angleBetween(this,t)}toPolar(t){return this.update(B.toPolar(this,t)),this}changeInAngle(t,e,n=new B){return this.clone().translate(-t,-e).theta(n)-this.theta(n)}adhereToRect(t){return Se.containsPoint(t,this)||(this.x=Math.min(Math.max(this.x,t.x),t.x+t.width),this.y=Math.min(Math.max(this.y,t.y),t.y+t.height)),this}bearing(t){const e=B.create(t),n=we.toRad(this.y),i=we.toRad(e.y),s=this.x,a=e.x,l=we.toRad(a-s),u=Math.sin(l)*Math.cos(i),h=Math.cos(n)*Math.sin(i)-Math.sin(n)*Math.cos(i)*Math.cos(l),d=we.toDeg(Math.atan2(u,h)),g=["NE","E","SE","S","SW","W","NW","N"];let p=d-22.5;return p<0&&(p+=360),p=parseInt(p/45,10),g[p]}cross(t,e){if(t!=null&&e!=null){const n=B.create(t),i=B.create(e);return(i.x-this.x)*(n.y-this.y)-(i.y-this.y)*(n.x-this.x)}return NaN}dot(t){const e=B.create(t);return this.x*e.x+this.y*e.y}diff(t,e){if(typeof t=="number")return new B(this.x-t,this.y-e);const n=B.create(t);return new B(this.x-n.x,this.y-n.y)}lerp(t,e){const n=B.create(t);return new B((1-e)*this.x+e*n.x,(1-e)*this.y+e*n.y)}normalize(t=1){const e=t/this.magnitude();return this.scale(e,e)}move(t,e){const n=B.create(t),i=we.toRad(n.theta(this));return this.translate(Math.cos(i)*e,-Math.sin(i)*e)}reflection(t){return B.create(t).move(this,this.distance(t))}snapToGrid(t,e){return this.x=Se.snapToGrid(this.x,t),this.y=Se.snapToGrid(this.y,e==null?t:e),this}equals(t){const e=B.create(t);return e!=null&&e.x===this.x&&e.y===this.y}clone(){return B.clone(this)}toJSON(){return B.toJSON(this)}serialize(){return`${this.x} ${this.y}`}}(function(r){function t(e){return e!=null&&e instanceof r}r.isPoint=t})(B||(B={})),function(r){function t(n){return n!=null&&typeof n=="object"&&typeof n.x=="number"&&typeof n.y=="number"}r.isPointLike=t;function e(n){return n!=null&&Array.isArray(n)&&n.length===2&&typeof n[0]=="number"&&typeof n[1]=="number"}r.isPointData=e}(B||(B={})),function(r){function t(g,p){return g==null||typeof g=="number"?new r(g,p):e(g)}r.create=t;function e(g){return r.isPoint(g)?new r(g.x,g.y):Array.isArray(g)?new r(g[0],g[1]):new r(g.x,g.y)}r.clone=e;function n(g){return r.isPoint(g)?{x:g.x,y:g.y}:Array.isArray(g)?{x:g[0],y:g[1]}:{x:g.x,y:g.y}}r.toJSON=n;function i(g,p,m=new r){let x=Math.abs(g*Math.cos(p)),C=Math.abs(g*Math.sin(p));const O=e(m),R=we.normalize(we.toDeg(p));return R<90?C=-C:R<180?(x=-x,C=-C):R<270&&(x=-x),new r(O.x+x,O.y+C)}r.fromPolar=i;function s(g,p=new r){const m=e(g),x=e(p),C=m.x-x.x,O=m.y-x.y;return new r(Math.sqrt(C*C+O*O),we.toRad(x.theta(m)))}r.toPolar=s;function a(g,p){return g===p?!0:g!=null&&p!=null?g.x===p.x&&g.y===p.y:!1}r.equals=a;function l(g,p){if(g==null&&p!=null||g!=null&&p==null||g!=null&&p!=null&&g.length!==p.length)return!1;if(g!=null&&p!=null){for(let m=0,x=g.length;m<x;m+=1)if(!a(g[m],p[m]))return!1}return!0}r.equalPoints=l;function u(g,p,m,x){return new r(Se.random(g,p),Se.random(m,x))}r.random=u;function h(g,p,m){const x=we.toRad(we.normalize(-p)),C=Math.sin(x),O=Math.cos(x);return d(g,O,C,m)}r.rotate=h;function d(g,p,m,x=new r){const C=e(g),O=e(x),R=C.x-O.x,L=C.y-O.y,M=R*p-L*m,k=L*p+R*m;return new r(M+O.x,k+O.y)}r.rotateEx=d}(B||(B={}));class st extends Qs{get left(){return this.x}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get origin(){return new B(this.x,this.y)}get topLeft(){return new B(this.x,this.y)}get topCenter(){return new B(this.x+this.width/2,this.y)}get topRight(){return new B(this.x+this.width,this.y)}get center(){return new B(this.x+this.width/2,this.y+this.height/2)}get bottomLeft(){return new B(this.x,this.y+this.height)}get bottomCenter(){return new B(this.x+this.width/2,this.y+this.height)}get bottomRight(){return new B(this.x+this.width,this.y+this.height)}get corner(){return new B(this.x+this.width,this.y+this.height)}get rightMiddle(){return new B(this.x+this.width,this.y+this.height/2)}get leftMiddle(){return new B(this.x,this.y+this.height/2)}get topLine(){return new ft(this.topLeft,this.topRight)}get rightLine(){return new ft(this.topRight,this.bottomRight)}get bottomLine(){return new ft(this.bottomLeft,this.bottomRight)}get leftLine(){return new ft(this.topLeft,this.bottomLeft)}constructor(t,e,n,i){super(),this.x=t==null?0:t,this.y=e==null?0:e,this.width=n==null?0:n,this.height=i==null?0:i}getOrigin(){return this.origin}getTopLeft(){return this.topLeft}getTopCenter(){return this.topCenter}getTopRight(){return this.topRight}getCenter(){return this.center}getCenterX(){return this.x+this.width/2}getCenterY(){return this.y+this.height/2}getBottomLeft(){return this.bottomLeft}getBottomCenter(){return this.bottomCenter}getBottomRight(){return this.bottomRight}getCorner(){return this.corner}getRightMiddle(){return this.rightMiddle}getLeftMiddle(){return this.leftMiddle}getTopLine(){return this.topLine}getRightLine(){return this.rightLine}getBottomLine(){return this.bottomLine}getLeftLine(){return this.leftLine}bbox(t){if(!t)return this.clone();const e=we.toRad(t),n=Math.abs(Math.sin(e)),i=Math.abs(Math.cos(e)),s=this.width*i+this.height*n,a=this.width*n+this.height*i;return new st(this.x+(this.width-s)/2,this.y+(this.height-a)/2,s,a)}round(t=0){return this.x=Se.round(this.x,t),this.y=Se.round(this.y,t),this.width=Se.round(this.width,t),this.height=Se.round(this.height,t),this}add(t,e,n,i){const s=st.create(t,e,n,i),a=Math.min(this.x,s.x),l=Math.min(this.y,s.y),u=Math.max(this.x+this.width,s.x+s.width),h=Math.max(this.y+this.height,s.y+s.height);return this.x=a,this.y=l,this.width=u-a,this.height=h-l,this}update(t,e,n,i){const s=st.create(t,e,n,i);return this.x=s.x,this.y=s.y,this.width=s.width,this.height=s.height,this}inflate(t,e){const n=t,i=e!=null?e:t;return this.x-=n,this.y-=i,this.width+=2*n,this.height+=2*i,this}snapToGrid(t,e){const n=this.origin.snapToGrid(t,e),i=this.corner.snapToGrid(t,e);return this.x=n.x,this.y=n.y,this.width=i.x-n.x,this.height=i.y-n.y,this}translate(t,e){const n=B.create(t,e);return this.x+=n.x,this.y+=n.y,this}scale(t,e,n=new B){const i=this.origin.scale(t,e,n);return this.x=i.x,this.y=i.y,this.width*=t,this.height*=e,this}rotate(t,e=this.getCenter()){if(t!==0){const n=we.toRad(t),i=Math.cos(n),s=Math.sin(n);let a=this.getOrigin(),l=this.getTopRight(),u=this.getBottomRight(),h=this.getBottomLeft();a=B.rotateEx(a,i,s,e),l=B.rotateEx(l,i,s,e),u=B.rotateEx(u,i,s,e),h=B.rotateEx(h,i,s,e);const d=new st(a.x,a.y,0,0);d.add(l.x,l.y,0,0),d.add(u.x,u.y,0,0),d.add(h.x,h.y,0,0),this.update(d)}return this}rotate90(){const t=(this.width-this.height)/2;this.x+=t,this.y-=t;const e=this.width;return this.width=this.height,this.height=e,this}moveAndExpand(t){const e=st.clone(t);return this.x+=e.x||0,this.y+=e.y||0,this.width+=e.width||0,this.height+=e.height||0,this}getMaxScaleToFit(t,e=this.center){const n=st.clone(t),i=e.x,s=e.y;let a=1/0,l=1/0,u=1/0,h=1/0,d=1/0,g=1/0,p=1/0,m=1/0;const x=n.topLeft;x.x<i&&(a=(this.x-i)/(x.x-i)),x.y<s&&(d=(this.y-s)/(x.y-s));const C=n.bottomRight;C.x>i&&(l=(this.x+this.width-i)/(C.x-i)),C.y>s&&(g=(this.y+this.height-s)/(C.y-s));const O=n.topRight;O.x>i&&(u=(this.x+this.width-i)/(O.x-i)),O.y<s&&(p=(this.y-s)/(O.y-s));const R=n.bottomLeft;return R.x<i&&(h=(this.x-i)/(R.x-i)),R.y>s&&(m=(this.y+this.height-s)/(R.y-s)),{sx:Math.min(a,l,u,h),sy:Math.min(d,g,p,m)}}getMaxUniformScaleToFit(t,e=this.center){const n=this.getMaxScaleToFit(t,e);return Math.min(n.sx,n.sy)}containsPoint(t,e){return Se.containsPoint(this,B.create(t,e))}containsRect(t,e,n,i){const s=st.create(t,e,n,i),a=this.x,l=this.y,u=this.width,h=this.height,d=s.x,g=s.y,p=s.width,m=s.height;return u===0||h===0||p===0||m===0?!1:d>=a&&g>=l&&d+p<=a+u&&g+m<=l+h}intersectsWithLine(t){const e=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],n=[],i=[];return e.forEach(s=>{const a=t.intersectsWithLine(s);a!==null&&i.indexOf(a.toString())<0&&(n.push(a),i.push(a.toString()))}),n.length>0?n:null}intersectsWithLineFromCenterToPoint(t,e){const n=B.clone(t),i=this.center;let s=null;e!=null&&e!==0&&n.rotate(e,i);const a=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],l=new ft(i,n);for(let u=a.length-1;u>=0;u-=1){const h=a[u].intersectsWithLine(l);if(h!==null){s=h;break}}return s&&e!=null&&e!==0&&s.rotate(-e,i),s}intersectsWithRect(t,e,n,i){const s=st.create(t,e,n,i);if(!this.isIntersectWithRect(s))return null;const a=this.origin,l=this.corner,u=s.origin,h=s.corner,d=Math.max(a.x,u.x),g=Math.max(a.y,u.y);return new st(d,g,Math.min(l.x,h.x)-d,Math.min(l.y,h.y)-g)}isIntersectWithRect(t,e,n,i){const s=st.create(t,e,n,i),a=this.origin,l=this.corner,u=s.origin,h=s.corner;return!(h.x<=a.x||h.y<=a.y||u.x>=l.x||u.y>=l.y)}normalize(){let t=this.x,e=this.y,n=this.width,i=this.height;return this.width<0&&(t=this.x+this.width,n=-this.width),this.height<0&&(e=this.y+this.height,i=-this.height),this.x=t,this.y=e,this.width=n,this.height=i,this}union(t){const e=st.clone(t),n=this.origin,i=this.corner,s=e.origin,a=e.corner,l=Math.min(n.x,s.x),u=Math.min(n.y,s.y),h=Math.max(i.x,a.x),d=Math.max(i.y,a.y);return new st(l,u,h-l,d-u)}getNearestSideToPoint(t){const e=B.clone(t),n=e.x-this.x,i=this.x+this.width-e.x,s=e.y-this.y,a=this.y+this.height-e.y;let l=n,u="left";return i<l&&(l=i,u="right"),s<l&&(l=s,u="top"),a<l&&(u="bottom"),u}getNearestPointToPoint(t){const e=B.clone(t);if(this.containsPoint(e)){const n=this.getNearestSideToPoint(e);if(n==="left")return new B(this.x,e.y);if(n==="top")return new B(e.x,this.y);if(n==="right")return new B(this.x+this.width,e.y);if(n==="bottom")return new B(e.x,this.y+this.height)}return e.adhereToRect(this)}equals(t){return t!=null&&t.x===this.x&&t.y===this.y&&t.width===this.width&&t.height===this.height}clone(){return new st(this.x,this.y,this.width,this.height)}toJSON(){return{x:this.x,y:this.y,width:this.width,height:this.height}}serialize(){return`${this.x} ${this.y} ${this.width} ${this.height}`}}(function(r){function t(e){return e!=null&&e instanceof r}r.isRectangle=t})(st||(st={})),function(r){function t(e){return e!=null&&typeof e=="object"&&typeof e.x=="number"&&typeof e.y=="number"&&typeof e.width=="number"&&typeof e.height=="number"}r.isRectangleLike=t}(st||(st={})),function(r){function t(a,l,u,h){return a==null||typeof a=="number"?new r(a,l,u,h):e(a)}r.create=t;function e(a){return r.isRectangle(a)?a.clone():Array.isArray(a)?new r(a[0],a[1],a[2],a[3]):new r(a.x,a.y,a.width,a.height)}r.clone=e;function n(a){return new r(a.x-a.a,a.y-a.b,2*a.a,2*a.b)}r.fromEllipse=n;function i(a){return new r(0,0,a.width,a.height)}r.fromSize=i;function s(a,l){return new r(a.x,a.y,l.width,l.height)}r.fromPositionAndSize=s}(st||(st={}));class ft extends Qs{get center(){return new B((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)}constructor(t,e,n,i){super(),typeof t=="number"&&typeof e=="number"?(this.start=new B(t,e),this.end=new B(n,i)):(this.start=B.create(t),this.end=B.create(e))}getCenter(){return this.center}round(t=0){return this.start.round(t),this.end.round(t),this}translate(t,e){return typeof t=="number"?(this.start.translate(t,e),this.end.translate(t,e)):(this.start.translate(t),this.end.translate(t)),this}rotate(t,e){return this.start.rotate(t,e),this.end.rotate(t,e),this}scale(t,e,n){return this.start.scale(t,e,n),this.end.scale(t,e,n),this}length(){return Math.sqrt(this.squaredLength())}squaredLength(){const t=this.start.x-this.end.x,e=this.start.y-this.end.y;return t*t+e*e}setLength(t){const e=this.length();if(!e)return this;const n=t/e;return this.scale(n,n,this.start)}parallel(t){const e=this.clone();if(!e.isDifferentiable())return e;const{start:n,end:i}=e,s=n.clone().rotate(270,i),a=i.clone().rotate(90,n);return n.move(a,t),i.move(s,t),e}vector(){return new B(this.end.x-this.start.x,this.end.y-this.start.y)}angle(){const t=new B(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,t)}bbox(){const t=Math.min(this.start.x,this.end.x),e=Math.min(this.start.y,this.end.y),n=Math.max(this.start.x,this.end.x),i=Math.max(this.start.y,this.end.y);return new st(t,e,n-t,i-e)}bearing(){return this.start.bearing(this.end)}closestPoint(t){return this.pointAt(this.closestPointNormalizedLength(t))}closestPointLength(t){return this.closestPointNormalizedLength(t)*this.length()}closestPointTangent(t){return this.tangentAt(this.closestPointNormalizedLength(t))}closestPointNormalizedLength(t){const e=this.vector().dot(new ft(this.start,t).vector()),n=Math.min(1,Math.max(0,e/this.squaredLength()));return Number.isNaN(n)?0:n}pointAt(t){const e=this.start,n=this.end;return t<=0?e.clone():t>=1?n.clone():e.lerp(n,t)}pointAtLength(t){const e=this.start,n=this.end;let i=!0;t<0&&(i=!1,t=-t);const s=this.length();if(t>=s)return i?n.clone():e.clone();const a=(i?t:s-t)/s;return this.pointAt(a)}divideAt(t){const e=this.pointAt(t);return[new ft(this.start,e),new ft(e,this.end)]}divideAtLength(t){const e=this.pointAtLength(t);return[new ft(this.start,e),new ft(e,this.end)]}containsPoint(t){const e=this.start,n=this.end;if(e.cross(t,n)!==0)return!1;const i=this.length();return!(new ft(e,t).length()>i||new ft(t,n).length()>i)}intersect(t,e){const n=t.intersectsWithLine(this,e);return n?Array.isArray(n)?n:[n]:null}intersectsWithLine(t){const e=new B(this.end.x-this.start.x,this.end.y-this.start.y),n=new B(t.end.x-t.start.x,t.end.y-t.start.y),i=e.x*n.y-e.y*n.x,s=new B(t.start.x-this.start.x,t.start.y-this.start.y),a=s.x*n.y-s.y*n.x,l=s.x*e.y-s.y*e.x;if(i===0||a*i<0||l*i<0)return null;if(i>0){if(a>i||l>i)return null}else if(a<i||l<i)return null;return new B(this.start.x+a*e.x/i,this.start.y+a*e.y/i)}isDifferentiable(){return!this.start.equals(this.end)}pointOffset(t){const e=B.clone(t),n=this.start,i=this.end;return((i.x-n.x)*(e.y-n.y)-(i.y-n.y)*(e.x-n.x))/this.length()}pointSquaredDistance(t,e){const n=B.create(t,e);return this.closestPoint(n).squaredDistance(n)}pointDistance(t,e){const n=B.create(t,e);return this.closestPoint(n).distance(n)}tangentAt(t){if(!this.isDifferentiable())return null;const e=this.start,n=this.end,i=this.pointAt(t),s=new ft(e,n);return s.translate(i.x-e.x,i.y-e.y),s}tangentAtLength(t){if(!this.isDifferentiable())return null;const e=this.start,n=this.end,i=this.pointAtLength(t),s=new ft(e,n);return s.translate(i.x-e.x,i.y-e.y),s}relativeCcw(t,e){const n=B.create(t,e);let i=n.x-this.start.x,s=n.y-this.start.y;const a=this.end.x-this.start.x,l=this.end.y-this.start.y;let u=i*l-s*a;return u===0&&(u=i*a+s*l,u>0&&(i-=a,s-=l,u=i*a+s*l,u<0&&(u=0))),u<0?-1:u>0?1:0}equals(t){return t!=null&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.end.x===t.end.x&&this.end.y===t.end.y}clone(){return new ft(this.start,this.end)}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.end.serialize()].join(" ")}}(function(r){function t(e){return e!=null&&e instanceof r}r.isLine=t})(ft||(ft={}));class oi extends Qs{get center(){return new B(this.x,this.y)}constructor(t,e,n,i){super(),this.x=t==null?0:t,this.y=e==null?0:e,this.a=n==null?0:n,this.b=i==null?0:i}bbox(){return st.fromEllipse(this)}getCenter(){return this.center}inflate(t,e){const n=t,i=e!=null?e:t;return this.a+=2*n,this.b+=2*i,this}normalizedDistance(t,e){const n=B.create(t,e),i=n.x-this.x,s=n.y-this.y,a=this.a,l=this.b;return i*i/(a*a)+s*s/(l*l)}containsPoint(t,e){return this.normalizedDistance(t,e)<=1}intersectsWithLine(t){const e=[],n=this.a,i=this.b,s=t.start,a=t.end,l=t.vector(),u=s.diff(new B(this.x,this.y)),h=new B(l.x/(n*n),l.y/(i*i)),d=new B(u.x/(n*n),u.y/(i*i)),g=l.dot(h),p=l.dot(d),m=u.dot(d)-1,x=p*p-g*m;if(x<0)return null;if(x>0){const C=Math.sqrt(x),O=(-p-C)/g,R=(-p+C)/g;if((O<0||O>1)&&(R<0||R>1))return null;O>=0&&O<=1&&e.push(s.lerp(a,O)),R>=0&&R<=1&&e.push(s.lerp(a,R))}else{const C=-p/g;if(C>=0&&C<=1)e.push(s.lerp(a,C));else return null}return e}intersectsWithLineFromCenterToPoint(t,e=0){const n=B.clone(t);e&&n.rotate(e,this.getCenter());const i=n.x-this.x,s=n.y-this.y;let a;if(i===0)return a=this.bbox().getNearestPointToPoint(n),e?a.rotate(-e,this.getCenter()):a;const l=s/i,u=l*l,h=this.a*this.a,d=this.b*this.b;let g=Math.sqrt(1/(1/h+u/d));g=i<0?-g:g;const p=l*g;return a=new B(this.x+g,this.y+p),e?a.rotate(-e,this.getCenter()):a}tangentTheta(t){const e=B.clone(t),n=e.x,i=e.y,s=this.a,a=this.b,l=this.bbox().center,u=l.x,h=l.y,d=30,g=n>l.x+s/2,p=n<l.x-s/2;let m,x;return g||p?(x=n>l.x?i-d:i+d,m=s*s/(n-u)-s*s*(i-h)*(x-h)/(a*a*(n-u))+u):(m=i>l.y?n+d:n-d,x=a*a/(i-h)-a*a*(n-u)*(m-u)/(s*s*(i-h))+h),new B(m,x).theta(e)}scale(t,e){return this.a*=t,this.b*=e,this}rotate(t,e){const n=st.fromEllipse(this);n.rotate(t,e);const i=oi.fromRect(n);return this.a=i.a,this.b=i.b,this.x=i.x,this.y=i.y,this}translate(t,e){const n=B.create(t,e);return this.x+=n.x,this.y+=n.y,this}equals(t){return t!=null&&t.x===this.x&&t.y===this.y&&t.a===this.a&&t.b===this.b}clone(){return new oi(this.x,this.y,this.a,this.b)}toJSON(){return{x:this.x,y:this.y,a:this.a,b:this.b}}serialize(){return`${this.x} ${this.y} ${this.a} ${this.b}`}}(function(r){function t(e){return e!=null&&e instanceof r}r.isEllipse=t})(oi||(oi={})),function(r){function t(i,s,a,l){return i==null||typeof i=="number"?new r(i,s,a,l):e(i)}r.create=t;function e(i){return r.isEllipse(i)?i.clone():Array.isArray(i)?new r(i[0],i[1],i[2],i[3]):new r(i.x,i.y,i.a,i.b)}r.parse=e;function n(i){const s=i.center;return new r(s.x,s.y,i.width/2,i.height/2)}r.fromRect=n}(oi||(oi={}));const Ew=new RegExp("^[\\s\\dLMCZz,.]*$");function Mw(r){return typeof r!="string"?!1:Ew.test(r)}function Zv(r,t){return(r%t+t)%t}function Tw(r,t,e,n,i){const s=[],a=r[r.length-1],l=t!=null&&t>0,u=t||0;if(n&&l){r=r.slice();const g=r[0],p=new B(a.x+(g.x-a.x)/2,a.y+(g.y-a.y)/2);r.splice(0,0,p)}let h=r[0],d=1;for(e?s.push("M",h.x,h.y):s.push("L",h.x,h.y);d<(n?r.length:r.length-1);){let g=r[Zv(d,r.length)],p=h.x-g.x,m=h.y-g.y;if(l&&(p!==0||m!==0)&&(i==null||i.indexOf(d-1)<0)){let x=Math.sqrt(p*p+m*m);const C=p*Math.min(u,x/2)/x,O=m*Math.min(u,x/2)/x,R=g.x+C,L=g.y+O;s.push("L",R,L);let M=r[Zv(d+1,r.length)];for(;d<r.length-2&&Math.round(M.x-g.x)===0&&Math.round(M.y-g.y)===0;)M=r[Zv(d+2,r.length)],d+=1;p=M.x-g.x,m=M.y-g.y,x=Math.max(1,Math.sqrt(p*p+m*m));const k=p*Math.min(u,x/2)/x,z=m*Math.min(u,x/2)/x,H=g.x+k,K=g.y+z;s.push("Q",g.x,g.y,H,K),g=new B(H,K)}else s.push("L",g.x,g.y);h=g,d+=1}return n?s.push("Z"):s.push("L",a.x,a.y),s.map(g=>typeof g=="string"?g:+g.toFixed(3)).join(" ")}function h0(r,t={}){const e=[];return r&&r.length&&r.forEach(n=>{Array.isArray(n)?e.push({x:n[0],y:n[1]}):e.push({x:n.x,y:n.y})}),Tw(e,t.round,t.initialMove==null||t.initialMove,t.close,t.exclude)}function Xd(r,t,e,n,i=0,s=0,a=0,l,u){if(e===0||n===0)return[];l-=r,u-=t,e=Math.abs(e),n=Math.abs(n);const h=-l/2,d=-u/2,g=Math.cos(i*Math.PI/180),p=Math.sin(i*Math.PI/180),m=g*h+p*d,x=-1*p*h+g*d,C=m*m,O=x*x,R=e*e,L=n*n,M=C/R+O/L;let k;if(M>1)e=Math.sqrt(M)*e,n=Math.sqrt(M)*n,k=0;else{let Ss=1;s===a&&(Ss=-1),k=Ss*Math.sqrt((R*L-R*O-L*C)/(R*O+L*C))}const z=k*e*x/n,H=-1*k*n*m/e,K=g*z-p*H+l/2,rt=p*z+g*H+u/2;let it=Math.atan2((x-H)/n,(m-z)/e)-Math.atan2(0,1),gt=it>=0?it:2*Math.PI+it;it=Math.atan2((-x-H)/n,(-m-z)/e)-Math.atan2((x-H)/n,(m-z)/e);let ot=it>=0?it:2*Math.PI+it;a===0&&ot>0?ot-=2*Math.PI:a!==0&&ot<0&&(ot+=2*Math.PI);const pt=ot*2/Math.PI,Ae=Math.ceil(pt<0?-1*pt:pt),Ut=ot/Ae,G=8/3*Math.sin(Ut/4)*Math.sin(Ut/4)/Math.sin(Ut/2),tt=g*e,Rt=g*n,Le=p*e,Ne=p*n;let un=Math.cos(gt),zn=Math.sin(gt),pg=-G*(tt*zn+Ne*un),mg=-G*(Le*zn-Rt*un),co=0,xh=0;const ws=[];for(let Ss=0;Ss<Ae;Ss+=1){gt+=Ut,un=Math.cos(gt),zn=Math.sin(gt),co=tt*un-Ne*zn+K,xh=Le*un+Rt*zn+rt;const Ax=-G*(tt*zn+Ne*un),Cx=-G*(Le*zn-Rt*un),Zl=Ss*6;ws[Zl]=Number(pg+r),ws[Zl+1]=Number(mg+t),ws[Zl+2]=Number(co-Ax+r),ws[Zl+3]=Number(xh-Cx+t),ws[Zl+4]=Number(co+r),ws[Zl+5]=Number(xh+t),pg=co+Ax,mg=xh+Cx}return ws.map(Ss=>+Ss.toFixed(2))}function Rw(r,t,e,n,i=0,s=0,a=0,l,u){const h=[],d=Xd(r,t,e,n,i,s,a,l,u);if(d!=null)for(let g=0,p=d.length;g<p;g+=6)h.push("C",d[g],d[g+1],d[g+2],d[g+3],d[g+4],d[g+5]);return h.join(" ")}class Xe extends Qs{get start(){return this.points[0]||null}get end(){return this.points[this.points.length-1]||null}constructor(t){if(super(),t!=null){if(typeof t=="string")return Xe.parse(t);this.points=t.map(e=>B.create(e))}else this.points=[]}scale(t,e,n=new B){return this.points.forEach(i=>i.scale(t,e,n)),this}rotate(t,e){return this.points.forEach(n=>n.rotate(t,e)),this}translate(t,e){const n=B.create(t,e);return this.points.forEach(i=>i.translate(n.x,n.y)),this}round(t=0){return this.points.forEach(e=>e.round(t)),this}bbox(){if(this.points.length===0)return new st;let t=1/0,e=-1/0,n=1/0,i=-1/0;const s=this.points;for(let a=0,l=s.length;a<l;a+=1){const u=s[a],h=u.x,d=u.y;h<t&&(t=h),h>e&&(e=h),d<n&&(n=d),d>i&&(i=d)}return new st(t,n,e-t,i-n)}closestPoint(t){const e=this.closestPointLength(t);return this.pointAtLength(e)}closestPointLength(t){const e=this.points,n=e.length;if(n===0||n===1)return 0;let i=0,s=0,a=1/0;for(let l=0,u=n-1;l<u;l+=1){const h=new ft(e[l],e[l+1]),d=h.length(),g=h.closestPointNormalizedLength(t),m=h.pointAt(g).squaredDistance(t);m<a&&(a=m,s=i+g*d),i+=d}return s}closestPointNormalizedLength(t){const e=this.length();return e===0?0:this.closestPointLength(t)/e}closestPointTangent(t){const e=this.closestPointLength(t);return this.tangentAtLength(e)}containsPoint(t){if(this.points.length===0)return!1;const e=B.clone(t),n=e.x,i=e.y,s=this.points,a=s.length;let l=a-1,u=0;for(let h=0;h<a;h+=1){const d=s[l],g=s[h];if(e.equals(d))return!0;const p=new ft(d,g);if(p.containsPoint(t))return!0;if(i<=d.y&&i>g.y||i>d.y&&i<=g.y){const m=d.x-n>g.x-n?d.x-n:g.x-n;if(m>=0){const x=new B(n+m,i),C=new ft(t,x);p.intersectsWithLine(C)&&(u+=1)}}l=h}return u%2===1}intersectsWithLine(t){const e=[];for(let n=0,i=this.points.length-1;n<i;n+=1){const s=this.points[n],a=this.points[n+1],l=t.intersectsWithLine(new ft(s,a));l&&e.push(l)}return e.length>0?e:null}isDifferentiable(){for(let t=0,e=this.points.length-1;t<e;t+=1){const n=this.points[t],i=this.points[t+1];if(new ft(n,i).isDifferentiable())return!0}return!1}length(){let t=0;for(let e=0,n=this.points.length-1;e<n;e+=1){const i=this.points[e],s=this.points[e+1];t+=i.distance(s)}return t}pointAt(t){const e=this.points,n=e.length;if(n===0)return null;if(n===1||t<=0)return e[0].clone();if(t>=1)return e[n-1].clone();const s=this.length()*t;return this.pointAtLength(s)}pointAtLength(t){const e=this.points,n=e.length;if(n===0)return null;if(n===1)return e[0].clone();let i=!0;t<0&&(i=!1,t=-t);let s=0;for(let l=0,u=n-1;l<u;l+=1){const h=i?l:u-1-l,d=e[h],g=e[h+1],p=new ft(d,g),m=d.distance(g);if(t<=s+m)return p.pointAtLength((i?1:-1)*(t-s));s+=m}return(i?e[n-1]:e[0]).clone()}tangentAt(t){const n=this.points.length;if(n===0||n===1)return null;t<0&&(t=0),t>1&&(t=1);const s=this.length()*t;return this.tangentAtLength(s)}tangentAtLength(t){const e=this.points,n=e.length;if(n===0||n===1)return null;let i=!0;t<0&&(i=!1,t=-t);let s,a=0;for(let l=0,u=n-1;l<u;l+=1){const h=i?l:u-1-l,d=e[h],g=e[h+1],p=new ft(d,g),m=d.distance(g);if(p.isDifferentiable()){if(t<=a+m)return p.tangentAtLength((i?1:-1)*(t-a));s=p}a+=m}if(s){const l=i?1:0;return s.tangentAt(l)}return null}simplify(t={}){const e=this.points;if(e.length<3)return this;const n=t.threshold||0;let i=0;for(;e[i+2];){const s=i,a=i+1,l=i+2,u=e[s],h=e[a],d=e[l];new ft(u,d).closestPoint(h).distance(h)<=n?e.splice(a,1):i+=1}return this}toHull(){const t=this.points,e=t.length;if(e===0)return new Xe;let n=t[0];for(let p=1;p<e;p+=1)(t[p].y<n.y||t[p].y===n.y&&t[p].x>n.x)&&(n=t[p]);const i=[];for(let p=0;p<e;p+=1){let m=n.theta(t[p]);m===0&&(m=360),i.push([t[p],p,m])}if(i.sort((p,m)=>{let x=p[2]-m[2];return x===0&&(x=m[1]-p[1]),x}),i.length>2){const p=i[i.length-1];i.unshift(p)}const s={},a=[],l=p=>`${p[0].toString()}@${p[1]}`;for(;i.length!==0;){const p=i.pop(),m=p[0];if(s[l(p)])continue;let x=!1;for(;!x;)if(a.length<2)a.push(p),x=!0;else{const C=a.pop(),O=C[0],R=a.pop(),L=R[0],M=L.cross(O,m);if(M<0)a.push(R),a.push(C),a.push(p),x=!0;else if(M===0){const z=O.angleBetween(L,m);Math.abs(z-180)<1e-10||O.equals(m)||L.equals(O)?(s[l(C)]=O,a.push(R)):Math.abs((z+1)%360-1)<1e-10&&(a.push(R),i.push(C))}else s[l(C)]=O,a.push(R)}}a.length>2&&a.pop();let u,h=-1;for(let p=0,m=a.length;p<m;p+=1){const x=a[p][1];(u===void 0||x<u)&&(u=x,h=p)}let d=[];if(h>0){const p=a.slice(h),m=a.slice(0,h);d=p.concat(m)}else d=a;const g=[];for(let p=0,m=d.length;p<m;p+=1)g.push(d[p][0]);return new Xe(g)}equals(t){return t==null||t.points.length!==this.points.length?!1:t.points.every((e,n)=>e.equals(this.points[n]))}clone(){return new Xe(this.points.map(t=>t.clone()))}toJSON(){return this.points.map(t=>t.toJSON())}serialize(){return this.points.map(t=>`${t.serialize()}`).join(" ")}}(function(r){function t(e){return e!=null&&e instanceof r}r.isPolyline=t})(Xe||(Xe={})),function(r){function t(e){const n=e.trim();if(n==="")return new r;const i=[],s=n.split(/\s*,\s*|\s+/);for(let a=0,l=s.length;a<l;a+=2)i.push({x:+s[a],y:+s[a+1]});return new r(i)}r.parse=t}(Xe||(Xe={}));class We extends Qs{constructor(t,e,n,i){super(),this.PRECISION=3,this.start=B.create(t),this.controlPoint1=B.create(e),this.controlPoint2=B.create(n),this.end=B.create(i)}bbox(){const t=this.start,e=this.controlPoint1,n=this.controlPoint2,i=this.end,s=t.x,a=t.y,l=e.x,u=e.y,h=n.x,d=n.y,g=i.x,p=i.y,m=[],x=[],C=[[],[]];let O,R,L,M,k,z,H,K;for(let Rt=0;Rt<2;Rt+=1){if(Rt===0?(R=6*s-12*l+6*h,O=-3*s+9*l-9*h+3*g,L=3*l-3*s):(R=6*a-12*u+6*d,O=-3*a+9*u-9*d+3*p,L=3*u-3*a),Math.abs(O)<1e-12){if(Math.abs(R)<1e-12)continue;M=-L/R,M>0&&M<1&&x.push(M);continue}H=R*R-4*L*O,K=Math.sqrt(H),!(H<0)&&(k=(-R+K)/(2*O),k>0&&k<1&&x.push(k),z=(-R-K)/(2*O),z>0&&z<1&&x.push(z))}let rt,it,gt,ot=x.length;const pt=ot;for(;ot;)ot-=1,M=x[ot],gt=1-M,rt=gt*gt*gt*s+3*gt*gt*M*l+3*gt*M*M*h+M*M*M*g,C[0][ot]=rt,it=gt*gt*gt*a+3*gt*gt*M*u+3*gt*M*M*d+M*M*M*p,C[1][ot]=it,m[ot]={X:rt,Y:it};x[pt]=0,x[pt+1]=1,m[pt]={X:s,Y:a},m[pt+1]={X:g,Y:p},C[0][pt]=s,C[1][pt]=a,C[0][pt+1]=g,C[1][pt+1]=p,x.length=pt+2,C[0].length=pt+2,C[1].length=pt+2,m.length=pt+2;const Ae=Math.min.apply(null,C[0]),Ut=Math.min.apply(null,C[1]),G=Math.max.apply(null,C[0]),tt=Math.max.apply(null,C[1]);return new st(Ae,Ut,G-Ae,tt-Ut)}closestPoint(t,e={}){return this.pointAtT(this.closestPointT(t,e))}closestPointLength(t,e={}){const n=this.getOptions(e);return this.lengthAtT(this.closestPointT(t,n),n)}closestPointNormalizedLength(t,e={}){const n=this.getOptions(e),i=this.closestPointLength(t,n);if(!i)return 0;const s=this.length(n);return s===0?0:i/s}closestPointT(t,e={}){const n=this.getPrecision(e),i=this.getDivisions(e),s=Math.pow(10,-n);let a=null,l=0,u=0,h=0,d=0,g=0,p=null;const m=i.length;let x=m>0?1/m:0;for(i.forEach((C,O)=>{const R=C.start.distance(t),L=C.end.distance(t),M=R+L;(p==null||M<p)&&(a=C,l=O*x,u=(O+1)*x,h=R,d=L,p=M,g=C.endpointDistance())});;){const C=h?Math.abs(h-d)/h:0,O=d!=null?Math.abs(h-d)/d:0,R=C<s||O<s,L=h?h<g*s:!0,M=d?d<g*s:!0;if(R||(L||M))return h<=d?l:u;const z=a.divide(.5);x/=2;const H=z[0].start.distance(t),K=z[0].end.distance(t),rt=H+K,it=z[1].start.distance(t),gt=z[1].end.distance(t),ot=it+gt;rt<=ot?(a=z[0],u-=x,h=H,d=K):(a=z[1],l+=x,h=it,d=gt)}}closestPointTangent(t,e={}){return this.tangentAtT(this.closestPointT(t,e))}containsPoint(t,e={}){return this.toPolyline(e).containsPoint(t)}divideAt(t,e={}){if(t<=0)return this.divideAtT(0);if(t>=1)return this.divideAtT(1);const n=this.tAt(t,e);return this.divideAtT(n)}divideAtLength(t,e={}){const n=this.tAtLength(t,e);return this.divideAtT(n)}divide(t){return this.divideAtT(t)}divideAtT(t){const e=this.start,n=this.controlPoint1,i=this.controlPoint2,s=this.end;if(t<=0)return[new We(e,e,e,e),new We(e,n,i,s)];if(t>=1)return[new We(e,n,i,s),new We(s,s,s,s)];const a=this.getSkeletonPoints(t),l=a.startControlPoint1,u=a.startControlPoint2,h=a.divider,d=a.dividerControlPoint1,g=a.dividerControlPoint2;return[new We(e,l,u,h),new We(h,d,g,s)]}endpointDistance(){return this.start.distance(this.end)}getSkeletonPoints(t){const e=this.start,n=this.controlPoint1,i=this.controlPoint2,s=this.end;if(t<=0)return{startControlPoint1:e.clone(),startControlPoint2:e.clone(),divider:e.clone(),dividerControlPoint1:n.clone(),dividerControlPoint2:i.clone()};if(t>=1)return{startControlPoint1:n.clone(),startControlPoint2:i.clone(),divider:s.clone(),dividerControlPoint1:s.clone(),dividerControlPoint2:s.clone()};const a=new ft(e,n).pointAt(t),l=new ft(n,i).pointAt(t),u=new ft(i,s).pointAt(t),h=new ft(a,l).pointAt(t),d=new ft(l,u).pointAt(t),g=new ft(h,d).pointAt(t);return{startControlPoint1:a,startControlPoint2:h,divider:g,dividerControlPoint1:d,dividerControlPoint2:u}}getSubdivisions(t={}){const e=this.getPrecision(t);let n=[new We(this.start,this.controlPoint1,this.controlPoint2,this.end)];if(e===0)return n;let i=this.endpointDistance();const s=Math.pow(10,-e);let a=0;for(;;){a+=1;const l=[];n.forEach(d=>{const g=d.divide(.5);l.push(g[0],g[1])});const u=l.reduce((d,g)=>d+g.endpointDistance(),0),h=u!==0?(u-i)/u:0;if(a>1&&h<s)return l;n=l,i=u}}length(t={}){return this.getDivisions(t).reduce((n,i)=>n+i.endpointDistance(),0)}lengthAtT(t,e={}){if(t<=0)return 0;const n=e.precision===void 0?this.PRECISION:e.precision;return this.divide(t)[0].length({precision:n})}pointAt(t,e={}){if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();const n=this.tAt(t,e);return this.pointAtT(n)}pointAtLength(t,e={}){const n=this.tAtLength(t,e);return this.pointAtT(n)}pointAtT(t){return t<=0?this.start.clone():t>=1?this.end.clone():this.getSkeletonPoints(t).divider}isDifferentiable(){const t=this.start,e=this.controlPoint1,n=this.controlPoint2,i=this.end;return!(t.equals(e)&&e.equals(n)&&n.equals(i))}tangentAt(t,e={}){if(!this.isDifferentiable())return null;t<0?t=0:t>1&&(t=1);const n=this.tAt(t,e);return this.tangentAtT(n)}tangentAtLength(t,e={}){if(!this.isDifferentiable())return null;const n=this.tAtLength(t,e);return this.tangentAtT(n)}tangentAtT(t){if(!this.isDifferentiable())return null;t<0&&(t=0),t>1&&(t=1);const e=this.getSkeletonPoints(t),n=e.startControlPoint2,i=e.dividerControlPoint1,s=e.divider,a=new ft(n,i);return a.translate(s.x-n.x,s.y-n.y),a}getPrecision(t={}){return t.precision==null?this.PRECISION:t.precision}getDivisions(t={}){if(t.subdivisions!=null)return t.subdivisions;const e=this.getPrecision(t);return this.getSubdivisions({precision:e})}getOptions(t={}){const e=this.getPrecision(t),n=this.getDivisions(t);return{precision:e,subdivisions:n}}tAt(t,e={}){if(t<=0)return 0;if(t>=1)return 1;const n=this.getOptions(e),s=this.length(n)*t;return this.tAtLength(s,n)}tAtLength(t,e={}){let n=!0;t<0&&(n=!1,t=-t);const i=this.getPrecision(e),s=this.getDivisions(e),a={precision:i,subdivisions:s};let l=null,u,h,d=0,g=0,p=0;const m=s.length;let x=m>0?1/m:0;for(let R=0;R<m;R+=1){const L=n?R:m-1-R,M=s[R],k=M.endpointDistance();if(t<=p+k){l=M,u=L*x,h=(L+1)*x,d=n?t-p:k+p-t,g=n?k+p-t:t-p;break}p+=k}if(l==null)return n?1:0;const C=this.length(a),O=Math.pow(10,-i);for(;;){let R;if(R=C!==0?d/C:0,R<O)return u;if(R=C!==0?g/C:0,R<O)return h;let L,M;const k=l.divide(.5);x/=2;const z=k[0].endpointDistance(),H=k[1].endpointDistance();d<=z?(l=k[0],h-=x,L=d,M=z-L):(l=k[1],u+=x,L=d-z,M=H-L),d=L,g=M}}toPoints(t={}){const e=this.getDivisions(t),n=[e[0].start.clone()];return e.forEach(i=>n.push(i.end.clone())),n}toPolyline(t={}){return new Xe(this.toPoints(t))}scale(t,e,n){return this.start.scale(t,e,n),this.controlPoint1.scale(t,e,n),this.controlPoint2.scale(t,e,n),this.end.scale(t,e,n),this}rotate(t,e){return this.start.rotate(t,e),this.controlPoint1.rotate(t,e),this.controlPoint2.rotate(t,e),this.end.rotate(t,e),this}translate(t,e){return typeof t=="number"?(this.start.translate(t,e),this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e)):(this.start.translate(t),this.controlPoint1.translate(t),this.controlPoint2.translate(t),this.end.translate(t)),this}equals(t){return t!=null&&this.start.equals(t.start)&&this.controlPoint1.equals(t.controlPoint1)&&this.controlPoint2.equals(t.controlPoint2)&&this.end.equals(t.end)}clone(){return new We(this.start,this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.controlPoint1.serialize(),this.controlPoint2.serialize(),this.end.serialize()].join(" ")}}(function(r){function t(e){return e!=null&&e instanceof r}r.isCurve=t})(We||(We={})),function(r){function t(i){const s=i.length,a=[],l=[];let u=2;a[0]=i[0]/u;for(let h=1;h<s;h+=1)l[h]=1/u,u=(h<s-1?4:3.5)-l[h],a[h]=(i[h]-a[h-1])/u;for(let h=1;h<s;h+=1)a[s-h-1]-=l[s-h]*a[s-h];return a}function e(i){const s=i.map(p=>B.clone(p)),a=[],l=[],u=s.length-1;if(u===1)return a[0]=new B((2*s[0].x+s[1].x)/3,(2*s[0].y+s[1].y)/3),l[0]=new B(2*a[0].x-s[0].x,2*a[0].y-s[0].y),[a,l];const h=[];for(let p=1;p<u-1;p+=1)h[p]=4*s[p].x+2*s[p+1].x;h[0]=s[0].x+2*s[1].x,h[u-1]=(8*s[u-1].x+s[u].x)/2;const d=t(h);for(let p=1;p<u-1;p+=1)h[p]=4*s[p].y+2*s[p+1].y;h[0]=s[0].y+2*s[1].y,h[u-1]=(8*s[u-1].y+s[u].y)/2;const g=t(h);for(let p=0;p<u;p+=1)a.push(new B(d[p],g[p])),p<u-1?l.push(new B(2*s[p+1].x-d[p+1],2*s[p+1].y-g[p+1])):l.push(new B((s[u].x+d[u-1])/2,(s[u].y+g[u-1])/2));return[a,l]}function n(i){if(i==null||Array.isArray(i)&&i.length<2)throw new Error("At least 2 points are required");const s=e(i),a=[];for(let l=0,u=s[0].length;l<u;l+=1){const h=new B(s[0][l].x,s[0][l].y),d=new B(s[1][l].x,s[1][l].y);a.push(new r(i[l],h,d,i[l+1]))}return a}r.throughPoints=n}(We||(We={}));class Yd extends Qs{constructor(){super(...arguments),this.isVisible=!0,this.isSegment=!0,this.isSubpathStart=!1}get end(){return this.endPoint}get start(){if(this.previousSegment==null)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path, or segment has not yet been added to a path.)");return this.previousSegment.end}closestPointT(t,e){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(t);throw new Error("Neither `closestPointT` nor `closestPointNormalizedLength` method is implemented.")}lengthAtT(t,e){if(t<=0)return 0;const n=this.length();return t>=1?n:n*t}divideAtT(t){if(this.divideAt)return this.divideAt(t);throw new Error("Neither `divideAtT` nor `divideAt` method is implemented.")}pointAtT(t){if(this.pointAt)return this.pointAt(t);throw new Error("Neither `pointAtT` nor `pointAt` method is implemented.")}tangentAtT(t){if(this.tangentAt)return this.tangentAt(t);throw new Error("Neither `tangentAtT` nor `tangentAt` method is implemented.")}}class Fn extends Yd{constructor(t,e){super(),ft.isLine(t)?this.endPoint=t.end.clone().round(2):this.endPoint=B.create(t,e).round(2)}get type(){return"L"}get line(){return new ft(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(t){return this.line.closestPoint(t)}closestPointLength(t){return this.line.closestPointLength(t)}closestPointNormalizedLength(t){return this.line.closestPointNormalizedLength(t)}closestPointTangent(t){return this.line.closestPointTangent(t)}length(){return this.line.length()}divideAt(t){const e=this.line.divideAt(t);return[new Fn(e[0]),new Fn(e[1])]}divideAtLength(t){const e=this.line.divideAtLength(t);return[new Fn(e[0]),new Fn(e[1])]}getSubdivisions(){return[]}pointAt(t){return this.line.pointAt(t)}pointAtLength(t){return this.line.pointAtLength(t)}tangentAt(t){return this.line.tangentAt(t)}tangentAtLength(t){return this.line.tangentAtLength(t)}isDifferentiable(){return this.previousSegment==null?!1:!this.start.equals(this.end)}clone(){return new Fn(this.end)}scale(t,e,n){return this.end.scale(t,e,n),this}rotate(t,e){return this.end.rotate(t,e),this}translate(t,e){return typeof t=="number"?this.end.translate(t,e):this.end.translate(t),this}equals(t){return this.type===t.type&&this.start.equals(t.start)&&this.end.equals(t.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){const t=this.end;return`${this.type} ${t.x} ${t.y}`}}(function(r){function t(...e){const n=e.length,i=e[0];if(ft.isLine(i))return new r(i);if(B.isPointLike(i))return n===1?new r(i):e.map(a=>new r(a));if(n===2)return new r(+e[0],+e[1]);const s=[];for(let a=0;a<n;a+=2){const l=+e[a],u=+e[a+1];s.push(new r(l,u))}return s}r.create=t})(Fn||(Fn={}));class Dl extends Yd{get end(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. MoveTo), or segment has not yet been added to a path.)");return this.subpathStartSegment.end}get type(){return"Z"}get line(){return new ft(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(t){return this.line.closestPoint(t)}closestPointLength(t){return this.line.closestPointLength(t)}closestPointNormalizedLength(t){return this.line.closestPointNormalizedLength(t)}closestPointTangent(t){return this.line.closestPointTangent(t)}length(){return this.line.length()}divideAt(t){const e=this.line.divideAt(t);return[e[1].isDifferentiable()?new Fn(e[0]):this.clone(),new Fn(e[1])]}divideAtLength(t){const e=this.line.divideAtLength(t);return[e[1].isDifferentiable()?new Fn(e[0]):this.clone(),new Fn(e[1])]}getSubdivisions(){return[]}pointAt(t){return this.line.pointAt(t)}pointAtLength(t){return this.line.pointAtLength(t)}tangentAt(t){return this.line.tangentAt(t)}tangentAtLength(t){return this.line.tangentAtLength(t)}isDifferentiable(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)}scale(){return this}rotate(){return this}translate(){return this}equals(t){return this.type===t.type&&this.start.equals(t.start)&&this.end.equals(t.end)}clone(){return new Dl}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return this.type}}(function(r){function t(){return new r}r.create=t})(Dl||(Dl={}));class Bl extends Yd{constructor(t,e){super(),this.isVisible=!1,this.isSubpathStart=!0,ft.isLine(t)||We.isCurve(t)?this.endPoint=t.end.clone().round(2):this.endPoint=B.create(t,e).round(2)}get start(){throw new Error("Illegal access. Moveto segments should not need a start property.")}get type(){return"M"}bbox(){return null}closestPoint(){return this.end.clone()}closestPointLength(){return 0}closestPointNormalizedLength(){return 0}closestPointT(){return 1}closestPointTangent(){return null}length(){return 0}lengthAtT(){return 0}divideAt(){return[this.clone(),this.clone()]}divideAtLength(){return[this.clone(),this.clone()]}getSubdivisions(){return[]}pointAt(){return this.end.clone()}pointAtLength(){return this.end.clone()}pointAtT(){return this.end.clone()}tangentAt(){return null}tangentAtLength(){return null}tangentAtT(){return null}isDifferentiable(){return!1}scale(t,e,n){return this.end.scale(t,e,n),this}rotate(t,e){return this.end.rotate(t,e),this}translate(t,e){return typeof t=="number"?this.end.translate(t,e):this.end.translate(t),this}clone(){return new Bl(this.end)}equals(t){return this.type===t.type&&this.end.equals(t.end)}toJSON(){return{type:this.type,end:this.end.toJSON()}}serialize(){const t=this.end;return`${this.type} ${t.x} ${t.y}`}}(function(r){function t(...e){const n=e.length,i=e[0];if(ft.isLine(i))return new r(i);if(We.isCurve(i))return new r(i);if(B.isPointLike(i)){if(n===1)return new r(i);const a=[];for(let l=0;l<n;l+=1)l===0?a.push(new r(e[l])):a.push(new Fn(e[l]));return a}if(n===2)return new r(+e[0],+e[1]);const s=[];for(let a=0;a<n;a+=2){const l=+e[a],u=+e[a+1];a===0?s.push(new r(l,u)):s.push(new Fn(l,u))}return s}r.create=t})(Bl||(Bl={}));class Lr extends Yd{constructor(t,e,n,i,s,a){super(),We.isCurve(t)?(this.controlPoint1=t.controlPoint1.clone().round(2),this.controlPoint2=t.controlPoint2.clone().round(2),this.endPoint=t.end.clone().round(2)):typeof t=="number"?(this.controlPoint1=new B(t,e).round(2),this.controlPoint2=new B(n,i).round(2),this.endPoint=new B(s,a).round(2)):(this.controlPoint1=B.create(t).round(2),this.controlPoint2=B.create(e).round(2),this.endPoint=B.create(n).round(2))}get type(){return"C"}get curve(){return new We(this.start,this.controlPoint1,this.controlPoint2,this.end)}bbox(){return this.curve.bbox()}closestPoint(t){return this.curve.closestPoint(t)}closestPointLength(t){return this.curve.closestPointLength(t)}closestPointNormalizedLength(t){return this.curve.closestPointNormalizedLength(t)}closestPointTangent(t){return this.curve.closestPointTangent(t)}length(){return this.curve.length()}divideAt(t,e={}){const n=this.curve.divideAt(t,e);return[new Lr(n[0]),new Lr(n[1])]}divideAtLength(t,e={}){const n=this.curve.divideAtLength(t,e);return[new Lr(n[0]),new Lr(n[1])]}divideAtT(t){const e=this.curve.divideAtT(t);return[new Lr(e[0]),new Lr(e[1])]}getSubdivisions(){return[]}pointAt(t){return this.curve.pointAt(t)}pointAtLength(t){return this.curve.pointAtLength(t)}tangentAt(t){return this.curve.tangentAt(t)}tangentAtLength(t){return this.curve.tangentAtLength(t)}isDifferentiable(){if(!this.previousSegment)return!1;const t=this.start,e=this.controlPoint1,n=this.controlPoint2,i=this.end;return!(t.equals(e)&&e.equals(n)&&n.equals(i))}scale(t,e,n){return this.controlPoint1.scale(t,e,n),this.controlPoint2.scale(t,e,n),this.end.scale(t,e,n),this}rotate(t,e){return this.controlPoint1.rotate(t,e),this.controlPoint2.rotate(t,e),this.end.rotate(t,e),this}translate(t,e){return typeof t=="number"?(this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e)):(this.controlPoint1.translate(t),this.controlPoint2.translate(t),this.end.translate(t)),this}equals(t){return this.start.equals(t.start)&&this.end.equals(t.end)&&this.controlPoint1.equals(t.controlPoint1)&&this.controlPoint2.equals(t.controlPoint2)}clone(){return new Lr(this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){const t=this.controlPoint1,e=this.controlPoint2,n=this.end;return[this.type,t.x,t.y,e.x,e.y,n.x,n.y].join(" ")}}(function(r){function t(...e){const n=e.length,i=e[0];if(We.isCurve(i))return new r(i);if(B.isPointLike(i)){if(n===3)return new r(e[0],e[1],e[2]);const a=[];for(let l=0;l<n;l+=3)a.push(new r(e[l],e[l+1],e[l+2]));return a}if(n===6)return new r(e[0],e[1],e[2],e[3],e[4],e[5]);const s=[];for(let a=0;a<n;a+=6)s.push(new r(e[a],e[a+1],e[a+2],e[a+3],e[a+4],e[a+5]));return s}r.create=t})(Lr||(Lr={}));function Zd(r,t,e){return{x:r*Math.cos(e)-t*Math.sin(e),y:r*Math.sin(e)+t*Math.cos(e)}}function f0(r,t,e,n,i,s){const a=.3333333333333333,l=2/3;return[a*r+l*e,a*t+l*n,a*i+l*e,a*s+l*n,i,s]}function d0(r,t,e,n,i,s,a,l,u,h){const d=Math.PI*120/180,g=Math.PI/180*(+i||0);let p=[],m,x,C,O,R;if(h)x=h[0],C=h[1],O=h[2],R=h[3];else{m=Zd(r,t,-g),r=m.x,t=m.y,m=Zd(l,u,-g),l=m.x,u=m.y;const Ut=(r-l)/2,G=(t-u)/2;let tt=Ut*Ut/(e*e)+G*G/(n*n);tt>1&&(tt=Math.sqrt(tt),e=tt*e,n=tt*n);const Rt=e*e,Le=n*n,Ne=(s===a?-1:1)*Math.sqrt(Math.abs((Rt*Le-Rt*G*G-Le*Ut*Ut)/(Rt*G*G+Le*Ut*Ut)));O=Ne*e*G/n+(r+l)/2,R=Ne*-n*Ut/e+(t+u)/2,x=Math.asin((t-R)/n),C=Math.asin((u-R)/n),x=r<O?Math.PI-x:x,C=l<O?Math.PI-C:C,x<0&&(x=Math.PI*2+x),C<0&&(C=Math.PI*2+C),a&&x>C&&(x-=Math.PI*2),!a&&C>x&&(C-=Math.PI*2)}let L=C-x;if(Math.abs(L)>d){const Ut=C,G=l,tt=u;C=x+d*(a&&C>x?1:-1),l=O+e*Math.cos(C),u=R+n*Math.sin(C),p=d0(l,u,e,n,i,0,a,G,tt,[C,Ut,O,R])}L=C-x;const M=Math.cos(x),k=Math.sin(x),z=Math.cos(C),H=Math.sin(C),K=Math.tan(L/4),rt=4/3*(e*K),it=4/3*(n*K),gt=[r,t],ot=[r+rt*k,t-it*M],pt=[l+rt*H,u-it*z],Ae=[l,u];if(ot[0]=2*gt[0]-ot[0],ot[1]=2*gt[1]-ot[1],h)return[ot,pt,Ae].concat(p);{p=[ot,pt,Ae].concat(p).join().split(",");const Ut=[],G=p.length;for(let tt=0;tt<G;tt+=1)Ut[tt]=tt%2?Zd(+p[tt-1],+p[tt],g).y:Zd(+p[tt],+p[tt+1],g).x;return Ut}}function Iw(r){if(!r)return null;const t=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,e=new RegExp(`([a-z])[${t},]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[${t}]*,?[${t}]*)+)`,"ig"),n=new RegExp(`(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[${t}]*,?[${t}]*`,"ig"),i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},s=[];return r.replace(e,(a,l,u)=>{const h=[];let d=l.toLowerCase();u.replace(n,(p,m)=>(m&&h.push(+m),p)),d==="m"&&h.length>2&&(s.push([l,...h.splice(0,2)]),d="l",l=l==="m"?"l":"L");const g=i[d];for(;h.length>=g&&(s.push([l,...h.splice(0,g)]),!!g););return a}),s}function Lw(r){const t=Iw(r);if(!t||!t.length)return[["M",0,0]];let e=0,n=0,i=0,s=0;const a=[];for(let l=0,u=t.length;l<u;l+=1){const h=[];a.push(h);const d=t[l],g=d[0];if(g!==g.toUpperCase())switch(h[0]=g.toUpperCase(),h[0]){case"A":h[1]=d[1],h[2]=d[2],h[3]=d[3],h[4]=d[4],h[5]=d[5],h[6]=+d[6]+e,h[7]=+d[7]+n;break;case"V":h[1]=+d[1]+n;break;case"H":h[1]=+d[1]+e;break;case"M":i=+d[1]+e,s=+d[2]+n;for(let p=1,m=d.length;p<m;p+=1)h[p]=+d[p]+(p%2?e:n);break;default:for(let p=1,m=d.length;p<m;p+=1)h[p]=+d[p]+(p%2?e:n);break}else for(let p=0,m=d.length;p<m;p+=1)h[p]=d[p];switch(h[0]){case"Z":e=+i,n=+s;break;case"H":e=h[1];break;case"V":n=h[1];break;case"M":i=h[h.length-2],s=h[h.length-1],e=h[h.length-2],n=h[h.length-1];break;default:e=h[h.length-2],n=h[h.length-1];break}}return a}function Nw(r){const t=Lw(r),e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function n(u,h,d){let g,p;if(!u)return["C",h.x,h.y,h.x,h.y,h.x,h.y];switch(u[0]in{T:1,Q:1}||(h.qx=null,h.qy=null),u[0]){case"M":h.X=u[1],h.Y=u[2];break;case"A":return parseFloat(u[1])===0||parseFloat(u[2])===0?["L",u[6],u[7]]:["C"].concat(d0.apply(0,[h.x,h.y].concat(u.slice(1))));case"S":return d==="C"||d==="S"?(g=h.x*2-h.bx,p=h.y*2-h.by):(g=h.x,p=h.y),["C",g,p].concat(u.slice(1));case"T":return d==="Q"||d==="T"?(h.qx=h.x*2-h.qx,h.qy=h.y*2-h.qy):(h.qx=h.x,h.qy=h.y),["C"].concat(f0(h.x,h.y,h.qx,h.qy,u[1],u[2]));case"Q":return h.qx=u[1],h.qy=u[2],["C"].concat(f0(h.x,h.y,u[1],u[2],u[3],u[4]));case"H":return["L"].concat(u[1],h.y);case"V":return["L"].concat(h.x,u[1]);case"L":break;case"Z":break;default:break}return u}function i(u,h){if(u[h].length>7){u[h].shift();const d=u[h];for(;d.length;)s[h]="A",h+=1,u.splice(h,0,["C"].concat(d.splice(0,6)));u.splice(h,1),l=t.length}}const s=[];let a="",l=t.length;for(let u=0;u<l;u+=1){let h="";t[u]&&(h=t[u][0]),h!=="C"&&(s[u]=h,u>0&&(a=s[u-1])),t[u]=n(t[u],e,a),s[u]!=="A"&&h==="C"&&(s[u]="C"),i(t,u);const d=t[u],g=d.length;e.x=d[g-2],e.y=d[g-1],e.bx=parseFloat(d[g-4])||e.x,e.by=parseFloat(d[g-3])||e.y}return(!t[0][0]||t[0][0]!=="M")&&t.unshift(["M",0,0]),t}function Dw(r){return Nw(r).map(t=>t.map(e=>typeof e=="string"?e:Se.round(e,2))).join(",").split(",").join(" ")}class bt extends Qs{constructor(t){if(super(),this.PRECISION=3,this.segments=[],Array.isArray(t))if(ft.isLine(t[0])||We.isCurve(t[0])){let e=null;t.forEach((i,s)=>{s===0&&this.appendSegment(bt.createSegment("M",i.start)),e!=null&&!e.end.equals(i.start)&&this.appendSegment(bt.createSegment("M",i.start)),ft.isLine(i)?this.appendSegment(bt.createSegment("L",i.end)):We.isCurve(i)&&this.appendSegment(bt.createSegment("C",i.controlPoint1,i.controlPoint2,i.end)),e=i})}else t.forEach(n=>{n.isSegment&&this.appendSegment(n)});else t!=null&&(ft.isLine(t)?(this.appendSegment(bt.createSegment("M",t.start)),this.appendSegment(bt.createSegment("L",t.end))):We.isCurve(t)?(this.appendSegment(bt.createSegment("M",t.start)),this.appendSegment(bt.createSegment("C",t.controlPoint1,t.controlPoint2,t.end))):Xe.isPolyline(t)?t.points&&t.points.length&&t.points.forEach((e,n)=>{const i=n===0?bt.createSegment("M",e):bt.createSegment("L",e);this.appendSegment(i)}):t.isSegment&&this.appendSegment(t))}get start(){const t=this.segments,e=t.length;if(e===0)return null;for(let n=0;n<e;n+=1){const i=t[n];if(i.isVisible)return i.start}return t[e-1].end}get end(){const t=this.segments,e=t.length;if(e===0)return null;for(let n=e-1;n>=0;n-=1){const i=t[n];if(i.isVisible)return i.end}return t[e-1].end}moveTo(...t){return this.appendSegment(Bl.create.call(null,...t))}lineTo(...t){return this.appendSegment(Fn.create.call(null,...t))}curveTo(...t){return this.appendSegment(Lr.create.call(null,...t))}arcTo(t,e,n,i,s,a,l){const u=this.end||new B,h=typeof a=="number"?Xd(u.x,u.y,t,e,n,i,s,a,l):Xd(u.x,u.y,t,e,n,i,s,a.x,a.y);if(h!=null)for(let d=0,g=h.length;d<g;d+=6)this.curveTo(h[d],h[d+1],h[d+2],h[d+3],h[d+4],h[d+5]);return this}quadTo(t,e,n,i){const s=this.end||new B,a=["M",s.x,s.y];if(typeof t=="number")a.push("Q",t,e,n,i);else{const u=e;a.push("Q",t.x,t.y,u.x,u.y)}const l=bt.parse(a.join(" "));return this.appendSegment(l.segments.slice(1)),this}close(){return this.appendSegment(Dl.create())}drawPoints(t,e={}){const n=h0(t,e),i=bt.parse(n);i&&i.segments&&this.appendSegment(i.segments)}bbox(){const t=this.segments,e=t.length;if(e===0)return null;let n;for(let s=0;s<e;s+=1){const a=t[s];if(a.isVisible){const l=a.bbox();l!=null&&(n=n?n.union(l):l)}}if(n!=null)return n;const i=t[e-1];return new st(i.end.x,i.end.y,0,0)}appendSegment(t){const e=this.segments.length;let n=e!==0?this.segments[e-1]:null,i;const s=null;if(Array.isArray(t))for(let a=0,l=t.length;a<l;a+=1){const u=t[a];i=this.prepareSegment(u,n,s),this.segments.push(i),n=i}else t!=null&&t.isSegment&&(i=this.prepareSegment(t,n,s),this.segments.push(i));return this}insertSegment(t,e){const n=this.segments.length;if(t<0&&(t=n+t+1),t>n||t<0)throw new Error("Index out of range.");let i,s=null,a=null;if(n!==0&&(t>=1?(s=this.segments[t-1],a=s.nextSegment):(s=null,a=this.segments[0])),!Array.isArray(e))i=this.prepareSegment(e,s,a),this.segments.splice(t,0,i);else for(let l=0,u=e.length;l<u;l+=1){const h=e[l];i=this.prepareSegment(h,s,a),this.segments.splice(t+l,0,i),s=i}return this}removeSegment(t){const e=this.fixIndex(t),n=this.segments.splice(e,1)[0],i=n.previousSegment,s=n.nextSegment;return i&&(i.nextSegment=s),s&&(s.previousSegment=i),n.isSubpathStart&&s&&this.updateSubpathStartSegment(s),n}replaceSegment(t,e){const n=this.fixIndex(t);let i;const s=this.segments[n];let a=s.previousSegment;const l=s.nextSegment;let u=s.isSubpathStart;if(!Array.isArray(e))i=this.prepareSegment(e,a,l),this.segments.splice(n,1,i),u&&i.isSubpathStart&&(u=!1);else{this.segments.splice(t,1);for(let h=0,d=e.length;h<d;h+=1){const g=e[h];i=this.prepareSegment(g,a,l),this.segments.splice(t+h,0,i),a=i,u&&i.isSubpathStart&&(u=!1)}}u&&l&&this.updateSubpathStartSegment(l)}getSegment(t){const e=this.fixIndex(t);return this.segments[e]}fixIndex(t){const e=this.segments.length;if(e===0)throw new Error("Path has no segments.");let n=t;for(;n<0;)n=e+n;if(n>=e||n<0)throw new Error("Index out of range.");return n}segmentAt(t,e={}){const n=this.segmentIndexAt(t,e);return n?this.getSegment(n):null}segmentAtLength(t,e={}){const n=this.segmentIndexAtLength(t,e);return n?this.getSegment(n):null}segmentIndexAt(t,e={}){if(this.segments.length===0)return null;const n=Se.clamp(t,0,1),i=this.getOptions(e),a=this.length(i)*n;return this.segmentIndexAtLength(a,i)}segmentIndexAtLength(t,e={}){const n=this.segments.length;if(n===0)return null;let i=!0;t<0&&(i=!1,t=-t);const s=this.getPrecision(e),a=this.getSubdivisions(e);let l=0,u=null;for(let h=0;h<n;h+=1){const d=i?h:n-1-h,g=this.segments[d],p=a[d],m=g.length({precision:s,subdivisions:p});if(g.isVisible){if(t<=l+m)return d;u=d}l+=m}return u}getSegmentSubdivisions(t={}){const e=this.getPrecision(t),n=[];for(let i=0,s=this.segments.length;i<s;i+=1){const l=this.segments[i].getSubdivisions({precision:e});n.push(l)}return n}updateSubpathStartSegment(t){let e=t.previousSegment,n=t;for(;n&&!n.isSubpathStart;)e!=null?n.subpathStartSegment=e.subpathStartSegment:n.subpathStartSegment=null,e=n,n=n.nextSegment}prepareSegment(t,e,n){t.previousSegment=e,t.nextSegment=n,e!=null&&(e.nextSegment=t),n!=null&&(n.previousSegment=t);let i=t;return t.isSubpathStart&&(t.subpathStartSegment=t,i=n),i!=null&&this.updateSubpathStartSegment(i),t}closestPoint(t,e={}){const n=this.closestPointT(t,e);return n?this.pointAtT(n):null}closestPointLength(t,e={}){const n=this.getOptions(e),i=this.closestPointT(t,n);return i?this.lengthAtT(i,n):0}closestPointNormalizedLength(t,e={}){const n=this.getOptions(e),i=this.closestPointLength(t,n);if(i===0)return 0;const s=this.length(n);return s===0?0:i/s}closestPointT(t,e={}){if(this.segments.length===0)return null;const n=this.getPrecision(e),i=this.getSubdivisions(e);let s,a=1/0;for(let l=0,u=this.segments.length;l<u;l+=1){const h=this.segments[l],d=i[l];if(h.isVisible){const g=h.closestPointT(t,{precision:n,subdivisions:d}),p=h.pointAtT(g),m=Se.squaredLength(p,t);m<a&&(s={segmentIndex:l,value:g},a=m)}}return s||{segmentIndex:this.segments.length-1,value:1}}closestPointTangent(t,e={}){if(this.segments.length===0)return null;const n=this.getPrecision(e),i=this.getSubdivisions(e);let s,a=1/0;for(let l=0,u=this.segments.length;l<u;l+=1){const h=this.segments[l],d=i[l];if(h.isDifferentiable()){const g=h.closestPointT(t,{precision:n,subdivisions:d}),p=h.pointAtT(g),m=Se.squaredLength(p,t);m<a&&(s=h.tangentAtT(g),a=m)}}return s||null}containsPoint(t,e={}){const n=this.toPolylines(e);if(!n)return!1;let i=0;for(let s=0,a=n.length;s<a;s+=1)n[s].containsPoint(t)&&(i+=1);return i%2===1}pointAt(t,e={}){if(this.segments.length===0)return null;if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();const n=this.getOptions(e),s=this.length(n)*t;return this.pointAtLength(s,n)}pointAtLength(t,e={}){if(this.segments.length===0)return null;if(t===0)return this.start.clone();let n=!0;t<0&&(n=!1,t=-t);const i=this.getPrecision(e),s=this.getSubdivisions(e);let a,l=0;for(let h=0,d=this.segments.length;h<d;h+=1){const g=n?h:d-1-h,p=this.segments[g],m=s[g],x=p.length({precision:i,subdivisions:m});if(p.isVisible){if(t<=l+x)return p.pointAtLength((n?1:-1)*(t-l),{precision:i,subdivisions:m});a=p}l+=x}return a?n?a.end:a.start:this.segments[this.segments.length-1].end.clone()}pointAtT(t){const e=this.segments,n=e.length;if(n===0)return null;const i=t.segmentIndex;if(i<0)return e[0].pointAtT(0);if(i>=n)return e[n-1].pointAtT(1);const s=Se.clamp(t.value,0,1);return e[i].pointAtT(s)}divideAt(t,e={}){if(this.segments.length===0)return null;const n=Se.clamp(t,0,1),i=this.getOptions(e),a=this.length(i)*n;return this.divideAtLength(a,i)}divideAtLength(t,e={}){if(this.segments.length===0)return null;let n=!0;t<0&&(n=!1,t=-t);const i=this.getPrecision(e),s=this.getSubdivisions(e);let a=0,l,u,h,d,g;for(let z=0,H=this.segments.length;z<H;z+=1){const K=n?z:H-1-z,rt=this.getSegment(K),it=s[K],gt={precision:i,subdivisions:it},ot=rt.length(gt);if(rt.isDifferentiable()&&(h=rt,d=K,t<=a+ot)){u=K,l=rt.divideAtLength((n?1:-1)*(t-a),gt);break}a+=ot}if(!h)return null;l||(u=d,g=n?1:0,l=h.divideAtT(g));const p=this.clone(),m=u;p.replaceSegment(m,l);const x=m;let C=m+1,O=m+2;l[0].isDifferentiable()||(p.removeSegment(x),C-=1,O-=1);const R=p.getSegment(C).start;p.insertSegment(C,bt.createSegment("M",R)),O+=1,l[1].isDifferentiable()||(p.removeSegment(O-1),O-=1);const L=O-x-1;for(let z=O,H=p.segments.length;z<H;z+=1){const K=this.getSegment(z-L),rt=p.getSegment(z);if(rt.type==="Z"&&!K.subpathStartSegment.end.equals(rt.subpathStartSegment.end)){const it=bt.createSegment("L",K.end);p.replaceSegment(z,it)}}const M=new bt(p.segments.slice(0,C)),k=new bt(p.segments.slice(C));return[M,k]}intersectsWithLine(t,e={}){const n=this.toPolylines(e);if(n==null)return null;let i=null;for(let s=0,a=n.length;s<a;s+=1){const l=n[s],u=t.intersect(l);u&&(i==null&&(i=[]),Array.isArray(u)?i.push(...u):i.push(u))}return i}isDifferentiable(){for(let t=0,e=this.segments.length;t<e;t+=1)if(this.segments[t].isDifferentiable())return!0;return!1}isValid(){const t=this.segments;return t.length===0||t[0].type==="M"}length(t={}){if(this.segments.length===0)return 0;const e=this.getSubdivisions(t);let n=0;for(let i=0,s=this.segments.length;i<s;i+=1){const a=this.segments[i],l=e[i];n+=a.length({subdivisions:l})}return n}lengthAtT(t,e={}){const n=this.segments.length;if(n===0)return 0;let i=t.segmentIndex;if(i<0)return 0;let s=Se.clamp(t.value,0,1);i>=n&&(i=n-1,s=1);const a=this.getPrecision(e),l=this.getSubdivisions(e);let u=0;for(let g=0;g<i;g+=1){const p=this.segments[g],m=l[g];u+=p.length({precision:a,subdivisions:m})}const h=this.segments[i],d=l[i];return u+=h.lengthAtT(s,{precision:a,subdivisions:d}),u}tangentAt(t,e={}){if(this.segments.length===0)return null;const n=Se.clamp(t,0,1),i=this.getOptions(e),a=this.length(i)*n;return this.tangentAtLength(a,i)}tangentAtLength(t,e={}){if(this.segments.length===0)return null;let n=!0;t<0&&(n=!1,t=-t);const i=this.getPrecision(e),s=this.getSubdivisions(e);let a,l=0;for(let u=0,h=this.segments.length;u<h;u+=1){const d=n?u:h-1-u,g=this.segments[d],p=s[d],m=g.length({precision:i,subdivisions:p});if(g.isDifferentiable()){if(t<=l+m)return g.tangentAtLength((n?1:-1)*(t-l),{precision:i,subdivisions:p});a=g}l+=m}if(a){const u=n?1:0;return a.tangentAtT(u)}return null}tangentAtT(t){const e=this.segments.length;if(e===0)return null;const n=t.segmentIndex;if(n<0)return this.segments[0].tangentAtT(0);if(n>=e)return this.segments[e-1].tangentAtT(1);const i=Se.clamp(t.value,0,1);return this.segments[n].tangentAtT(i)}getPrecision(t={}){return t.precision==null?this.PRECISION:t.precision}getSubdivisions(t={}){if(t.segmentSubdivisions==null){const e=this.getPrecision(t);return this.getSegmentSubdivisions({precision:e})}return t.segmentSubdivisions}getOptions(t={}){const e=this.getPrecision(t),n=this.getSubdivisions(t);return{precision:e,segmentSubdivisions:n}}toPoints(t={}){const e=this.segments,n=e.length;if(n===0)return null;const i=this.getSubdivisions(t),s=[];let a=[];for(let l=0;l<n;l+=1){const u=e[l];if(u.isVisible){const h=i[l];h.length>0?h.forEach(d=>a.push(d.start)):a.push(u.start)}else a.length>0&&(a.push(e[l-1].end),s.push(a),a=[])}return a.length>0&&(a.push(this.end),s.push(a)),s}toPolylines(t={}){const e=this.toPoints(t);return e?e.map(n=>new Xe(n)):null}scale(t,e,n){return this.segments.forEach(i=>i.scale(t,e,n)),this}rotate(t,e){return this.segments.forEach(n=>n.rotate(t,e)),this}translate(t,e){return typeof t=="number"?this.segments.forEach(n=>n.translate(t,e)):this.segments.forEach(n=>n.translate(t)),this}clone(){const t=new bt;return this.segments.forEach(e=>t.appendSegment(e.clone())),t}equals(t){if(t==null)return!1;const e=this.segments,n=t.segments,i=e.length;if(n.length!==i)return!1;for(let s=0;s<i;s+=1){const a=e[s],l=n[s];if(a.type!==l.type||!a.equals(l))return!1}return!0}toJSON(){return this.segments.map(t=>t.toJSON())}serialize(){if(!this.isValid())throw new Error("Invalid path segments.");return this.segments.map(t=>t.serialize()).join(" ")}toString(){return this.serialize()}}(function(r){function t(e){return e!=null&&e instanceof r}r.isPath=t})(bt||(bt={})),function(r){function t(n){if(!n)return new r;const i=new r,s=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,a=r.normalize(n).match(s);if(a!=null)for(let l=0,u=a.length;l<u;l+=1){const h=a[l],d=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,g=h.match(d);if(g!=null){const p=g[0],m=g.slice(1).map(C=>+C),x=e.call(null,p,...m);i.appendSegment(x)}}return i}r.parse=t;function e(n,...i){if(n==="M")return Bl.create.call(null,...i);if(n==="L")return Fn.create.call(null,...i);if(n==="C")return Lr.create.call(null,...i);if(n==="z"||n==="Z")return Dl.create();throw new Error(`Invalid path segment type "${n}"`)}r.createSegment=e}(bt||(bt={})),function(r){r.normalize=Dw,r.isValid=Mw,r.drawArc=Rw,r.drawPoints=h0,r.arcToCurves=Xd}(bt||(bt={}));class Ye{constructor(t){this.options=Object.assign({},t),this.data=this.options.data||{},this.register=this.register.bind(this),this.unregister=this.unregister.bind(this)}get names(){return Object.keys(this.data)}register(t,e,n=!1){if(typeof t=="object"){Object.entries(t).forEach(([a,l])=>{this.register(a,l,e)});return}this.exist(t)&&!n&&!Zs.isApplyingHMR()&&this.onDuplicated(t);const i=this.options.process,s=i?xt(i,this,t,e):e;return this.data[t]=s,s}unregister(t){const e=t?this.data[t]:null;return delete this.data[t],e}get(t){return t?this.data[t]:null}exist(t){return t?this.data[t]!=null:!1}onDuplicated(t){try{throw this.options.onConflict&&xt(this.options.onConflict,this,t),new Error(`${zt(this.options.type)} with name '${t}' already registered.`)}catch(e){throw e}}onNotFound(t,e){throw new Error(this.getSpellingSuggestion(t,e))}getSpellingSuggestion(t,e){const n=this.getSpellingSuggestionForName(t),i=e?`${e} ${Ex(this.options.type)}`:this.options.type;return`${zt(i)} with name '${t}' does not exist.${n?` Did you mean '${n}'?`:""}`}getSpellingSuggestionForName(t){return Mx(t,Object.keys(this.data),e=>e)}}(function(r){function t(e){return new r(e)}r.create=t})(Ye||(Ye={}));const Bw={color:"#aaaaaa",thickness:1,markup:"rect",update(r,t){const e=t.thickness*t.sx,n=t.thickness*t.sy;xe(r,{width:e,height:n,rx:e,ry:n,fill:t.color})}},kw={color:"#aaaaaa",thickness:1,markup:"rect",update(r,t){const e=t.sx<=1?t.thickness*t.sx:t.thickness;xe(r,{width:e,height:e,rx:e,ry:e,fill:t.color})}},jw={color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(r,t){let e;const n=t.width,i=t.height,s=t.thickness;n-s>=0&&i-s>=0?e=["M",n,0,"H0 M0 0 V0",i].join(" "):e="M 0 0 0 0",xe(r,{d:e,stroke:t.color,"stroke-width":t.thickness})}},Fw=[{color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(r,t){let e;const n=t.width,i=t.height,s=t.thickness;n-s>=0&&i-s>=0?e=["M",n,0,"H0 M0 0 V0",i].join(" "):e="M 0 0 0 0",xe(r,{d:e,stroke:t.color,"stroke-width":t.thickness})}},{color:"rgba(224,224,224,0.2)",thickness:3,factor:4,markup:"path",update(r,t){let e;const n=t.factor||1,i=t.width*n,s=t.height*n,a=t.thickness;i-a>=0&&s-a>=0?e=["M",i,0,"H0 M0 0 V0",s].join(" "):e="M 0 0 0 0",t.width=i,t.height=s,xe(r,{d:e,stroke:t.color,"stroke-width":t.thickness})}}];class to{constructor(){this.patterns={},this.root=_t.create(Fd(),{width:"100%",height:"100%"},[gs("defs")]).node}add(t,e){const n=this.root.childNodes[0];n&&n.appendChild(e),this.patterns[t]=e,_t.create("rect",{width:"100%",height:"100%",fill:`url(#${t})`}).appendTo(this.root)}get(t){return this.patterns[t]}has(t){return this.patterns[t]!=null}}(function(r){r.presets=Kn,r.registry=Ye.create({type:"grid"}),r.registry.register(r.presets,!0)})(to||(to={}));const g0=function(r){const t=document.createElement("canvas"),e=r.width,n=r.height;t.width=e*2,t.height=n;const i=t.getContext("2d");return i.drawImage(r,0,0,e,n),i.translate(2*e,0),i.scale(-1,1),i.drawImage(r,0,0,e,n),t},p0=function(r){const t=document.createElement("canvas"),e=r.width,n=r.height;t.width=e,t.height=n*2;const i=t.getContext("2d");return i.drawImage(r,0,0,e,n),i.translate(0,2*n),i.scale(1,-1),i.drawImage(r,0,0,e,n),t},m0=function(r){const t=document.createElement("canvas"),e=r.width,n=r.height;t.width=2*e,t.height=2*n;const i=t.getContext("2d");return i.drawImage(r,0,0,e,n),i.setTransform(-1,0,0,-1,t.width,t.height),i.drawImage(r,0,0,e,n),i.setTransform(-1,0,0,1,t.width,0),i.drawImage(r,0,0,e,n),i.setTransform(1,0,0,-1,0,t.height),i.drawImage(r,0,0,e,n),t},zw=function(r,t){const e=r.width,n=r.height,i=document.createElement("canvas");i.width=e*3,i.height=n*3;const s=i.getContext("2d"),a=t.angle!=null?-t.angle:-20,l=we.toRad(a),u=i.width/4,h=i.height/4;for(let d=0;d<4;d+=1)for(let g=0;g<4;g+=1)(d+g)%2>0&&(s.setTransform(1,0,0,1,(2*d-1)*u,(2*g-1)*h),s.rotate(l),s.drawImage(r,-e/2,-n/2,e,n));return i};var uh;(function(r){r.presets=Object.assign({},Dr),r.presets["flip-x"]=g0,r.presets["flip-y"]=p0,r.presets["flip-xy"]=m0,r.registry=Ye.create({type:"background pattern"}),r.registry.register(r.presets,!0)})(uh||(uh={}));function Kv(r,t){return r!=null?r:t}function xn(r,t){return r!=null&&Number.isFinite(r)?r:t}function $w(r={}){const t=Kv(r.color,"blue"),e=xn(r.width,1),n=xn(r.margin,2),i=xn(r.opacity,1),s=n,a=n+e;return`
    <filter>
      <feFlood flood-color="${t}" flood-opacity="${i}" result="colored"/>
      <feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${a}" />
      <feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${s}" />
      <feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/>
      <feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/>
      <feMerge>
        <feMergeNode in="outline"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  `.trim()}function Vw(r={}){const t=Kv(r.color,"red"),e=xn(r.blur,0),n=xn(r.width,1),i=xn(r.opacity,1);return`
      <filter>
        <feFlood flood-color="${t}" flood-opacity="${i}" result="colored"/>
        <feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${n}"/>
        <feComposite result="composed" in="colored" in2="morphed" operator="in"/>
        <feGaussianBlur result="blured" in="composed" stdDeviation="${e}"/>
        <feBlend in="SourceGraphic" in2="blured" mode="normal"/>
      </filter>
    `.trim()}function Hw(r={}){const t=xn(r.x,2);return`
    <filter>
      <feGaussianBlur stdDeviation="${r.y!=null&&Number.isFinite(r.y)?[t,r.y]:t}"/>
    </filter>
  `.trim()}function Ww(r={}){const t=xn(r.dx,0),e=xn(r.dy,0),n=Kv(r.color,"black"),i=xn(r.blur,4),s=xn(r.opacity,1);return"SVGFEDropShadowElement"in window?`<filter>
         <feDropShadow stdDeviation="${i}" dx="${t}" dy="${e}" flood-color="${n}" flood-opacity="${s}" />
       </filter>`.trim():`<filter>
         <feGaussianBlur in="SourceAlpha" stdDeviation="${i}" />
         <feOffset dx="${t}" dy="${e}" result="offsetblur" />
         <feFlood flood-color="${n}" />
         <feComposite in2="offsetblur" operator="in" />
         <feComponentTransfer>
           <feFuncA type="linear" slope="${s}" />
         </feComponentTransfer>
         <feMerge>
           <feMergeNode/>
           <feMergeNode in="SourceGraphic"/>
         </feMerge>
       </filter>`.trim()}function Gw(r={}){const t=xn(r.amount,1),e=.2126+.7874*(1-t),n=.7152-.7152*(1-t),i=.0722-.0722*(1-t),s=.2126-.2126*(1-t),a=.7152+.2848*(1-t),l=.0722-.0722*(1-t),u=.2126-.2126*(1-t),h=.0722+.9278*(1-t);return`
    <filter>
      <feColorMatrix type="matrix" values="${e} ${n} ${i} 0 0 ${s} ${a} ${l} 0 0 ${u} ${n} ${h} 0 0 0 0 0 1 0"/>
    </filter>
  `.trim()}function Uw(r={}){const t=xn(r.amount,1),e=.393+.607*(1-t),n=.769-.769*(1-t),i=.189-.189*(1-t),s=.349-.349*(1-t),a=.686+.314*(1-t),l=.168-.168*(1-t),u=.272-.272*(1-t),h=.534-.534*(1-t),d=.131+.869*(1-t);return`
      <filter>
        <feColorMatrix type="matrix" values="${e} ${n} ${i} 0 0 ${s} ${a} ${l} 0 0 ${u} ${h} ${d} 0 0 0 0 0 1 0"/>
      </filter>
    `.trim()}function qw(r={}){return`
      <filter>
        <feColorMatrix type="saturate" values="${1-xn(r.amount,1)}"/>
      </filter>
    `.trim()}function Jw(r={}){return`
      <filter>
        <feColorMatrix type="hueRotate" values="${xn(r.angle,0)}"/>
      </filter>
    `.trim()}function Xw(r={}){const t=xn(r.amount,1),e=1-t;return`
      <filter>
        <feComponentTransfer>
          <feFuncR type="table" tableValues="${t} ${e}"/>
          <feFuncG type="table" tableValues="${t} ${e}"/>
          <feFuncB type="table" tableValues="${t} ${e}"/>
        </feComponentTransfer>
      </filter>
    `.trim()}function Yw(r={}){const t=xn(r.amount,1);return`
    <filter>
      <feComponentTransfer>
        <feFuncR type="linear" slope="${t}"/>
        <feFuncG type="linear" slope="${t}"/>
        <feFuncB type="linear" slope="${t}"/>
      </feComponentTransfer>
    </filter>
  `.trim()}function Zw(r={}){const t=xn(r.amount,1),e=.5-t/2;return`
    <filter>
     <feComponentTransfer>
        <feFuncR type="linear" slope="${t}" intercept="${e}"/>
        <feFuncG type="linear" slope="${t}" intercept="${e}"/>
        <feFuncB type="linear" slope="${t}" intercept="${e}"/>
      </feComponentTransfer>
    </filter>
  `.trim()}var kl;(function(r){r.presets=Ce,r.registry=Ye.create({type:"filter"}),r.registry.register(r.presets,!0)})(kl||(kl={}));const Kw={xlinkHref:"xlink:href",xlinkShow:"xlink:show",xlinkRole:"xlink:role",xlinkType:"xlink:type",xlinkArcrole:"xlink:arcrole",xlinkTitle:"xlink:title",xlinkActuate:"xlink:actuate",xmlSpace:"xml:space",xmlBase:"xml:base",xmlLang:"xml:lang",preserveAspectRatio:"preserveAspectRatio",requiredExtension:"requiredExtension",requiredFeatures:"requiredFeatures",systemLanguage:"systemLanguage",externalResourcesRequired:"externalResourceRequired"},Qw={},y0={position:Kd("x","width","origin")},v0={position:Kd("y","height","origin")},t1={position:Kd("x","width","corner")},e1={position:Kd("y","height","corner")},b0={set:eo("width","width")},x0={set:eo("height","height")},n1={set:eo("rx","width")},r1={set:eo("ry","height")},w0={set:(r=>{const t=eo(r,"width"),e=eo(r,"height");return function(n,i){const s=i.refBBox,a=s.height>s.width?t:e;return xt(a,this,n,i)}})("r")},i1={set(r,{refBBox:t}){let e=parseFloat(r);const n=ds(r);n&&(e/=100);const i=Math.sqrt(t.height*t.height+t.width*t.width);let s;return Number.isFinite(e)&&(n||e>=0&&e<=1?s=e*i:s=Math.max(e+i,0)),{r:s}}},s1={set:eo("cx","width")},o1={set:eo("cy","height")},S0={set:P0({resetOffset:!0})},a1={set:P0({resetOffset:!1})},A0={set:O0({resetOffset:!0})},l1={set:O0({resetOffset:!1})},c1=w0,u1=S0,h1=A0,f1=y0,d1=v0,g1=b0,p1=x0;function Kd(r,t,e){return(n,{refBBox:i})=>{if(n==null)return null;let s=parseFloat(n);const a=ds(n);a&&(s/=100);let l;if(Number.isFinite(s)){const h=i[e];a||s>0&&s<1?l=h[r]+i[t]*s:l=h[r]+s}const u=new B;return u[r]=l||0,u}}function eo(r,t){return function(e,{refBBox:n}){let i=parseFloat(e);const s=ds(e);s&&(i/=100);const a={};if(Number.isFinite(i)){const l=s||i>=0&&i<=1?i*n[t]:Math.max(i+n[t],0);a[r]=l}return a}}function C0(r,t){const e="x6-shape",n=t&&t.resetOffset;return function(i,{elem:s,refBBox:a}){let l=sa(s,e);if(!l||l.value!==i){const C=r(i);l={value:i,shape:C,shapeBBox:C.bbox()},sa(s,e,l)}const u=l.shape.clone(),h=l.shapeBBox.clone(),d=h.getOrigin(),g=a.getOrigin();h.x=g.x,h.y=g.y;const p=a.getMaxScaleToFit(h,g),m=h.width===0||a.width===0?1:p.sx,x=h.height===0||a.height===0?1:p.sy;return u.scale(m,x,d),n&&u.translate(-d.x,-d.y),u}}function P0(r){function t(n){return bt.parse(n)}const e=C0(t,r);return(n,i)=>({d:e(n,i).serialize()})}function O0(r){const t=C0(e=>new Xe(e),r);return(e,n)=>({points:t(e,n).serialize()})}const m1={qualify:Or,set(r,{view:t}){return`url(#${t.graph.defineGradient(r)})`}},y1={qualify:Or,set(r,{view:t}){const e=t.cell,n=Object.assign({},r);if(e.isEdge()&&n.type==="linearGradient"){const i=t,s=i.sourcePoint,a=i.targetPoint;n.id=`gradient-${n.type}-${e.id}`,n.attrs=Object.assign(Object.assign({},n.attrs),{x1:s.x,y1:s.y,x2:a.x,y2:a.y,gradientUnits:"userSpaceOnUse"}),t.graph.defs.remove(n.id)}return`url(#${t.graph.defineGradient(n)})`}},_0={qualify(r,{attrs:t}){return t.textWrap==null||!Or(t.textWrap)},set(r,{view:t,elem:e,attrs:n}){const i="x6-text",s=sa(e,i),a=d=>{try{return JSON.parse(d)}catch(g){return d}},l={x:n.x,eol:n.eol,annotations:a(n.annotations),textPath:a(n["text-path"]||n.textPath),textVerticalAnchor:n["text-vertical-anchor"]||n.textVerticalAnchor,displayEmpty:(n["display-empty"]||n.displayEmpty)==="true",lineHeight:n["line-height"]||n.lineHeight},u=n["font-size"]||n.fontSize,h=JSON.stringify([r,l]);if(u&&e.setAttribute("font-size",u),s==null||s!==h){const d=l.textPath;if(d!=null&&typeof d=="object"){const g=d.selector;if(typeof g=="string"){const p=t.find(g)[0];p instanceof SVGPathElement&&(kv(p),l.textPath=Object.assign({"xlink:href":`#${p.id}`},d))}}Qb(e,`${r}`,l),sa(e,i,h)}}},v1={qualify:Or,set(r,{view:t,elem:e,attrs:n,refBBox:i}){const s=r,a=s.width||0;ds(a)?i.width*=parseFloat(a)/100:a<=0?i.width+=a:i.width=a;const l=s.height||0;ds(l)?i.height*=parseFloat(l)/100:l<=0?i.height+=l:i.height=l;let u,h=s.text;h==null&&(h=n.text),h!=null?u=ow(`${h}`,i,{"font-weight":n["font-weight"]||n.fontWeight,"font-size":n["font-size"]||n.fontSize,"font-family":n["font-family"]||n.fontFamily,lineHeight:n.lineHeight},{ellipsis:s.ellipsis}):u="",xt(_0.set,this,u,{view:t,elem:e,attrs:n,refBBox:i,cell:t.cell})}},jl=(r,{attrs:t})=>t.text!==void 0,b1={qualify:jl},x1={qualify:jl},w1={qualify:jl},S1={qualify:jl},A1={qualify:jl},C1={qualify:jl},P1={qualify(r,{elem:t}){return t instanceof SVGElement},set(r,{elem:t}){const e="x6-title",n=`${r}`,i=sa(t,e);if(i==null||i!==n){sa(t,e,n);const s=t.firstChild;if(s&&s.tagName.toUpperCase()==="TITLE"){const a=s;a.textContent=n}else{const a=document.createElementNS(t.namespaceURI,"title");a.textContent=n,t.insertBefore(a,s)}}}},O1={offset:E0("x","width","right")},_1={offset:E0("y","height","bottom")},E1={offset(r,{refBBox:t}){return r?{x:-t.x,y:-t.y}:{x:0,y:0}}};function E0(r,t,e){return(n,{refBBox:i})=>{const s=new B;let a;return n==="middle"?a=i[t]/2:n===e?a=i[t]:typeof n=="number"&&Number.isFinite(n)?a=n>-1&&n<1?-i[t]*n:-n:ds(n)?a=i[t]*parseFloat(n)/100:a=0,s[r]=-(i[r]+a),s}}const M1={qualify:Or,set(r,{elem:t}){th(t,r)}},T1={set(r,{elem:t}){t.innerHTML=`${r}`}},R1={qualify:Or,set(r,{view:t}){return`url(#${t.graph.defineFilter(r)})`}},I1={set(r){return r!=null&&typeof r=="object"&&r.id?r.id:r}};function ca(r,t,e){let n,i;typeof t=="object"?(n=t.x,i=t.y):(n=t,i=e);const s=bt.parse(r),a=s.bbox();if(a){let l=-a.height/2-a.y,u=-a.width/2-a.x;typeof n=="number"&&(u-=n),typeof i=="number"&&(l-=i),s.translate(u,l)}return s.serialize()}var M0=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e};const L1=r=>{var{size:t,width:e,height:n,offset:i,open:s}=r,a=M0(r,["size","width","height","offset","open"]);return T0({size:t,width:e,height:n,offset:i},s===!0,!0,void 0,a)},N1=r=>{var{size:t,width:e,height:n,offset:i,factor:s}=r,a=M0(r,["size","width","height","offset","factor"]);return T0({size:t,width:e,height:n,offset:i},!1,!1,s,a)};function T0(r,t,e,n=3/4,i={}){const s=r.size||10,a=r.width||s,l=r.height||s,u=new bt,h={};if(t)u.moveTo(a,0).lineTo(0,l/2).lineTo(a,l),h.fill="none";else{if(u.moveTo(0,l/2),u.lineTo(a,0),!e){const d=Tr(n,0,1);u.lineTo(a*d,l/2)}u.lineTo(a,l),u.close()}return Object.assign(Object.assign(Object.assign({},h),i),{tagName:"path",d:ca(u.serialize(),{x:r.offset!=null?r.offset:-a/2})})}var D1=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e};const B1=r=>{var{size:t,width:e,height:n,offset:i}=r,s=D1(r,["size","width","height","offset"]);const a=t||10,l=e||a,u=n||a,h=new bt;return h.moveTo(0,u/2).lineTo(l/2,0).lineTo(l,u/2).lineTo(l/2,u).close(),Object.assign(Object.assign({},s),{tagName:"path",d:ca(h.serialize(),i==null?-l/2:i)})};var k1=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e};const j1=r=>{var{d:t,offsetX:e,offsetY:n}=r,i=k1(r,["d","offsetX","offsetY"]);return Object.assign(Object.assign({},i),{tagName:"path",d:ca(t,e,n)})};var F1=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e};const z1=r=>{var{size:t,width:e,height:n,offset:i}=r,s=F1(r,["size","width","height","offset"]);const a=t||10,l=e||a,u=n||a,h=new bt;return h.moveTo(0,0).lineTo(l,u).moveTo(0,u).lineTo(l,0),Object.assign(Object.assign({},s),{tagName:"path",fill:"none",d:ca(h.serialize(),i||-l/2)})};var $1=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e};const V1=r=>{var{width:t,height:e,offset:n,open:i,flip:s}=r,a=$1(r,["width","height","offset","open","flip"]);let l=e||6;const u=t||10,h=i===!0,d=s===!0,g=Object.assign(Object.assign({},a),{tagName:"path"});d&&(l=-l);const p=new bt;return p.moveTo(0,l).lineTo(u,0),h?g.fill="none":(p.lineTo(u,l),p.close()),g.d=ca(p.serialize(),{x:n||-u/2,y:l/2}),g};var R0=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e};const I0=r=>{var{r:t}=r,e=R0(r,["r"]);const n=t||5;return Object.assign(Object.assign({cx:n},e),{tagName:"circle",r:n})},H1=r=>{var{r:t}=r,e=R0(r,["r"]);const n=t||5,i=new bt;return i.moveTo(n,0).lineTo(n,n*2),i.moveTo(0,n).lineTo(n*2,n),{children:[Object.assign(Object.assign({},I0({r:n})),{fill:"none"}),Object.assign(Object.assign({},e),{tagName:"path",d:ca(i.serialize(),-n)})]}};var W1=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e};const G1=r=>{var{rx:t,ry:e}=r,n=W1(r,["rx","ry"]);const i=t||5,s=e||5;return Object.assign(Object.assign({cx:i},n),{tagName:"ellipse",rx:i,ry:s})};var no;(function(r){r.presets=nn,r.registry=Ye.create({type:"marker"}),r.registry.register(r.presets,!0)})(no||(no={})),function(r){r.normalize=ca}(no||(no={}));var U1=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e};function Qv(r){return typeof r=="string"||Or(r)}const q1={qualify:Qv,set(r,{view:t,attrs:e}){return tb("marker-start",r,t,e)}},J1={qualify:Qv,set(r,{view:t,attrs:e}){return tb("marker-end",r,t,e,{transform:"rotate(180)"})}},X1={qualify:Qv,set(r,{view:t,attrs:e}){return tb("marker-mid",r,t,e)}};function tb(r,t,e,n,i={}){const s=typeof t=="string"?{name:t}:t,{name:a,args:l}=s,u=U1(s,["name","args"]);let h=u;if(a&&typeof a=="string"){const g=no.registry.get(a);if(g)h=g(Object.assign(Object.assign({},u),l));else return no.registry.onNotFound(a)}const d=Object.assign(Object.assign(Object.assign({},Y1(n,r)),i),h);return{[r]:`url(#${e.graph.defineMarker(d)})`}}function Y1(r,t){const e={},n=r.stroke;typeof n=="string"&&(e.stroke=n,e.fill=n);let i=r.strokeOpacity;if(i==null&&(i=r["stroke-opacity"]),i==null&&(i=r.opacity),i!=null&&(e["stroke-opacity"]=i,e["fill-opacity"]=i),t!=="marker-mid"){const s=parseFloat(r.strokeWidth||r["stroke-width"]);if(Number.isFinite(s)&&s>1){const a=Math.ceil(s/2);e.refX=t==="marker-start"?a:-a}}return e}const hh=(r,{view:t})=>t.cell.isEdge(),Z1={qualify:hh,set(r,t){var e,n,i,s;const a=t.view,l=r.reverse||!1,u=r.stubs||0;let h;if(Number.isFinite(u)&&u!==0)if(l){let d,g;const p=a.getConnectionLength()||0;u<0?(d=(p+u)/2,g=-u):(d=u,g=p-u*2);const m=a.getConnection();h=(s=(i=(n=(e=m==null?void 0:m.divideAtLength(d))===null||e===void 0?void 0:e[1])===null||n===void 0?void 0:n.divideAtLength(g))===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.serialize()}else{let d;u<0?d=((a.getConnectionLength()||0)+u)/2:d=u;const g=a.getConnection();if(g){const p=g.divideAtLength(d),m=g.divideAtLength(-d);p&&m&&(h=`${p[0].serialize()} ${m[1].serialize()}`)}}return{d:h||a.getConnectionPathData()}}},L0={qualify:hh,set:Qd("getTangentAtLength",{rotate:!0})},K1={qualify:hh,set:Qd("getTangentAtLength",{rotate:!1})},N0={qualify:hh,set:Qd("getTangentAtRatio",{rotate:!0})},Q1={qualify:hh,set:Qd("getTangentAtRatio",{rotate:!1})},tS=L0,eS=N0;function Qd(r,t){const e={x:1,y:0};return(n,i)=>{let s,a;const l=i.view,u=l[r](Number(n));return u?(a=t.rotate?u.vector().vectorAngle(e):0,s=u.start):(s=l.path.start,a=0),a===0?{transform:`translate(${s.x},${s.y}')`}:{transform:`translate(${s.x},${s.y}') rotate(${a})`}}}var Di;(function(r){function t(e,n,i){return!!(e!=null&&(typeof e=="string"||typeof e.qualify!="function"||xt(e.qualify,this,n,i)))}r.isValidDefinition=t})(Di||(Di={})),function(r){r.presets=Object.assign(Object.assign({},Kw),lt),r.registry=Ye.create({type:"attribute definition"}),r.registry.register(r.presets,!0)}(Di||(Di={}));const Rn={prefixCls:"x6",autoInsertCSS:!0,useCSSSelector:!0,prefix(r){return`${Rn.prefixCls}-${r}`}},D0=Rn.prefix("highlighted"),nS={highlight(r,t,e){const n=e&&e.className||D0;se(t,n)},unhighlight(r,t,e){const n=e&&e.className||D0;Rr(t,n)}},B0=Rn.prefix("highlight-opacity"),rS={highlight(r,t){se(t,B0)},unhighlight(r,t){Rr(t,B0)}};var fe;(function(r){const t=gs("svg");function e(m,x){const C=yw(m.x,m.y).matrixTransform(x);return new B(C.x,C.y)}r.transformPoint=e;function n(m,x){return new ft(e(m.start,x),e(m.end,x))}r.transformLine=n;function i(m,x){let C=m instanceof Xe?m.points:m;return Array.isArray(C)||(C=[]),new Xe(C.map(O=>e(O,x)))}r.transformPolyline=i;function s(m,x){const C=t.createSVGPoint();C.x=m.x,C.y=m.y;const O=C.matrixTransform(x);C.x=m.x+m.width,C.y=m.y;const R=C.matrixTransform(x);C.x=m.x+m.width,C.y=m.y+m.height;const L=C.matrixTransform(x);C.x=m.x,C.y=m.y+m.height;const M=C.matrixTransform(x),k=Math.min(O.x,R.x,L.x,M.x),z=Math.max(O.x,R.x,L.x,M.x),H=Math.min(O.y,R.y,L.y,M.y),K=Math.max(O.y,R.y,L.y,M.y);return new st(k,H,z-k,K-H)}r.transformRectangle=s;function a(m,x,C){let O;const R=m.ownerSVGElement;if(!R)return new st(0,0,0,0);try{O=m.getBBox()}catch(M){O={x:m.clientLeft,y:m.clientTop,width:m.clientWidth,height:m.clientHeight}}if(x)return st.create(O);const L=ih(m,C||R);return s(O,L)}r.bbox=a;function l(m,x={}){let C;if(!m.ownerSVGElement||!Ks(m)){if(zb(m)){const{left:M,top:k,width:z,height:H}=u(m);return new st(M,k,z,H)}return new st(0,0,0,0)}let R=x.target;if(!x.recursive){try{C=m.getBBox()}catch(k){C={x:m.clientLeft,y:m.clientTop,width:m.clientWidth,height:m.clientHeight}}if(!R)return st.create(C);const M=ih(m,R);return s(C,M)}{const M=m.childNodes,k=M.length;if(k===0)return l(m,{target:R});R||(R=m);for(let z=0;z<k;z+=1){const H=M[z];let K;H.childNodes.length===0?K=l(H,{target:R}):K=l(H,{target:R,recursive:!0}),C?C=C.union(K):C=K}return C}}r.getBBox=l;function u(m){let x=0,C=0,O=0,R=0;if(m){let L=m;for(;L;)x+=L.offsetLeft,C+=L.offsetTop,L=L.offsetParent,L&&(x+=parseInt(Wv(L,"borderLeft"),10),C+=parseInt(Wv(L,"borderTop"),10));O=m.offsetWidth,R=m.offsetHeight}return{left:x,top:C,width:O,height:R}}r.getBoundingOffsetRect=u;function h(m){const x=C=>{const O=m.getAttribute(C),R=O?parseFloat(O):0;return Number.isNaN(R)?0:R};switch(m instanceof SVGElement&&m.nodeName.toLowerCase()){case"rect":return new st(x("x"),x("y"),x("width"),x("height"));case"circle":return new oi(x("cx"),x("cy"),x("r"),x("r"));case"ellipse":return new oi(x("cx"),x("cy"),x("rx"),x("ry"));case"polyline":{const C=Gd(m);return new Xe(C)}case"polygon":{const C=Gd(m);return C.length>1&&C.push(C[0]),new Xe(C)}case"path":{let C=m.getAttribute("d");return bt.isValid(C)||(C=bt.normalize(C)),bt.parse(C)}case"line":return new ft(x("x1"),x("y1"),x("x2"),x("y2"));default:break}return l(m)}r.toGeometryShape=h;function d(m,x,C,O){const R=B.create(x),L=B.create(C);O||(O=m instanceof SVGSVGElement?m:m.ownerSVGElement);const M=Jv(m);m.setAttribute("transform","");const k=l(m,{target:O}).scale(M.sx,M.sy),z=nh();z.setTranslate(-k.x-k.width/2,-k.y-k.height/2);const H=nh(),K=R.angleBetween(L,R.clone().translate(1,0));K&&H.setRotate(K,0,0);const rt=nh(),it=R.clone().move(L,k.width/2);rt.setTranslate(2*R.x-it.x,2*R.y-it.y);const gt=ih(m,O),ot=nh();ot.setMatrix(rt.matrix.multiply(H.matrix.multiply(z.matrix.multiply(gt.scale(M.sx,M.sy))))),m.setAttribute("transform",Il(ot.matrix))}r.translateAndAutoOrient=d;function g(m){if(m==null)return null;let x=m;do{let C=x.tagName;if(typeof C!="string")return null;if(C=C.toUpperCase(),Tl(x,"x6-port"))x=x.nextElementSibling;else if(C==="G")x=x.firstElementChild;else if(C==="TITLE")x=x.nextElementSibling;else break}while(x);return x}r.findShapeNode=g;function p(m){const x=g(m);if(!Ks(x)){if(zb(m)){const{left:O,top:R,width:L,height:M}=u(m);return new st(O,R,L,M)}return new st(0,0,0,0)}return h(x).bbox()||st.create()}r.getBBoxV2=p})(fe||(fe={}));const iS={padding:3,rx:0,ry:0,attrs:{"stroke-width":3,stroke:"#FEB663"}},sS={highlight(r,t,e){const n=ro.getHighlighterId(t,e);if(ro.hasCache(n))return;e=Uf({},e,iS);const i=_t.create(t);let s,a;try{s=i.toPathData()}catch(d){a=fe.bbox(i.node,!0),s=n0(Object.assign(Object.assign({},e),a))}const l=gs("path");if(xe(l,Object.assign({d:s,"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},e.attrs?Qu(e.attrs):null)),r.isEdgeElement(t))xe(l,"d",r.getConnectionPathData());else{let d=i.getTransformToElement(r.container);const g=e.padding;if(g){a==null&&(a=fe.bbox(i.node,!0));const p=a.x+a.width/2,m=a.y+a.height/2;a=fe.transformRectangle(a,d);const x=Math.max(a.width,1),C=Math.max(a.height,1),O=(x+g)/x,R=(C+g)/C,L=bn({a:O,b:0,c:0,d:R,e:p-O*p,f:m-R*m});d=d.multiply(L)}Ll(l,d)}se(l,Rn.prefix("highlight-stroke"));const u=r.cell,h=()=>ro.removeHighlighter(n);u.on("removed",h),u.model&&u.model.on("reseted",h),r.container.appendChild(l),ro.setCache(n,l)},unhighlight(r,t,e){ro.removeHighlighter(ro.getHighlighterId(t,e))}};var ro;(function(r){function t(a,l){return kv(a),a.id+JSON.stringify(l)}r.getHighlighterId=t;const e={};function n(a,l){e[a]=l}r.setCache=n;function i(a){return e[a]!=null}r.hasCache=i;function s(a){const l=e[a];l&&(Rl(l),delete e[a])}r.removeHighlighter=s})(ro||(ro={}));var ms;(function(r){function t(e,n){if(typeof n.highlight!="function")throw new Error(`Highlighter '${e}' is missing required \`highlight()\` method`);if(typeof n.unhighlight!="function")throw new Error(`Highlighter '${e}' is missing required \`unhighlight()\` method`)}r.check=t})(ms||(ms={})),function(r){r.presets=J,r.registry=Ye.create({type:"highlighter"}),r.registry.register(r.presets,!0)}(ms||(ms={}));function eb(r,t={}){return new B(si(t.x,r.width),si(t.y,r.height))}function nb(r,t,e){return Object.assign({angle:t,position:r.toJSON()},e)}const oS=(r,t)=>r.map(({x:e,y:n,angle:i})=>nb(eb(t,{x:e,y:n}),i||0)),aS=(r,t,e)=>{const n=e.start||0,i=e.step||20;return k0(r,t,n,(s,a)=>(s+.5-a/2)*i)},lS=(r,t,e)=>{const n=e.start||0,i=e.step||360/r.length;return k0(r,t,n,s=>s*i)};function k0(r,t,e,n){const i=t.getCenter(),s=t.getTopCenter(),a=t.width/t.height,l=oi.fromRect(t),u=r.length;return r.map((h,d)=>{const g=e+n(d,u),p=s.clone().rotate(-g,i).scale(a,1,i),m=h.compensateRotate?-l.tangentTheta(p):0;return(h.dx||h.dy)&&p.translate(h.dx||0,h.dy||0),h.dr&&p.move(i,h.dr),nb(p.round(),m,h)})}var cS=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e};const uS=(r,t,e)=>{const n=eb(t,e.start||t.getOrigin()),i=eb(t,e.end||t.getCorner());return fh(r,n,i,e)},hS=(r,t,e)=>fh(r,t.getTopLeft(),t.getBottomLeft(),e),fS=(r,t,e)=>fh(r,t.getTopRight(),t.getBottomRight(),e),dS=(r,t,e)=>fh(r,t.getTopLeft(),t.getTopRight(),e),gS=(r,t,e)=>fh(r,t.getBottomLeft(),t.getBottomRight(),e);function fh(r,t,e,n){const i=new ft(t,e),s=r.length;return r.map((a,l)=>{var{strict:u}=a,h=cS(a,["strict"]);const d=u||n.strict?(l+1)/(s+1):(l+.5)/s,g=i.pointAt(d);return(h.dx||h.dy)&&g.translate(h.dx||0,h.dy||0),nb(g.round(),0,h)})}var ua;(function(r){r.presets=nt,r.registry=Ye.create({type:"port layout"}),r.registry.register(r.presets,!0)})(ua||(ua={}));const pS={position:{x:0,y:0},angle:0,attrs:{".":{y:"0","text-anchor":"start"}}};function io(r,t){const{x:e,y:n,angle:i,attrs:s}=t||{};return Uf({},{angle:i,attrs:s,position:{x:e,y:n}},r,pS)}const mS=(r,t,e)=>io({position:t.getTopLeft()},e),yS=(r,t,e)=>io({position:{x:-15,y:0},attrs:{".":{y:".3em","text-anchor":"end"}}},e),vS=(r,t,e)=>io({position:{x:15,y:0},attrs:{".":{y:".3em","text-anchor":"start"}}},e),bS=(r,t,e)=>io({position:{x:0,y:-15},attrs:{".":{"text-anchor":"middle"}}},e),xS=(r,t,e)=>io({position:{x:0,y:15},attrs:{".":{y:".6em","text-anchor":"middle"}}},e),wS=(r,t,e)=>j0(r,t,!1,e),SS=(r,t,e)=>j0(r,t,!0,e),AS=(r,t,e)=>F0(r,t,!1,e),CS=(r,t,e)=>F0(r,t,!0,e);function j0(r,t,e,n){const i=n.offset!=null?n.offset:15,s=t.getCenter().theta(r),a=z0(t);let l,u,h,d,g=0;return s<a[1]||s>a[2]?(l=".3em",u=i,h=0,d="start"):s<a[0]?(l="0",u=0,h=-i,e?(g=-90,d="start"):d="middle"):s<a[3]?(l=".3em",u=-i,h=0,d="end"):(l=".6em",u=0,h=i,e?(g=90,d="start"):d="middle"),io({position:{x:Math.round(u),y:Math.round(h)},angle:g,attrs:{".":{y:l,"text-anchor":d}}},n)}function F0(r,t,e,n){const i=n.offset!=null?n.offset:15,s=t.getCenter().theta(r),a=z0(t);let l,u,h,d,g=0;return s<a[1]||s>a[2]?(l=".3em",u=-i,h=0,d="end"):s<a[0]?(l=".6em",u=0,h=i,e?(g=90,d="start"):d="middle"):s<a[3]?(l=".3em",u=i,h=0,d="start"):(l="0em",u=0,h=-i,e?(g=-90,d="start"):d="middle"),io({position:{x:Math.round(u),y:Math.round(h)},angle:g,attrs:{".":{y:l,"text-anchor":d}}},n)}function z0(r){const t=r.getCenter(),e=t.theta(r.getTopLeft()),n=t.theta(r.getBottomLeft()),i=t.theta(r.getBottomRight()),s=t.theta(r.getTopRight());return[e,s,i,n]}const PS=(r,t,e)=>$0(r.diff(t.getCenter()),!1,e),OS=(r,t,e)=>$0(r.diff(t.getCenter()),!0,e);function $0(r,t,e){const n=e.offset!=null?e.offset:20,i=new B(0,0),s=-r.theta(i),a=r.clone().move(i,n).diff(r).round();let l=".3em",u,h=s;return(s+90)%180===0?(u=t?"end":"middle",!t&&s===-270&&(l="0em")):s>-270&&s<-90?(u="start",h=s-180):u="end",io({position:a.round().toJSON(),angle:t?h:0,attrs:{".":{y:l,"text-anchor":u}}},e)}var Fl;(function(r){r.presets=yt,r.registry=Ye.create({type:"port label layout"}),r.registry.register(r.presets,!0)})(Fl||(Fl={}));class Re extends ar{get priority(){return 2}constructor(){super(),this.cid=rb.uniqueId(),Re.views[this.cid]=this}confirmUpdate(t,e){return 0}empty(t=this.container){return Zu(t),this}unmount(t=this.container){return Rl(t),this}remove(t=this.container){return t===this.container&&(this.removeEventListeners(document),this.onRemove(),delete Re.views[this.cid]),this.unmount(t),this}onRemove(){}setClass(t,e=this.container){e.classList.value=Array.isArray(t)?t.join(" "):t}addClass(t,e=this.container){return se(e,Array.isArray(t)?t.join(" "):t),this}removeClass(t,e=this.container){return Rr(e,Array.isArray(t)?t.join(" "):t),this}setStyle(t,e=this.container){return th(e,t),this}setAttrs(t,e=this.container){return t!=null&&e!=null&&xe(e,t),this}findAttr(t,e=this.container){let n=e;for(;n&&n.nodeType===1;){const i=n.getAttribute(t);if(i!=null)return i;if(n===this.container)return null;n=n.parentNode}return null}find(t,e=this.container,n=this.selectors){return Re.find(t,e,n).elems}findOne(t,e=this.container,n=this.selectors){const i=this.find(t,e,n);return i.length>0?i[0]:null}findByAttr(t,e=this.container){let n=e;for(;n&&n.getAttribute;){const i=n.getAttribute(t);if((i!=null||n===this.container)&&i!=="false")return n;n=n.parentNode}return null}getSelector(t,e){let n;if(t===this.container)return typeof e=="string"&&(n=`> ${e}`),n;if(t){const i=Fv(t)+1;n=`${t.tagName.toLowerCase()}:nth-child(${i})`,e&&(n+=` > ${e}`),n=this.getSelector(t.parentNode,n)}return n}prefixClassName(t){return Rn.prefix(t)}delegateEvents(t,e){if(t==null)return this;e||this.undelegateEvents();const n=/^(\S+)\s*(.*)$/;return Object.keys(t).forEach(i=>{const s=i.match(n);if(s==null)return;const a=this.getEventHandler(t[i]);typeof a=="function"&&this.delegateEvent(s[1],s[2],a)}),this}undelegateEvents(){return Yn.off(this.container,this.getEventNamespace()),this}delegateDocumentEvents(t,e){return this.addEventListeners(document,t,e),this}undelegateDocumentEvents(){return this.removeEventListeners(document),this}delegateEvent(t,e,n){return Yn.on(this.container,t+this.getEventNamespace(),e,n),this}undelegateEvent(t,e,n){const i=t+this.getEventNamespace();return e==null?Yn.off(this.container,i):typeof e=="string"?Yn.off(this.container,i,e,n):Yn.off(this.container,i,e),this}addEventListeners(t,e,n){if(e==null)return this;const i=this.getEventNamespace();return Object.keys(e).forEach(s=>{const a=this.getEventHandler(e[s]);typeof a=="function"&&Yn.on(t,s+i,n,a)}),this}removeEventListeners(t){return t!=null&&Yn.off(t,this.getEventNamespace()),this}getEventNamespace(){return`.${Rn.prefixCls}-event-${this.cid}`}getEventHandler(t){let e;if(typeof t=="string"){const n=this[t];typeof n=="function"&&(e=(...i)=>n.call(this,...i))}else e=(...n)=>t.call(this,...n);return e}getEventTarget(t,e={}){const{target:n,type:i,clientX:s=0,clientY:a=0}=t;return e.fromPoint||i==="touchmove"||i==="touchend"?document.elementFromPoint(s,a):n}stopPropagation(t){return this.setEventData(t,{propagationStopped:!0}),this}isPropagationStopped(t){return this.getEventData(t).propagationStopped===!0}getEventData(t){return this.eventData(t)}setEventData(t,e){return this.eventData(t,e)}eventData(t,e){if(t==null)throw new TypeError("Event object required");let n=t.data;const i=`__${this.cid}__`;return e==null?n==null?{}:n[i]||{}:(n==null&&(n=t.data={}),n[i]==null?n[i]=Object.assign({},e):n[i]=Object.assign(Object.assign({},n[i]),e),n[i])}normalizeEvent(t){return Re.normalizeEvent(t)}}(function(r){function t(i,s){return s?gs(i||"g"):jv(i||"div")}r.createElement=t;function e(i,s,a){if(!i||i===".")return{elems:[s]};if(a){const l=a[i];if(l)return{elems:Array.isArray(l)?l:[l]}}if(Rn.useCSSSelector){const l=i.includes(">")?`:scope ${i}`:i;return{isCSSSelector:!0,elems:Array.prototype.slice.call(s.querySelectorAll(l))}}return{elems:[]}}r.find=e;function n(i){let s=i;const a=i.originalEvent,l=a&&a.changedTouches&&a.changedTouches[0];if(l){for(const h in i)l[h]===void 0&&(l[h]=i[h]);s=l}const u=s.target;if(u){const h=u.correspondingUseElement;h&&(s.target=h)}return s}r.normalizeEvent=n})(Re||(Re={})),function(r){r.views={};function t(e){return r.views[e]||null}r.getView=t}(Re||(Re={}));var rb;(function(r){let t=0;function e(){const n=`v${t}`;return t+=1,n}r.uniqueId=e})(rb||(rb={}));class _S{constructor(t){this.view=t,this.clean()}clean(){this.elemCache&&this.elemCache.dispose(),this.elemCache=new Yv,this.pathCache={}}get(t){return this.elemCache.has(t)||this.elemCache.set(t,{}),this.elemCache.get(t)}getData(t){const e=this.get(t);return e.data||(e.data={}),e.data}getMatrix(t){const e=this.get(t);if(e.matrix==null){const n=this.view.container;e.matrix=Sw(t,n)}return bn(e.matrix)}getShape(t){const e=this.get(t);return e.shape==null&&(e.shape=fe.toGeometryShape(t)),e.shape.clone()}getBoundingRect(t){const e=this.get(t);return e.boundingRect==null&&(e.boundingRect=fe.getBBoxV2(t)),e.boundingRect.clone()}}var Oe;(function(r){function t(h){return h!=null&&!e(h)}r.isJSONMarkup=t;function e(h){return h!=null&&typeof h=="string"}r.isStringMarkup=e;function n(h){return h==null||e(h)?h:Me(h)}r.clone=n;function i(h){return`${h}`.trim().replace(/[\r|\n]/g," ").replace(/>\s+</g,"><")}r.sanitize=i;function s(h,d={ns:vn.svg}){const g=document.createDocumentFragment(),p={},m={},x=[{markup:Array.isArray(h)?h:[h],parent:g,ns:d.ns}];for(;x.length>0;){const C=x.pop();let O=C.ns||vn.svg;const R=C.markup,L=C.parent;R.forEach(M=>{const k=M.tagName;if(!k)throw new TypeError("Invalid tagName");M.ns&&(O=M.ns);const z=O?jv(k,O):kb(k),H=M.attrs;H&&xe(z,Qu(H));const K=M.style;K&&th(z,K);const rt=M.className;rt!=null&&z.setAttribute("class",Array.isArray(rt)?rt.join(" "):rt),M.textContent&&(z.textContent=M.textContent);const it=M.selector;if(it!=null){if(m[it])throw new TypeError("Selector must be unique");m[it]=z}if(M.groupSelector){let ot=M.groupSelector;Array.isArray(ot)||(ot=[ot]),ot.forEach(pt=>{p[pt]||(p[pt]=[]),p[pt].push(z)})}L.appendChild(z);const gt=M.children;Array.isArray(gt)&&x.push({ns:O,markup:gt,parent:z})})}return Object.keys(p).forEach(C=>{if(m[C])throw new Error("Ambiguous group selector");m[C]=p[C]}),{fragment:g,selectors:m,groups:p}}r.parseJSONMarkup=s;function a(h){return h instanceof SVGElement?gs("g"):kb("div")}function l(h){if(e(h)){const m=_t.createVectors(h),x=m.length;if(x===1)return{elem:m[0].node};if(x>1){const C=a(m[0].node);return m.forEach(O=>{C.appendChild(O.node)}),{elem:C}}return{}}const d=s(h),g=d.fragment;let p=null;return g.childNodes.length>1?(p=a(g.firstChild),p.appendChild(g)):p=g.firstChild,{elem:p,selectors:d.selectors}}r.renderMarkup=l;function u(h){const d=_t.createVectors(h),g=document.createDocumentFragment();for(let p=0,m=d.length;p<m;p+=1){const x=d[p].node;g.appendChild(x)}return{fragment:g,selectors:{}}}r.parseLabelStringMarkup=u})(Oe||(Oe={})),function(r){function t(e,n,i){if(e!=null){let s;const a=e.tagName.toLowerCase();if(e===n)return typeof i=="string"?s=`> ${a} > ${i}`:s=`> ${a}`,s;const l=e.parentNode;if(l&&l.childNodes.length>1){const u=Fv(e)+1;s=`${a}:nth-child(${u})`}else s=a;return i&&(s+=` > ${i}`),t(e.parentNode,n,s)}return i}r.getSelector=t}(Oe||(Oe={})),function(r){function t(){return"g"}r.getPortContainerMarkup=t;function e(){return{tagName:"circle",selector:"circle",attrs:{r:10,fill:"#FFFFFF",stroke:"#000000"}}}r.getPortMarkup=e;function n(){return{tagName:"text",selector:"text",attrs:{fill:"#000000"}}}r.getPortLabelMarkup=n}(Oe||(Oe={})),function(r){function t(){return[{tagName:"path",selector:"wrap",groupSelector:"lines",attrs:{fill:"none",cursor:"pointer",stroke:"transparent",strokeLinecap:"round"}},{tagName:"path",selector:"line",groupSelector:"lines",attrs:{fill:"none",pointerEvents:"none"}}]}r.getEdgeMarkup=t}(Oe||(Oe={})),function(r){function t(e=!1){return{tagName:"foreignObject",selector:"fo",children:[{ns:vn.xhtml,tagName:"body",selector:"foBody",attrs:{xmlns:vn.xhtml},style:{width:"100%",height:"100%",background:"transparent"},children:e?[]:[{tagName:"div",selector:"foContent",style:{width:"100%",height:"100%"}}]}]}}r.getForeignObjectMarkup=t}(Oe||(Oe={}));class V0{constructor(t){this.view=t}get cell(){return this.view.cell}getDefinition(t){return this.cell.getAttrDefinition(t)}processAttrs(t,e){let n,i,s,a;const l=[];return Object.keys(e).forEach(u=>{const h=e[u],d=this.getDefinition(u),g=xt(Di.isValidDefinition,this.view,d,h,{elem:t,attrs:e,cell:this.cell,view:this.view});if(d&&g)typeof d=="string"?(n==null&&(n={}),n[d]=h):h!==null&&l.push({name:u,definition:d});else{n==null&&(n={});const p=$b.includes(u)?u:yb(u);n[p]=h}}),l.forEach(({name:u,definition:h})=>{const d=e[u];typeof h.set=="function"&&(i==null&&(i={}),i[u]=d),typeof h.offset=="function"&&(s==null&&(s={}),s[u]=d),typeof h.position=="function"&&(a==null&&(a={}),a[u]=d)}),{raw:e,normal:n,set:i,offset:s,position:a}}mergeProcessedAttrs(t,e){t.set=Object.assign(Object.assign({},t.set),e.set),t.position=Object.assign(Object.assign({},t.position),e.position),t.offset=Object.assign(Object.assign({},t.offset),e.offset);const n=t.normal&&t.normal.transform;n!=null&&e.normal&&(e.normal.transform=n),t.normal=e.normal}findAttrs(t,e,n,i){const s=[],a=new Yv;return Object.keys(t).forEach(l=>{const u=t[l];if(!Or(u))return;const{isCSSSelector:h,elems:d}=Re.find(l,e,i);n[l]=d;for(let g=0,p=d.length;g<p;g+=1){const m=d[g],x=i&&i[l]===m,C=a.get(m);if(C){C.array||(s.push(m),C.array=!0,C.attrs=[C.attrs],C.priority=[C.priority]);const O=C.attrs,R=C.priority;if(x)O.unshift(u),R.unshift(-1);else{const L=id(R,h?-1:p);O.splice(L,0,u),R.splice(L,0,p)}}else a.set(m,{elem:m,attrs:u,priority:x?-1:p,array:!1})}}),s.forEach(l=>{const u=a.get(l),h=u.attrs;u.attrs=h.reduceRight((d,g)=>Ee(d,g),{})}),a}updateRelativeAttrs(t,e,n){const i=e.raw||{};let s=e.normal||{};const a=e.set,l=e.position,u=e.offset,h=()=>({elem:t,cell:this.cell,view:this.view,attrs:i,refBBox:n.clone()});if(a!=null&&Object.keys(a).forEach(O=>{const R=a[O],L=this.getDefinition(O);if(L!=null){const M=xt(L.set,this.view,R,h());typeof M=="object"?s=Object.assign(Object.assign({},s),M):M!=null&&(s[O]=M)}}),t instanceof HTMLElement){this.view.setAttrs(s,t);return}const d=s.transform,g=d?`${d}`:null,p=rh(g),m=new B(p.e,p.f);d&&(delete s.transform,p.e=0,p.f=0);let x=!1;l!=null&&Object.keys(l).forEach(O=>{const R=l[O],L=this.getDefinition(O);if(L!=null){const M=xt(L.position,this.view,R,h());M!=null&&(x=!0,m.translate(B.create(M)))}}),this.view.setAttrs(s,t);let C=!1;if(u!=null){const O=this.view.getBoundingRectOfElement(t);if(O.width>0&&O.height>0){const R=fe.transformRectangle(O,p);Object.keys(u).forEach(L=>{const M=u[L],k=this.getDefinition(L);if(k!=null){const z=xt(k.offset,this.view,M,{elem:t,cell:this.cell,view:this.view,attrs:i,refBBox:R});z!=null&&(C=!0,m.translate(B.create(z)))}})}}(d!=null||x||C)&&(m.round(1),p.e=m.x,p.f=m.y,t.setAttribute("transform",Il(p)))}update(t,e,n){const i={},s=this.findAttrs(n.attrs||e,t,i,n.selectors),a=n.attrs?this.findAttrs(e,t,i,n.selectors):s,l=[];s.each(d=>{const g=d.elem,p=d.attrs,m=this.processAttrs(g,p);if(m.set==null&&m.position==null&&m.offset==null)this.view.setAttrs(m.normal,g);else{const x=a.get(g),C=x?x.attrs:null,O=C&&p.ref==null?C.ref:p.ref;let R;if(O){if(R=(i[O]||this.view.find(O,t,n.selectors))[0],!R)throw new Error(`"${O}" reference does not exist.`)}else R=null;const L={node:g,refNode:R,attributes:C,processedAttributes:m},M=l.findIndex(k=>k.refNode===g);M>-1?l.splice(M,0,L):l.push(L)}});const u=new Yv;let h;l.forEach(d=>{const g=d.node,p=d.refNode;let m;const x=p!=null&&n.rotatableNode!=null&&Fb(n.rotatableNode,p);if(p&&(m=u.get(p)),!m){const R=x?n.rotatableNode:t;m=p?fe.getBBox(p,{target:R}):n.rootBBox,p&&u.set(p,m)}let C;n.attrs&&d.attributes?(C=this.processAttrs(g,d.attributes),this.mergeProcessedAttrs(C,d.processedAttributes)):C=d.processedAttributes;let O=m;x&&n.rotatableNode!=null&&!n.rotatableNode.contains(g)&&(h||(h=rh(xe(n.rotatableNode,"transform"))),O=fe.transformRectangle(m,h)),this.updateRelativeAttrs(g,C,O)})}}class H0{get cell(){return this.view.cell}constructor(t,e,n=[]){this.view=t;const i={},s={};let a=0;Object.keys(e).forEach(u=>{let h=e[u];Array.isArray(h)||(h=[h]),h.forEach(d=>{let g=i[d];g||(a+=1,g=i[d]=1<<a),s[u]|=g})});let l=n;if(Array.isArray(l)||(l=[l]),l.forEach(u=>{i[u]||(a+=1,i[u]=1<<a)}),a>25)throw new Error("Maximum number of flags exceeded.");this.flags=i,this.attrs=s,this.bootstrap=n}getFlag(t){const e=this.flags;return e==null?0:Array.isArray(t)?t.reduce((n,i)=>n|e[i],0):e[t]|0}hasAction(t,e){return t&this.getFlag(e)}removeAction(t,e){return t^t&this.getFlag(e)}getBootstrapFlag(){return this.getFlag(this.bootstrap)}getChangedFlag(){let t=0;return this.attrs&&Object.keys(this.attrs).forEach(e=>{this.cell.hasChanged(e)&&(t|=this.attrs[e])}),t}}var ES=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e};class ln extends Re{static getDefaults(){return this.defaults}static config(t){this.defaults=this.getOptions(t)}static getOptions(t){const e=(h,d)=>d!=null?Ru([...Array.isArray(h)?h:[h],...Array.isArray(d)?d:[d]]):Array.isArray(h)?[...h]:[h],n=Me(this.getDefaults()),{bootstrap:i,actions:s,events:a,documentEvents:l}=t,u=ES(t,["bootstrap","actions","events","documentEvents"]);return i&&(n.bootstrap=e(n.bootstrap,i)),s&&Object.entries(s).forEach(([h,d])=>{const g=n.actions[h];d&&g?n.actions[h]=e(g,d):d&&(n.actions[h]=e(d))}),a&&(n.events=Object.assign(Object.assign({},n.events),a)),t.documentEvents&&(n.documentEvents=Object.assign(Object.assign({},n.documentEvents),l)),Ee(n,u)}get[Symbol.toStringTag](){return ln.toStringTag}constructor(t,e={}){super(),this.cell=t,this.options=this.ensureOptions(e),this.graph=this.options.graph,this.attr=new V0(this),this.flag=new H0(this,this.options.actions,this.options.bootstrap),this.cache=new _S(this),this.setContainer(this.ensureContainer()),this.setup(),this.init()}init(){}onRemove(){this.removeTools()}get priority(){return this.options.priority}get rootSelector(){return this.options.rootSelector}getConstructor(){return this.constructor}ensureOptions(t){return this.getConstructor().getOptions(t)}getContainerTagName(){return this.options.isSvgElement?"g":"div"}getContainerStyle(){}getContainerAttrs(){return{"data-cell-id":this.cell.id,"data-shape":this.cell.shape}}getContainerClassName(){return this.prefixClassName("cell")}ensureContainer(){return Re.createElement(this.getContainerTagName(),this.options.isSvgElement)}setContainer(t){if(this.container!==t){this.undelegateEvents(),this.container=t,this.options.events!=null&&this.delegateEvents(this.options.events);const e=this.getContainerAttrs();e!=null&&this.setAttrs(e,t);const n=this.getContainerStyle();n!=null&&this.setStyle(n,t);const i=this.getContainerClassName();i!=null&&this.addClass(i,t)}return this}isNodeView(){return!1}isEdgeView(){return!1}render(){return this}confirmUpdate(t,e={}){return 0}getBootstrapFlag(){return this.flag.getBootstrapFlag()}getFlag(t){return this.flag.getFlag(t)}hasAction(t,e){return this.flag.hasAction(t,e)}removeAction(t,e){return this.flag.removeAction(t,e)}handleAction(t,e,n,i){if(this.hasAction(t,e)){n();const s=[e];return i&&(typeof i=="string"?s.push(i):s.push(...i)),this.removeAction(t,s)}return t}setup(){this.cell.on("changed",({options:t})=>this.onAttrsChange(t))}onAttrsChange(t){let e=this.flag.getChangedFlag();t.updated||!e||(t.dirty&&this.hasAction(e,"update")&&(e|=this.getFlag("render")),t.toolId&&(t.async=!1),this.graph!=null&&this.graph.renderer.requestViewUpdate(this,e,t))}parseJSONMarkup(t,e){const n=Oe.parseJSONMarkup(t),i=n.selectors,s=this.rootSelector;if(e&&s){if(i[s])throw new Error("Invalid root selector");i[s]=e}return n}can(t){let e=this.graph.options.interacting;if(typeof e=="function"&&(e=xt(e,this.graph,this)),typeof e=="object"){let n=e[t];return typeof n=="function"&&(n=xt(n,this.graph,this)),n!==!1}return typeof e=="boolean"?e:!1}cleanCache(){return this.cache.clean(),this}getCache(t){return this.cache.get(t)}getDataOfElement(t){return this.cache.getData(t)}getMatrixOfElement(t){return this.cache.getMatrix(t)}getShapeOfElement(t){return this.cache.getShape(t)}getBoundingRectOfElement(t){return this.cache.getBoundingRect(t)}getBBoxOfElement(t){const e=this.getBoundingRectOfElement(t),n=this.getMatrixOfElement(t),i=this.getRootRotatedMatrix(),s=this.getRootTranslatedMatrix();return fe.transformRectangle(e,s.multiply(i).multiply(n))}getUnrotatedBBoxOfElement(t){const e=this.getBoundingRectOfElement(t),n=this.getMatrixOfElement(t),i=this.getRootTranslatedMatrix();return fe.transformRectangle(e,i.multiply(n))}getBBox(t={}){let e;if(t.useCellGeometry){const n=this.cell,i=n.isNode()?n.getAngle():0;e=n.getBBox().bbox(i)}else e=this.getBBoxOfElement(this.container);return this.graph.coord.localToGraphRect(e)}getRootTranslatedMatrix(){const t=this.cell,e=t.isNode()?t.getPosition():{x:0,y:0};return bn().translate(e.x,e.y)}getRootRotatedMatrix(){let t=bn();const e=this.cell,n=e.isNode()?e.getAngle():0;if(n){const i=e.getBBox(),s=i.width/2,a=i.height/2;t=t.translate(s,a).rotate(n).translate(-s,-a)}return t}findMagnet(t=this.container){return this.findByAttr("magnet",t)}updateAttrs(t,e,n={}){n.rootBBox==null&&(n.rootBBox=new st),n.selectors==null&&(n.selectors=this.selectors),this.attr.update(t,e,n)}isEdgeElement(t){return this.cell.isEdge()&&(t==null||t===this.container)}prepareHighlight(t,e={}){const n=t||this.container;return e.partial=n===this.container,n}highlight(t,e={}){const n=this.prepareHighlight(t,e);return this.notify("cell:highlight",{magnet:n,options:e,view:this,cell:this.cell}),this.isEdgeView()?this.notify("edge:highlight",{magnet:n,options:e,view:this,edge:this.cell,cell:this.cell}):this.isNodeView()&&this.notify("node:highlight",{magnet:n,options:e,view:this,node:this.cell,cell:this.cell}),this}unhighlight(t,e={}){const n=this.prepareHighlight(t,e);return this.notify("cell:unhighlight",{magnet:n,options:e,view:this,cell:this.cell}),this.isNodeView()?this.notify("node:unhighlight",{magnet:n,options:e,view:this,node:this.cell,cell:this.cell}):this.isEdgeView()&&this.notify("edge:unhighlight",{magnet:n,options:e,view:this,edge:this.cell,cell:this.cell}),this}notifyUnhighlight(t,e){}getEdgeTerminal(t,e,n,i,s){const a=this.cell,l=this.findAttr("port",t),u=t.getAttribute("data-selector"),h={cell:a.id};return u!=null&&(h.magnet=u),l!=null?(h.port=l,a.isNode()&&!a.hasPort(l)&&u==null&&(h.selector=this.getSelector(t))):u==null&&this.container!==t&&(h.selector=this.getSelector(t)),h}getMagnetFromEdgeTerminal(t){const e=this.cell,n=this.container,i=t.port;let s=t.magnet,a;return i!=null&&e.isNode()&&e.hasPort(i)?a=this.findPortElem(i,s)||n:(s||(s=t.selector),!s&&i!=null&&(s=`[port="${i}"]`),a=this.findOne(s,n,this.selectors)),a}hasTools(t){const e=this.tools;return e==null?!1:t==null?!0:e.name===t}addTools(t){if(!this.can("toolsAddable"))return this;if(this.removeTools(),t){const e=Ze.isToolsView(t)?t:new Ze(t);this.tools=e,e.config({view:this}),e.mount()}return this}updateTools(t={}){return this.tools&&this.tools.update(t),this}removeTools(){return this.tools&&(this.tools.remove(),this.tools=null),this}hideTools(){return this.tools&&this.tools.hide(),this}showTools(){return this.tools&&this.tools.show(),this}renderTools(){const t=this.cell.getTools();return this.addTools(t),this}notify(t,e){return this.trigger(t,e),this.graph.trigger(t,e),this}getEventArgs(t,e,n){const i=this,s=i.cell;return e==null||n==null?{e:t,view:i,cell:s}:{e:t,x:e,y:n,view:i,cell:s}}onClick(t,e,n){this.notify("cell:click",this.getEventArgs(t,e,n))}onDblClick(t,e,n){this.notify("cell:dblclick",this.getEventArgs(t,e,n))}onContextMenu(t,e,n){this.notify("cell:contextmenu",this.getEventArgs(t,e,n))}onMouseDown(t,e,n){this.cell.model&&(this.cachedModelForMouseEvent=this.cell.model,this.cachedModelForMouseEvent.startBatch("mouse")),this.notify("cell:mousedown",this.getEventArgs(t,e,n))}onMouseUp(t,e,n){this.notify("cell:mouseup",this.getEventArgs(t,e,n)),this.cachedModelForMouseEvent&&(this.cachedModelForMouseEvent.stopBatch("mouse",{cell:this.cell}),this.cachedModelForMouseEvent=null)}onMouseMove(t,e,n){this.notify("cell:mousemove",this.getEventArgs(t,e,n))}onMouseOver(t){this.notify("cell:mouseover",this.getEventArgs(t))}onMouseOut(t){this.notify("cell:mouseout",this.getEventArgs(t))}onMouseEnter(t){this.notify("cell:mouseenter",this.getEventArgs(t))}onMouseLeave(t){this.notify("cell:mouseleave",this.getEventArgs(t))}onMouseWheel(t,e,n,i){this.notify("cell:mousewheel",Object.assign({delta:i},this.getEventArgs(t,e,n)))}onCustomEvent(t,e,n,i){this.notify("cell:customevent",Object.assign({name:e},this.getEventArgs(t,n,i))),this.notify(e,Object.assign({},this.getEventArgs(t,n,i)))}onMagnetMouseDown(t,e,n,i){}onMagnetDblClick(t,e,n,i){}onMagnetContextMenu(t,e,n,i){}onLabelMouseDown(t,e,n){}checkMouseleave(t){const e=this.getEventTarget(t,{fromPoint:!0}),n=this.graph.findViewByElem(e);n!==this&&(this.onMouseLeave(t),n&&n.onMouseEnter(t))}}ln.defaults={isSvgElement:!0,rootSelector:"root",priority:0,bootstrap:[],actions:{}},function(r){r.Flag=H0,r.Attr=V0}(ln||(ln={})),function(r){r.toStringTag=`X6.${r.name}`;function t(e){if(e==null)return!1;if(e instanceof r)return!0;const n=e[Symbol.toStringTag],i=e;return(n==null||n===r.toStringTag)&&typeof i.isNodeView=="function"&&typeof i.isEdgeView=="function"&&typeof i.confirmUpdate=="function"}r.isCellView=t}(ln||(ln={})),function(r){function t(n){return function(i){i.config({priority:n})}}r.priority=t;function e(n){return function(i){i.config({bootstrap:n})}}r.bootstrap=e}(ln||(ln={})),function(r){r.registry=Ye.create({type:"view"})}(ln||(ln={}));class Ze extends Re{get name(){return this.options.name}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get[Symbol.toStringTag](){return Ze.toStringTag}constructor(t={}){super(),this.svgContainer=this.createContainer(!0,t),this.htmlContainer=this.createContainer(!1,t),this.config(t)}createContainer(t,e){const n=t?Re.createElement("g",!0):Re.createElement("div",!1);return se(n,this.prefixClassName("cell-tools")),e.className&&se(n,e.className),n}config(t){if(this.options=Object.assign(Object.assign({},this.options),t),!ln.isCellView(t.view)||t.view===this.cellView)return this;this.cellView=t.view,this.cell.isEdge()?(se(this.svgContainer,this.prefixClassName("edge-tools")),se(this.htmlContainer,this.prefixClassName("edge-tools"))):this.cell.isNode()&&(se(this.svgContainer,this.prefixClassName("node-tools")),se(this.htmlContainer,this.prefixClassName("node-tools"))),this.svgContainer.setAttribute("data-cell-id",this.cell.id),this.htmlContainer.setAttribute("data-cell-id",this.cell.id),this.name&&(this.svgContainer.setAttribute("data-tools-name",this.name),this.htmlContainer.setAttribute("data-tools-name",this.name));const e=this.options.items;if(!Array.isArray(e))return this;this.tools=[];const n=[];e.forEach(i=>{Ze.ToolItem.isToolItem(i)?i.name==="vertices"?n.unshift(i):n.push(i):(typeof i=="object"?i.name:i)==="vertices"?n.unshift(i):n.push(i)});for(let i=0;i<n.length;i+=1){const s=n[i];let a;if(Ze.ToolItem.isToolItem(s))a=s;else{const l=typeof s=="object"?s.name:s,u=typeof s=="object"?s.args||{}:{};if(l){if(this.cell.isNode()){const h=$l.registry.get(l);if(h)a=new h(u);else return $l.registry.onNotFound(l)}else if(this.cell.isEdge()){const h=Vl.registry.get(l);if(h)a=new h(u);else return Vl.registry.onNotFound(l)}}}a&&(a.config(this.cellView,this),a.render(),(a.options.isSVGElement!==!1?this.svgContainer:this.htmlContainer).appendChild(a.container),this.tools.push(a))}return this}update(t={}){const e=this.tools;return e&&e.forEach(n=>{t.toolId!==n.cid&&n.isVisible()&&n.update()}),this}focus(t){const e=this.tools;return e&&e.forEach(n=>{t===n?n.show():n.hide()}),this}blur(t){const e=this.tools;return e&&e.forEach(n=>{n!==t&&!n.isVisible()&&(n.show(),n.update())}),this}hide(){return this.focus(null)}show(){return this.blur(null)}remove(){const t=this.tools;return t&&(t.forEach(e=>e.remove()),this.tools=null),Rl(this.svgContainer),Rl(this.htmlContainer),super.remove()}mount(){const t=this.tools,e=this.cellView;if(e&&t){const n=t.some(s=>s.options.isSVGElement!==!1),i=t.some(s=>s.options.isSVGElement===!1);n&&(this.options.local?e.container:e.graph.view.decorator).appendChild(this.svgContainer),i&&this.graph.container.appendChild(this.htmlContainer)}return this}}(function(r){r.toStringTag=`X6.${r.name}`;function t(e){if(e==null)return!1;if(e instanceof r)return!0;const n=e[Symbol.toStringTag],i=e;return(n==null||n===r.toStringTag)&&i.graph!=null&&i.cell!=null&&typeof i.config=="function"&&typeof i.update=="function"&&typeof i.focus=="function"&&typeof i.blur=="function"&&typeof i.show=="function"&&typeof i.hide=="function"}r.isToolsView=t})(Ze||(Ze={})),function(r){class t extends Re{static getDefaults(){return this.defaults}static config(n){this.defaults=this.getOptions(n)}static getOptions(n){return Ee(Me(this.getDefaults()),n)}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get name(){return this.options.name}get[Symbol.toStringTag](){return t.toStringTag}constructor(n={}){super(),this.visible=!0,this.options=this.getOptions(n),this.container=Re.createElement(this.options.tagName||"g",this.options.isSVGElement!==!1),se(this.container,this.prefixClassName("cell-tool")),typeof this.options.className=="string"&&se(this.container,this.options.className),this.init()}init(){}getOptions(n){return this.constructor.getOptions(n)}delegateEvents(){return this.options.events&&super.delegateEvents(this.options.events),this}config(n,i){return this.cellView=n,this.parent=i,this.stamp(this.container),this.cell.isEdge()?se(this.container,this.prefixClassName("edge-tool")):this.cell.isNode()&&se(this.container,this.prefixClassName("node-tool")),this.name&&this.container.setAttribute("data-tool-name",this.name),this.delegateEvents(),this}render(){this.empty();const n=this.options.markup;if(n){const i=Oe.parseJSONMarkup(n);this.container.appendChild(i.fragment),this.childNodes=i.selectors}return this.onRender(),this}onRender(){}update(){return this}stamp(n){n&&n.setAttribute("data-cell-id",this.cellView.cell.id)}show(){return this.container.style.display="",this.visible=!0,this}hide(){return this.container.style.display="none",this.visible=!1,this}isVisible(){return this.visible}focus(){const n=this.options.focusOpacity;return n!=null&&Number.isFinite(n)&&(this.container.style.opacity=`${n}`),this.parent.focus(this),this}blur(){return this.container.style.opacity="",this.parent.blur(this),this}guard(n){return this.graph==null||this.cellView==null?!0:this.graph.view.guard(n,this.cellView)}}t.defaults={isSVGElement:!0,tagName:"g"},r.ToolItem=t,function(e){let n=0;function i(a){return a?Rv(a):(n+=1,`CustomTool${n}`)}function s(a){const l=_u(i(a.name),this);return l.config(a),l}e.define=s}(t=r.ToolItem||(r.ToolItem={})),function(e){e.toStringTag=`X6.${e.name}`;function n(i){if(i==null)return!1;if(i instanceof e)return!0;const s=i[Symbol.toStringTag],a=i;return(s==null||s===e.toStringTag)&&a.graph!=null&&a.cell!=null&&typeof a.config=="function"&&typeof a.update=="function"&&typeof a.focus=="function"&&typeof a.blur=="function"&&typeof a.show=="function"&&typeof a.hide=="function"&&typeof a.isVisible=="function"}e.isToolItem=n}(t=r.ToolItem||(r.ToolItem={}))}(Ze||(Ze={}));const MS=r=>r;function W0(r,t){return t===0?"0%":`${Math.round(r/t*100)}%`}function G0(r){return(e,n,i,s)=>n.isEdgeElement(i)?RS(r,e,n,i,s):TS(r,e,n,i,s)}function TS(r,t,e,n,i){const s=e.cell,a=s.getAngle(),l=e.getUnrotatedBBoxOfElement(n),u=s.getBBox().getCenter(),h=B.create(i).rotate(a,u);let d=h.x-l.x,g=h.y-l.y;return r&&(d=W0(d,l.width),g=W0(g,l.height)),t.anchor={name:"topLeft",args:{dx:d,dy:g,rotate:!0}},t}function RS(r,t,e,n,i){const s=e.getConnection();if(!s)return t;const a=s.closestPointLength(i);if(r){const l=s.length();t.anchor={name:"ratio",args:{ratio:a/l}}}else t.anchor={name:"length",args:{length:a}};return t}const IS=G0(!0),LS=G0(!1);var ib;(function(r){r.presets=Dt,r.registry=Ye.create({type:"connection strategy"}),r.registry.register(r.presets,!0)})(ib||(ib={}));function U0(r,t,e,n){return xt(ib.presets.pinRelative,this.graph,{},t,e,r,this.cell,n,{}).anchor}function q0(r,t){return t?r.cell.getBBox():r.cell.isEdge()?r.getConnection().bbox():r.getUnrotatedBBoxOfElement(r.container)}class so extends Ze.ToolItem{onRender(){se(this.container,this.prefixClassName("cell-tool-button")),this.update()}update(){return this.updatePosition(),this}updatePosition(){const e=this.cellView.cell.isEdge()?this.getEdgeMatrix():this.getNodeMatrix();Ll(this.container,e,{absolute:!0})}getNodeMatrix(){const t=this.cellView,e=this.options;let{x:n=0,y:i=0}=e;const{offset:s,useCellGeometry:a,rotate:l}=e;let u=q0(t,a);const h=t.cell.getAngle();l||(u=u.bbox(h));let d=0,g=0;typeof s=="number"?(d=s,g=s):typeof s=="object"&&(d=s.x,g=s.y),n=si(n,u.width),i=si(i,u.height);let p=bn().translate(u.x+u.width/2,u.y+u.height/2);return l&&(p=p.rotate(h)),p=p.translate(n+d-u.width/2,i+g-u.height/2),p}getEdgeMatrix(){const t=this.cellView,e=this.options,{offset:n=0,distance:i=0,rotate:s}=e;let a,l,u;const h=si(i,1);h>=0&&h<=1?a=t.getTangentAtRatio(h):a=t.getTangentAtLength(h),a?(l=a.start,u=a.vector().vectorAngle(new B(1,0))||0):(l=t.getConnection().start,u=0);let d=bn().translate(l.x,l.y).rotate(u);return typeof n=="object"?d=d.translate(n.x||0,n.y||0):d=d.translate(0,n),s||(d=d.rotate(-u)),d}onMouseDown(t){if(this.guard(t))return;t.stopPropagation(),t.preventDefault();const e=this.options.onClick;typeof e=="function"&&xt(e,this.cellView,{e:t,view:this.cellView,cell:this.cellView.cell,btn:this})}}(function(r){r.config({name:"button",useCellGeometry:!0,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"}})})(so||(so={})),function(r){r.Remove=r.define({name:"button-remove",markup:[{tagName:"circle",selector:"button",attrs:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attrs:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],distance:60,offset:0,useCellGeometry:!0,onClick({view:t,btn:e}){e.parent.remove(),t.cell.remove({ui:!0,toolId:e.cid})}})}(so||(so={}));var NS=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e};class tg extends Ze.ToolItem{onRender(){if(se(this.container,this.prefixClassName("cell-tool-boundary")),this.options.attrs){const t=this.options.attrs,{class:e}=t,n=NS(t,["class"]);xe(this.container,Qu(n)),e&&se(this.container,e)}this.update()}update(){const t=this.cellView,e=this.options,{useCellGeometry:n,rotate:i}=e,s=ra(e.padding);let a=q0(t,n).moveAndExpand({x:-s.left,y:-s.top,width:s.left+s.right,height:s.top+s.bottom});const l=t.cell;if(l.isNode()){const u=l.getAngle();if(u)if(i){const h=l.getBBox().getCenter();qv(this.container,u,h.x,h.y,{absolute:!0})}else a=a.bbox(u)}return xe(this.container,a.toJSON()),this}}(function(r){r.config({name:"boundary",tagName:"rect",padding:10,useCellGeometry:!0,attrs:{fill:"none",stroke:"#333","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"}})})(tg||(tg={}));class dh extends Ze.ToolItem{constructor(){super(...arguments),this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}onRender(){return this.addClass(this.prefixClassName("edge-tool-vertices")),this.options.addable&&this.updatePath(),this.resetHandles(),this.renderHandles(),this}update(){return this.vertices.length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.addable&&this.updatePath(),this}resetHandles(){const t=this.handles;this.handles=[],t&&t.forEach(e=>{this.stopHandleListening(e),e.remove()})}renderHandles(){const t=this.vertices;for(let e=0,n=t.length;e<n;e+=1){const i=t[e],s=this.options.createHandle,a=this.options.processHandle,l=s({index:e,graph:this.graph,guard:u=>this.guard(u),attrs:this.options.attrs||{}});a&&a(l),l.updatePosition(i.x,i.y),this.stamp(l.container),this.container.appendChild(l.container),this.handles.push(l),this.startHandleListening(l)}}updateHandles(){const t=this.vertices;for(let e=0,n=t.length;e<n;e+=1){const i=t[e],s=this.handles[e];s&&s.updatePosition(i.x,i.y)}}updatePath(){const t=this.childNodes.connection;t&&t.setAttribute("d",this.cellView.getConnectionPathData())}startHandleListening(t){const e=this.cellView;e.can("vertexMovable")&&(t.on("change",this.onHandleChange,this),t.on("changing",this.onHandleChanging,this),t.on("changed",this.onHandleChanged,this)),e.can("vertexDeletable")&&t.on("remove",this.onHandleRemove,this)}stopHandleListening(t){const e=this.cellView;e.can("vertexMovable")&&(t.off("change",this.onHandleChange,this),t.off("changing",this.onHandleChanging,this),t.off("changed",this.onHandleChanged,this)),e.can("vertexDeletable")&&t.off("remove",this.onHandleRemove,this)}getNeighborPoints(t){const e=this.cellView,n=this.vertices,i=t>0?n[t-1]:e.sourceAnchor,s=t<n.length-1?n[t+1]:e.targetAnchor;return{prev:B.create(i),next:B.create(s)}}getMouseEventArgs(t){const e=this.normalizeEvent(t),{x:n,y:i}=this.graph.snapToGrid(e.clientX,e.clientY);return{e,x:n,y:i}}onHandleChange({e:t}){this.focus();const e=this.cellView;if(e.cell.startBatch("move-vertex",{ui:!0,toolId:this.cid}),!this.options.stopPropagation){const{e:n,x:i,y:s}=this.getMouseEventArgs(t);e.notifyMouseDown(n,i,s)}}onHandleChanging({handle:t,e}){const n=this.cellView,i=t.options.index,{e:s,x:a,y:l}=this.getMouseEventArgs(e),u={x:a,y:l};this.snapVertex(u,i),n.cell.setVertexAt(i,u,{ui:!0,toolId:this.cid}),t.updatePosition(u.x,u.y),this.options.stopPropagation||n.notifyMouseMove(s,a,l)}onHandleChanged({e:t}){const e=this.options,n=this.cellView;if(e.addable&&this.updatePath(),!e.removeRedundancies)return;n.removeRedundantLinearVertices({ui:!0,toolId:this.cid})&&this.render(),this.blur(),n.cell.stopBatch("move-vertex",{ui:!0,toolId:this.cid}),this.eventData(t).vertexAdded&&n.cell.stopBatch("add-vertex",{ui:!0,toolId:this.cid});const{e:s,x:a,y:l}=this.getMouseEventArgs(t);this.options.stopPropagation||n.notifyMouseUp(s,a,l),n.checkMouseleave(s),e.onChanged&&e.onChanged({edge:n.cell,edgeView:n})}snapVertex(t,e){const n=this.options.snapRadius||0;if(n>0){const i=this.getNeighborPoints(e),s=i.prev,a=i.next;Math.abs(t.x-s.x)<n?t.x=s.x:Math.abs(t.x-a.x)<n&&(t.x=a.x),Math.abs(t.y-s.y)<n?t.y=i.prev.y:Math.abs(t.y-a.y)<n&&(t.y=a.y)}}onHandleRemove({handle:t,e}){if(this.options.removable){const n=t.options.index,i=this.cellView;i.cell.removeVertexAt(n,{ui:!0}),this.options.addable&&this.updatePath(),i.checkMouseleave(this.normalizeEvent(e))}}onPathMouseDown(t){const e=this.cellView;if(this.guard(t)||!this.options.addable||!e.can("vertexAddable"))return;t.stopPropagation(),t.preventDefault();const n=this.normalizeEvent(t),i=this.graph.snapToGrid(n.clientX,n.clientY).toJSON();e.cell.startBatch("add-vertex",{ui:!0,toolId:this.cid});const s=e.getVertexIndex(i.x,i.y);this.snapVertex(i,s),e.cell.insertVertex(i,s,{ui:!0,toolId:this.cid}),this.render();const a=this.handles[s];this.eventData(n,{vertexAdded:!0}),a.onMouseDown(n)}onRemove(){this.resetHandles()}}(function(r){class t extends Re{get graph(){return this.options.graph}constructor(n){super(),this.options=n,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDoubleClick"})}render(){this.container=Re.createElement("circle",!0);const n=this.options.attrs;if(typeof n=="function"){const i=r.getDefaults();this.setAttrs(Object.assign(Object.assign({},i.attrs),n(this)))}else this.setAttrs(n);this.addClass(this.prefixClassName("edge-tool-vertex"))}updatePosition(n,i){this.setAttrs({cx:n,cy:i})}onMouseDown(n){this.options.guard(n)||(n.stopPropagation(),n.preventDefault(),this.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},n.data),this.emit("change",{e:n,handle:this}))}onMouseMove(n){this.emit("changing",{e:n,handle:this})}onMouseUp(n){this.emit("changed",{e:n,handle:this}),this.undelegateDocumentEvents(),this.graph.view.delegateEvents()}onDoubleClick(n){this.emit("remove",{e:n,handle:this})}}r.Handle=t})(dh||(dh={})),function(r){const t=Rn.prefix("edge-tool-vertex-path");r.config({name:"vertices",snapRadius:20,addable:!0,removable:!0,removeRedundancies:!0,stopPropagation:!0,attrs:{r:6,fill:"#333",stroke:"#fff",cursor:"move","stroke-width":2},createHandle:e=>new r.Handle(e),markup:[{tagName:"path",selector:"connection",className:t,attrs:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"pointer"}}],events:{[`mousedown .${t}`]:"onPathMouseDown",[`touchstart .${t}`]:"onPathMouseDown"}})}(dh||(dh={}));class gh extends Ze.ToolItem{constructor(){super(...arguments),this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}update(){return this.render(),this}onRender(){se(this.container,this.prefixClassName("edge-tool-segments")),this.resetHandles();const t=this.cellView,e=[...this.vertices];e.unshift(t.sourcePoint),e.push(t.targetPoint);for(let n=0,i=e.length;n<i-1;n+=1){const s=e[n],a=e[n+1],l=this.renderHandle(s,a,n);this.stamp(l.container),this.handles.push(l)}return this}renderHandle(t,e,n){const i=this.options.createHandle({index:n,graph:this.graph,guard:s=>this.guard(s),attrs:this.options.attrs||{}});return this.options.processHandle&&this.options.processHandle(i),this.updateHandle(i,t,e),this.container.appendChild(i.container),this.startHandleListening(i),i}startHandleListening(t){t.on("change",this.onHandleChange,this),t.on("changing",this.onHandleChanging,this),t.on("changed",this.onHandleChanged,this)}stopHandleListening(t){t.off("change",this.onHandleChange,this),t.off("changing",this.onHandleChanging,this),t.off("changed",this.onHandleChanged,this)}resetHandles(){const t=this.handles;this.handles=[],t&&t.forEach(e=>{this.stopHandleListening(e),e.remove()})}shiftHandleIndexes(t){const e=this.handles;for(let n=0,i=e.length;n<i;n+=1)e[n].options.index+=t}resetAnchor(t,e){const n=this.cellView.cell,i={ui:!0,toolId:this.cid};e?n.prop([t,"anchor"],e,i):n.removeProp([t,"anchor"],i)}snapHandle(t,e,n){const i=t.options.axis,s=t.options.index,u=this.cellView.cell.getVertices(),h=u[s-2]||n.sourceAnchor,d=u[s+1]||n.targetAnchor,g=this.options.snapRadius;return Math.abs(e[i]-h[i])<g?e[i]=h[i]:Math.abs(e[i]-d[i])<g&&(e[i]=d[i]),e}onHandleChanging({handle:t,e}){const n=this.graph,i=this.options,s=this.cellView,a=i.anchor,l=t.options.axis,u=t.options.index-1,h=this.getEventData(e),d=this.normalizeEvent(e),g=n.snapToGrid(d.clientX,d.clientY),p=this.snapHandle(t,g.clone(),h),m=Me(this.vertices);let x=m[u],C=m[u+1];const O=s.sourceView,R=s.sourceBBox;let L=!1,M=!1;if(x?u===0?R.containsPoint(x)?(m.shift(),this.shiftHandleIndexes(-1),L=!0):(x[l]=p[l],M=!0):x[l]=p[l]:(x=s.sourceAnchor.toJSON(),x[l]=p[l],R.containsPoint(x)?L=!0:(m.unshift(x),this.shiftHandleIndexes(1),M=!0)),typeof a=="function"&&O){if(L){const rt=h.sourceAnchor.clone();rt[l]=p[l];const it=xt(a,s,rt,O,s.sourceMagnet||O.container,"source",s,this);this.resetAnchor("source",it)}M&&this.resetAnchor("source",h.sourceAnchorDef)}const k=s.targetView,z=s.targetBBox;let H=!1,K=!1;if(C?u===m.length-2?z.containsPoint(C)?(m.pop(),H=!0):(C[l]=p[l],K=!0):C[l]=p[l]:(C=s.targetAnchor.toJSON(),C[l]=p[l],z.containsPoint(C)?H=!0:(m.push(C),K=!0)),typeof a=="function"&&k){if(H){const rt=h.targetAnchor.clone();rt[l]=p[l];const it=xt(a,s,rt,k,s.targetMagnet||k.container,"target",s,this);this.resetAnchor("target",it)}K&&this.resetAnchor("target",h.targetAnchorDef)}B.equalPoints(m,this.vertices)||this.cellView.cell.setVertices(m,{ui:!0,toolId:this.cid}),this.updateHandle(t,x,C,0),i.stopPropagation||s.notifyMouseMove(d,g.x,g.y)}onHandleChange({handle:t,e}){const n=this.options,i=this.handles,s=this.cellView,a=t.options.index;if(Array.isArray(i)){for(let l=0,u=i.length;l<u;l+=1)l!==a&&i[l].hide();if(this.focus(),this.setEventData(e,{sourceAnchor:s.sourceAnchor.clone(),targetAnchor:s.targetAnchor.clone(),sourceAnchorDef:Me(this.cell.prop(["source","anchor"])),targetAnchorDef:Me(this.cell.prop(["target","anchor"]))}),this.cell.startBatch("move-segment",{ui:!0,toolId:this.cid}),!n.stopPropagation){const l=this.normalizeEvent(e),u=this.graph.snapToGrid(l.clientX,l.clientY);s.notifyMouseDown(l,u.x,u.y)}}}onHandleChanged({e:t}){const e=this.options,n=this.cellView;e.removeRedundancies&&n.removeRedundantLinearVertices({ui:!0,toolId:this.cid});const i=this.normalizeEvent(t),s=this.graph.snapToGrid(i.clientX,i.clientY);this.render(),this.blur(),this.cell.stopBatch("move-segment",{ui:!0,toolId:this.cid}),e.stopPropagation||n.notifyMouseUp(i,s.x,s.y),n.checkMouseleave(i),e.onChanged&&e.onChanged({edge:n.cell,edgeView:n})}updateHandle(t,e,n,i=0){const s=this.options.precision||0,a=Math.abs(e.x-n.x)<s,l=Math.abs(e.y-n.y)<s;if(a||l){const u=new ft(e,n);if(u.length()<this.options.threshold)t.hide();else{const d=u.getCenter(),g=a?"x":"y";d[g]+=i||0;const p=u.vector().vectorAngle(new B(1,0));t.updatePosition(d.x,d.y,p,this.cellView),t.show(),t.options.axis=g}}else t.hide()}onRemove(){this.resetHandles()}}(function(r){class t extends Re{constructor(n){super(),this.options=n,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown"})}render(){this.container=Re.createElement("rect",!0);const n=this.options.attrs;if(typeof n=="function"){const i=r.getDefaults();this.setAttrs(Object.assign(Object.assign({},i.attrs),n(this)))}else this.setAttrs(n);this.addClass(this.prefixClassName("edge-tool-segment"))}updatePosition(n,i,s,a){const l=a.getClosestPoint(new B(n,i))||new B(n,i);let u=bn().translate(l.x,l.y);if(l.equals({x:n,y:i}))u=u.rotate(s);else{let d=new ft(n,i,l.x,l.y).vector().vectorAngle(new B(1,0));d!==0&&(d+=90),u=u.rotate(d)}this.setAttrs({transform:Il(u),cursor:s%180===0?"row-resize":"col-resize"})}onMouseDown(n){this.options.guard(n)||(this.trigger("change",{e:n,handle:this}),n.stopPropagation(),n.preventDefault(),this.options.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},n.data))}onMouseMove(n){this.emit("changing",{e:n,handle:this})}onMouseUp(n){this.emit("changed",{e:n,handle:this}),this.undelegateDocumentEvents(),this.options.graph.view.delegateEvents()}show(){this.container.style.display=""}hide(){this.container.style.display="none"}}r.Handle=t})(gh||(gh={})),function(r){r.config({name:"segments",precision:.5,threshold:40,snapRadius:10,stopPropagation:!0,removeRedundancies:!0,attrs:{width:20,height:8,x:-10,y:-4,rx:4,ry:4,fill:"#333",stroke:"#fff","stroke-width":2},createHandle:t=>new r.Handle(t),anchor:U0})}(gh||(gh={}));class eg extends Ze.ToolItem{get type(){return this.options.type}onRender(){se(this.container,this.prefixClassName(`edge-tool-${this.type}-anchor`)),this.toggleArea(!1),this.update()}update(){const t=this.type;return this.cellView.getTerminalView(t)?(this.updateAnchor(),this.updateArea(),this.container.style.display=""):this.container.style.display="none",this}updateAnchor(){const t=this.childNodes;if(!t)return;const e=t.anchor;if(!e)return;const n=this.type,i=this.cellView,s=this.options,a=i.getTerminalAnchor(n),l=i.cell.prop([n,"anchor"]);e.setAttribute("transform",`translate(${a.x}, ${a.y})`);const u=l?s.customAnchorAttrs:s.defaultAnchorAttrs;u&&Object.keys(u).forEach(h=>{e.setAttribute(h,u[h])})}updateArea(){const t=this.childNodes;if(!t)return;const e=t.area;if(!e)return;const n=this.type,i=this.cellView,s=i.getTerminalView(n);if(s){const a=s.cell,l=i.getTerminalMagnet(n);let u=this.options.areaPadding||0;Number.isFinite(u)||(u=0);let h,d,g;s.isEdgeElement(l)?(h=s.getBBox(),d=0,g=h.getCenter()):(h=s.getUnrotatedBBoxOfElement(l),d=a.getAngle(),g=h.getCenter(),d&&g.rotate(-d,a.getBBox().getCenter())),h.inflate(u),xe(e,{x:-h.width/2,y:-h.height/2,width:h.width,height:h.height,transform:`translate(${g.x}, ${g.y}) rotate(${d})`})}}toggleArea(t){if(this.childNodes){const e=this.childNodes.area;e&&(e.style.display=t?"":"none")}}onMouseDown(t){this.guard(t)||(t.stopPropagation(),t.preventDefault(),this.graph.view.undelegateEvents(),this.options.documentEvents&&this.delegateDocumentEvents(this.options.documentEvents),this.focus(),this.toggleArea(this.options.restrictArea),this.cell.startBatch("move-anchor",{ui:!0,toolId:this.cid}))}resetAnchor(t){const e=this.type,n=this.cell;t?n.prop([e,"anchor"],t,{rewrite:!0,ui:!0,toolId:this.cid}):n.removeProp([e,"anchor"],{ui:!0,toolId:this.cid})}onMouseMove(t){const e=this.type,n=this.cellView,i=n.getTerminalView(e);if(i==null)return;const s=this.normalizeEvent(t),a=i.cell,l=n.getTerminalMagnet(e);let u=this.graph.coord.clientToLocalPoint(s.clientX,s.clientY);const h=this.options.snap;if(typeof h=="function"){const p=xt(h,n,u,i,l,e,n,this);u=B.create(p)}if(this.options.restrictArea)if(i.isEdgeElement(l)){const p=i.getClosestPoint(u);p&&(u=p)}else{const p=i.getUnrotatedBBoxOfElement(l),m=a.getAngle(),x=a.getBBox().getCenter(),C=u.clone().rotate(m,x);p.containsPoint(C)||(u=p.getNearestPointToPoint(C).rotate(-m,x))}let d;const g=this.options.anchor;typeof g=="function"&&(d=xt(g,n,u,i,l,e,n,this)),this.resetAnchor(d),this.update()}onMouseUp(t){this.graph.view.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleArea(!1);const e=this.cellView;this.options.removeRedundancies&&e.removeRedundantLinearVertices({ui:!0,toolId:this.cid}),this.cell.stopBatch("move-anchor",{ui:!0,toolId:this.cid})}onDblClick(){const t=this.options.resetAnchor;t&&this.resetAnchor(t===!0?void 0:t),this.update()}}(function(r){r.config({tagName:"g",markup:[{tagName:"circle",selector:"anchor",attrs:{cursor:"pointer"}},{tagName:"rect",selector:"area",attrs:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDblClick"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},customAnchorAttrs:{"stroke-width":4,stroke:"#33334F",fill:"#FFFFFF",r:5},defaultAnchorAttrs:{"stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6},areaPadding:6,snapRadius:10,resetAnchor:!0,restrictArea:!0,removeRedundancies:!0,anchor:U0,snap(t,e,n,i,s,a){const l=a.options.snapRadius||0,u=i==="source",h=u?0:-1,d=this.cell.getVertexAt(h)||this.getTerminalAnchor(u?"target":"source");return d&&(Math.abs(d.x-t.x)<l&&(t.x=d.x),Math.abs(d.y-t.y)<l&&(t.y=d.y)),t}})})(eg||(eg={}));const DS=eg.define({name:"source-anchor",type:"source"}),BS=eg.define({name:"target-anchor",type:"target"});var kS=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e};class ng extends Ze.ToolItem{get type(){return this.options.type}get ratio(){return this.options.ratio}init(){if(this.options.attrs){const t=this.options.attrs,{class:e}=t,n=kS(t,["class"]);this.setAttrs(n,this.container),e&&se(this.container,e)}}onRender(){se(this.container,this.prefixClassName(`edge-tool-${this.type}-arrowhead`)),this.update()}update(){const t=this.ratio,e=this.cellView,n=e.getTangentAtRatio(t),i=n?n.start:e.getPointAtRatio(t),s=n&&n.vector().vectorAngle(new B(1,0))||0;if(!i)return this;const a=bn().translate(i.x,i.y).rotate(s);return Ll(this.container,a,{absolute:!0}),this}onMouseDown(t){if(this.guard(t))return;t.stopPropagation(),t.preventDefault();const e=this.cellView;if(e.can("arrowheadMovable")){e.cell.startBatch("move-arrowhead",{ui:!0,toolId:this.cid});const n=this.graph.snapToGrid(t.clientX,t.clientY),i=e.prepareArrowheadDragging(this.type,{x:n.x,y:n.y,options:Object.assign(Object.assign({},this.options),{toolId:this.cid})});this.cellView.setEventData(t,i),this.delegateDocumentEvents(this.options.documentEvents,t.data),e.graph.view.undelegateEvents(),this.container.style.pointerEvents="none"}this.focus()}onMouseMove(t){const e=this.normalizeEvent(t),n=this.graph.snapToGrid(e.clientX,e.clientY);this.cellView.onMouseMove(e,n.x,n.y),this.update()}onMouseUp(t){this.undelegateDocumentEvents();const e=this.normalizeEvent(t),n=this.cellView,i=this.graph.snapToGrid(e.clientX,e.clientY);n.onMouseUp(e,i.x,i.y),this.graph.view.delegateEvents(),this.blur(),this.container.style.pointerEvents="",n.cell.stopBatch("move-arrowhead",{ui:!0,toolId:this.cid})}}(function(r){r.config({tagName:"path",isSVGElement:!0,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}})})(ng||(ng={}));const jS=ng.define({name:"source-arrowhead",type:"source",ratio:0,attrs:{d:"M 10 -8 -10 0 10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}}),FS=ng.define({name:"target-arrowhead",type:"target",ratio:1,attrs:{d:"M -10 -8 10 0 -10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}});class zl extends Ze.ToolItem{constructor(){super(...arguments),this.labelIndex=-1,this.distance=.5,this.dblClick=this.onCellDblClick.bind(this)}onRender(){const t=this.cellView;t&&t.on("cell:dblclick",this.dblClick)}createElement(){const t=[this.prefixClassName(`${this.cell.isEdge()?"edge":"node"}-tool-editor`),this.prefixClassName("cell-tool-editor")];this.editor=Ze.createElement("div",!1),this.addClass(t,this.editor),this.editor.contentEditable="true",this.container.appendChild(this.editor)}removeElement(){this.undelegateDocumentEvents(),this.editor&&(this.container.removeChild(this.editor),this.editor=null)}updateEditor(){const{cell:t,editor:e}=this;if(!e)return;const{style:n}=e;t.isNode()?this.updateNodeEditorTransform():t.isEdge()&&this.updateEdgeEditorTransform();const{attrs:i}=this.options;n.fontSize=`${i.fontSize}px`,n.fontFamily=i.fontFamily,n.color=i.color,n.backgroundColor=i.backgroundColor;let s;const{getText:a}=this.options;return typeof a=="function"&&(s=xt(a,this.cellView,{cell:this.cell,index:this.labelIndex})),e.innerText=s||"",this.setCellText(""),this}updateNodeEditorTransform(){const{graph:t,cell:e,editor:n}=this;if(!n)return;let i=B.create(),s=20,a="",{x:l,y:u}=this.options;if(typeof l!="undefined"&&typeof u!="undefined"){const g=e.getBBox();l=si(l,g.width),u=si(u,g.height),i=g.topLeft.translate(l,u),s=g.width-l*2}else{const g=e.getBBox();i=g.center,s=g.width-4,a="translate(-50%, -50%)"}const h=t.scale(),{style:d}=n;i=t.localToGraph(i),d.left=`${i.x}px`,d.top=`${i.y}px`,d.transform=`scale(${h.sx}, ${h.sy}) ${a}`,d.minWidth=`${s}px`}updateEdgeEditorTransform(){if(!this.event)return;const{graph:t,editor:e}=this;if(!e)return;let n=B.create(),i=20;const{style:s}=e,a=this.event.target,l=a.parentElement;if(l&&Tl(l,this.prefixClassName("edge-label"))){const d=l.getAttribute("data-index")||"0";this.labelIndex=parseInt(d,10);const g=l.getAttribute("transform"),{translation:p}=qd(g);n=new B(p.tx,p.ty),i=fe.getBBox(a).width}else{if(!this.options.labelAddable)return this;n=t.clientToLocal(B.create(this.event.clientX,this.event.clientY));const g=this.cellView.path.closestPointLength(n);this.distance=g,this.labelIndex=-1}n=t.localToGraph(n);const h=t.scale();s.left=`${n.x}px`,s.top=`${n.y}px`,s.minWidth=`${i}px`,s.transform=`scale(${h.sx}, ${h.sy}) translate(-50%, -50%)`}onDocumentMouseDown(t){if(this.editor&&t.target!==this.editor){const e=this.editor.innerText.replace(/\n$/,"")||"";this.setCellText(e!==""?e:null),this.removeElement()}}onCellDblClick({e:t}){t.stopPropagation(),this.removeElement(),this.event=t,this.createElement(),this.updateEditor(),this.autoFocus(),this.delegateDocumentEvents(this.options.documentEvents)}onMouseDown(t){t.stopPropagation()}autoFocus(){setTimeout(()=>{this.editor&&(this.editor.focus(),this.selectText())})}selectText(){if(window.getSelection&&this.editor){const t=document.createRange(),e=window.getSelection();t.selectNodeContents(this.editor),e.removeAllRanges(),e.addRange(t)}}setCellText(t){const e=this.options.setText;typeof e=="function"&&xt(e,this.cellView,{cell:this.cell,value:t,index:this.labelIndex,distance:this.distance})}onRemove(){const t=this.cellView;t&&t.off("cell:dblclick",this.dblClick),this.removeElement()}}(function(r){r.config({tagName:"div",isSVGElement:!1,events:{mousedown:"onMouseDown"},documentEvents:{mousedown:"onDocumentMouseDown"}})})(zl||(zl={})),function(r){r.NodeEditor=r.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},getText({cell:t}){return t.attr("text/text")},setText({cell:t,value:e}){e!==null&&t.attr("text/text",e)}}),r.EdgeEditor=r.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},labelAddable:!0,getText({cell:t,index:e}){return e===-1?"":t.prop(`labels/${e}/attrs/label/text`)},setText({cell:t,value:e,index:n,distance:i}){const s=t;n===-1?e&&s.appendLabel({position:{distance:i},attrs:{label:{text:e}}}):e!==null?s.prop(`labels/${n}/attrs/label/text`,e):typeof n=="number"&&s.removeLabelAt(n)}})}(zl||(zl={}));var J0=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e},$l;(function(r){r.presets={boundary:tg,button:so,"button-remove":so.Remove,"node-editor":zl.NodeEditor},r.registry=Ye.create({type:"node tool",process(t,e){if(typeof e=="function")return e;let n=Ze.ToolItem;const{inherit:i}=e,s=J0(e,["inherit"]);if(i){const a=this.get(i);a==null?this.onNotFound(i,"inherited"):n=a}return s.name==null&&(s.name=t),n.define.call(n,s)}}),r.registry.register(r.presets,!0)})($l||($l={}));var Vl;(function(r){r.presets={boundary:tg,vertices:dh,segments:gh,button:so,"button-remove":so.Remove,"source-anchor":DS,"target-anchor":BS,"source-arrowhead":jS,"target-arrowhead":FS,"edge-editor":zl.EdgeEditor},r.registry=Ye.create({type:"edge tool",process(t,e){if(typeof e=="function")return e;let n=Ze.ToolItem;const{inherit:i}=e,s=J0(e,["inherit"]);if(i){const a=this.get(i);a==null?this.onNotFound(i,"inherited"):n=a}return s.name==null&&(s.name=t),n.define.call(n,s)}}),r.registry.register(r.presets,!0)})(Vl||(Vl={}));const zS=ys("center"),$S=ys("topCenter"),VS=ys("bottomCenter"),HS=ys("leftMiddle"),WS=ys("rightMiddle"),GS=ys("topLeft"),US=ys("topRight"),qS=ys("bottomLeft"),JS=ys("bottomRight");function ys(r){return function(t,e,n,i={}){const s=i.rotate?t.getUnrotatedBBoxOfElement(e):t.getBBoxOfElement(e),a=s[r];a.x+=si(i.dx,s.width),a.y+=si(i.dy,s.height);const l=t.cell;return i.rotate?a.rotate(-l.getAngle(),l.getBBox().getCenter()):a}}function rg(r){return function(t,e,n,i){if(n instanceof Element){const s=this.graph.findViewByElem(n);let a;if(s)if(s.isEdgeElement(n)){const l=i.fixedAt!=null?i.fixedAt:"50%";a=X0(s,l)}else a=s.getBBoxOfElement(n).getCenter();else a=new B;return r.call(this,t,e,a,i)}return r.apply(this,arguments)}}function X0(r,t){const e=ds(t),n=typeof t=="string"?parseFloat(t):t;return e?r.getPointAtRatio(n/100):r.getPointAtLength(n)}const XS=rg(function(r,t,e,n){const i=r.cell.getAngle(),s=r.getBBoxOfElement(t),a=s.getCenter(),l=s.getTopLeft(),u=s.getBottomRight();let h=n.padding;if(Number.isFinite(h)||(h=0),l.y+h<=e.y&&e.y<=u.y-h){const d=e.y-a.y;a.x+=i===0||i===180?0:d*1/Math.tan(we.toRad(i)),a.y+=d}else if(l.x+h<=e.x&&e.x<=u.x-h){const d=e.x-a.x;a.y+=i===90||i===270?0:d*Math.tan(we.toRad(i)),a.x+=d}return a}),YS=function(r,t,e,n,i){const s=r.cell.getConnectionPoint(this.cell,i);return(n.dx||n.dy)&&s.translate(n.dx||0,n.dy||0),s},ZS=rg(function(r,t,e,n){let i,s=0,a;const l=r.cell;n.rotate?(i=r.getUnrotatedBBoxOfElement(t),a=l.getBBox().getCenter(),s=l.getAngle()):i=r.getBBoxOfElement(t);const u=n.padding;u!=null&&Number.isFinite(u)&&i.inflate(u),n.rotate&&e.rotate(s,a);const h=i.getNearestSideToPoint(e);let d;switch(h){case"left":d=i.getLeftMiddle();break;case"right":d=i.getRightMiddle();break;case"top":d=i.getTopCenter();break;case"bottom":d=i.getBottomCenter();break;default:break}const g=n.direction;return g==="H"?(h==="top"||h==="bottom")&&(e.x<=i.x+i.width?d=i.getLeftMiddle():d=i.getRightMiddle()):g==="V"&&(e.y<=i.y+i.height?d=i.getTopCenter():d=i.getBottomCenter()),n.rotate?d.rotate(-s,a):d});var Hl;(function(r){r.presets=Bt,r.registry=Ye.create({type:"node endpoint"}),r.registry.register(r.presets,!0)})(Hl||(Hl={}));const KS=function(r,t,e,n){let i=n.ratio!=null?n.ratio:.5;return i>1&&(i/=100),r.getPointAtRatio(i)},QS=function(r,t,e,n){const i=n.length!=null?n.length:20;return r.getPointAtLength(i)},Y0=function(r,t,e,n){const i=r.getClosestPoint(e);return i!=null?i:new B},tA=rg(Y0),eA=rg(function(r,t,e,n){const s=r.getConnection(),a=r.getConnectionSubdivisions(),l=new ft(e.clone().translate(0,1e6),e.clone().translate(0,-1e6)),u=new ft(e.clone().translate(1e6,0),e.clone().translate(-1e6,0)),h=l.intersect(s,{segmentSubdivisions:a}),d=u.intersect(s,{segmentSubdivisions:a}),g=[];return h&&g.push(...h),d&&g.push(...d),g.length>0?e.closest(g):n.fallbackAt!=null?X0(r,n.fallbackAt):xt(Y0,this,r,t,e,n)});var Wl;(function(r){r.presets=ne,r.registry=Ye.create({type:"edge endpoint"}),r.registry.register(r.presets,!0)})(Wl||(Wl={}));function ig(r,t,e){let n;if(typeof e=="object"){if(Number.isFinite(e.y)){const s=new ft(t,r),{start:a,end:l}=s.parallel(e.y);t=a,r=l}n=e.x}else n=e;if(n==null||!Number.isFinite(n))return r;const i=r.distance(t);return n===0&&i>0?r:r.move(t,-Math.min(n,i-1))}function sg(r){const t=r.getAttribute("stroke-width");return t===null?0:parseFloat(t)||0}function nA(r){if(r==null)return null;let t=r;do{let e=t.tagName;if(typeof e!="string")return null;if(e=e.toUpperCase(),e==="G")t=t.firstElementChild;else if(e==="TITLE")t=t.nextElementSibling;else break}while(t);return t}const Z0=function(r,t,e,n){const i=t.getBBoxOfElement(e);n.stroked&&i.inflate(sg(e)/2);const s=r.intersect(i),a=s&&s.length?r.start.closest(s):r.end;return ig(a,r.start,n.offset)},rA=function(r,t,e,n,i){const s=t.cell,a=s.isNode()?s.getAngle():0;if(a===0)return xt(Z0,this,r,t,e,n,i);const l=t.getUnrotatedBBoxOfElement(e);n.stroked&&l.inflate(sg(e)/2);const u=l.getCenter(),h=r.clone().rotate(a,u),d=h.setLength(1e6).intersect(l),g=d&&d.length?h.start.closest(d).rotate(-a,u):r.end;return ig(g,r.start,n.offset)},iA=function(r,t,e,n){let i,s;const a=r.end,l=n.selector;if(typeof l=="string"?i=t.findOne(l):Array.isArray(l)?i=Eu(e,l):i=nA(e),!Ks(i)){if(i===e||!Ks(e))return a;i=e}const u=t.getShapeOfElement(i),h=t.getMatrixOfElement(i),d=t.getRootTranslatedMatrix(),g=t.getRootRotatedMatrix(),p=d.multiply(g).multiply(h),m=p.inverse(),x=fe.transformLine(r,m),C=x.start.clone(),O=t.getDataOfElement(i);if(n.insideout===!1){O.shapeBBox==null&&(O.shapeBBox=u.bbox());const k=O.shapeBBox;if(k!=null&&k.containsPoint(C))return a}n.extrapolate===!0&&x.setLength(1e6);let R;if(bt.isPath(u)){const k=n.precision||2;O.segmentSubdivisions==null&&(O.segmentSubdivisions=u.getSegmentSubdivisions({precision:k})),R={precision:k,segmentSubdivisions:O.segmentSubdivisions},s=x.intersect(u,R)}else s=x.intersect(u);s?Array.isArray(s)&&(s=C.closest(s)):n.sticky===!0&&(st.isRectangle(u)?s=u.getNearestPointToPoint(C):oi.isEllipse(u)?s=u.intersectsWithLineFromCenterToPoint(C):s=u.closestPoint(C,R));const L=s?fe.transformPoint(s,p):a;let M=n.offset||0;return n.stroked!==!1&&(typeof M=="object"?(M=Object.assign({},M),M.x==null&&(M.x=0),M.x+=sg(i)/2):M+=sg(i)/2),ig(L,r.start,M)};function sA(r,t,e=0){const{start:n,end:i}=r;let s,a,l,u;switch(t){case"left":u="x",s=i,a=n,l=-1;break;case"right":u="x",s=n,a=i,l=1;break;case"top":u="y",s=i,a=n,l=-1;break;case"bottom":u="y",s=n,a=i,l=1;break;default:return}n[u]<i[u]?s[u]=a[u]:a[u]=s[u],Number.isFinite(e)&&(s[u]+=l*e,a[u]+=l*e)}const oA=function(r,t,e,n){const{alignOffset:i,align:s}=n;return s&&sA(r,s,i),ig(r.end,r.start,n.offset)};var Gl;(function(r){r.presets=de,r.registry=Ye.create({type:"connection point"}),r.registry.register(r.presets,!0)})(Gl||(Gl={}));const aA=function(r){return[...r]},lA=function(r,t,e){const n=t.side||"bottom",i=ra(t.padding||40),s=e.sourceBBox,a=e.targetBBox,l=s.getCenter(),u=a.getCenter();let h,d,g;switch(n){case"top":g=-1,h="y",d="height";break;case"left":g=-1,h="x",d="width";break;case"right":g=1,h="x",d="width";break;case"bottom":default:g=1,h="y",d="height";break}return l[h]+=g*(s[d]/2+i[n]),u[h]+=g*(a[d]/2+i[n]),g*(l[h]-u[h])>0?u[h]=l[h]:l[h]=u[h],[l.toJSON(),...r,u.toJSON()]};function og(r){return new st(r.x,r.y,0,0)}function ag(r={}){const t=ra(r.padding||20);return{x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}function K0(r,t={}){return r.sourceBBox.clone().moveAndExpand(ag(t))}function Q0(r,t={}){return r.targetBBox.clone().moveAndExpand(ag(t))}function cA(r,t={}){return r.sourceAnchor?r.sourceAnchor:K0(r,t).getCenter()}function uA(r,t={}){return r.targetAnchor?r.targetAnchor:Q0(r,t).getCenter()}const tx=function(r,t,e){let n=K0(e,t),i=Q0(e,t);const s=cA(e,t),a=uA(e,t);n=n.union(og(s)),i=i.union(og(a));const l=r.map(d=>B.create(d));l.unshift(s),l.push(a);let u=null;const h=[];for(let d=0,g=l.length-1;d<g;d+=1){let p=null;const m=l[d],x=l[d+1],C=Nr.getBearing(m,x)!=null;if(d===0)d+1===g?n.intersectsWithRect(i.clone().inflate(1))?p=Nr.insideNode(m,x,n,i):C||(p=Nr.nodeToNode(m,x,n,i)):n.containsPoint(x)?p=Nr.insideNode(m,x,n,og(x).moveAndExpand(ag(t))):C||(p=Nr.nodeToVertex(m,x,n));else if(d+1===g){const O=C&&Nr.getBearing(x,m)===u;i.containsPoint(m)||O?p=Nr.insideNode(m,x,og(m).moveAndExpand(ag(t)),i,u):C||(p=Nr.vertexToNode(m,x,i,u))}else C||(p=Nr.vertexToVertex(m,x,u));p?(h.push(...p.points),u=p.direction):u=Nr.getBearing(m,x),d+1<g&&h.push(x)}return h};var Nr;(function(r){const t={N:"S",S:"N",E:"W",W:"E"},e={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function n(g,p,m){let x=new B(g.x,p.y);return m.containsPoint(x)&&(x=new B(p.x,g.y)),x}function i(g,p){return g[p==="W"||p==="E"?"width":"height"]}r.getBBoxSize=i;function s(g,p){return g.x===p.x?g.y>p.y?"N":"S":g.y===p.y?g.x>p.x?"W":"E":null}r.getBearing=s;function a(g,p,m){const x=new B(g.x,p.y),C=new B(p.x,g.y),O=s(g,x),R=s(g,C),L=m?t[m]:null,M=O===m||O!==L&&(R===L||R!==m)?x:C;return{points:[M],direction:s(M,p)}}r.vertexToVertex=a;function l(g,p,m){const x=n(g,p,m);return{points:[x],direction:s(x,p)}}r.nodeToVertex=l;function u(g,p,m,x){const C=[new B(g.x,p.y),new B(p.x,g.y)],O=C.filter(M=>!m.containsPoint(M)),R=O.filter(M=>s(M,g)!==x);let L;if(R.length>0)return L=R.filter(M=>s(g,M)===x).pop(),L=L||R[0],{points:[L],direction:s(L,p)};{L=dd(C,O)[0];const M=B.create(p).move(L,-i(m,x)/2);return{points:[n(M,g,m),M],direction:s(M,p)}}}r.vertexToNode=u;function h(g,p,m,x){let C=l(p,g,x);const O=C.points[0];if(m.containsPoint(O)){C=l(g,p,m);const R=C.points[0];if(x.containsPoint(R)){const L=B.create(g).move(R,-i(m,s(g,R))/2),M=B.create(p).move(O,-i(x,s(p,O))/2),k=new ft(L,M).getCenter(),z=l(g,k,m),H=a(k,p,z.direction);C.points=[z.points[0],H.points[0]],C.direction=H.direction}}return C}r.nodeToNode=h;function d(g,p,m,x,C){const O=m.union(x).inflate(1),R=O.getCenter(),L=R.distance(p)>R.distance(g),M=L?p:g,k=L?g:p;let z,H,K;C?(z=B.fromPolar(O.width+O.height,e[C],M),z=O.getNearestPointToPoint(z).move(z,-1)):z=O.getNearestPointToPoint(M).move(M,1),H=n(z,k,O);let rt;z.round().equals(H.round())?(H=B.fromPolar(O.width+O.height,we.toRad(z.theta(M))+Math.PI/2,k),H=O.getNearestPointToPoint(H).move(k,1).round(),K=n(z,H,O),rt=L?[H,K,z]:[z,K,H]):rt=L?[H,z]:[z,H];const it=s(L?z:H,p);return{points:rt,direction:it}}r.insideNode=d})(Nr||(Nr={}));const hA={step:10,maxLoopCount:2e3,precision:1,maxDirectionChange:90,perpendicular:!0,excludeTerminals:[],excludeNodes:[],excludeShapes:[],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost(){return oo(this.step,this)},directions(){const r=oo(this.step,this),t=oo(this.cost,this);return[{cost:t,offsetX:r,offsetY:0},{cost:t,offsetX:-r,offsetY:0},{cost:t,offsetX:0,offsetY:r},{cost:t,offsetX:0,offsetY:-r}]},penalties(){const r=oo(this.step,this);return{0:0,45:r/2,90:r/2}},paddingBox(){const r=oo(this.step,this);return{x:-r,y:-r,width:2*r,height:2*r}},fallbackRouter:tx,draggingRouter:null,snapToGrid:!0};function oo(r,t){return typeof r=="function"?r.call(t):r}function fA(r){const t=Object.keys(r).reduce((e,n)=>{const i=e;return n==="fallbackRouter"||n==="draggingRouter"||n==="fallbackRoute"?i[n]=r[n]:i[n]=oo(r[n],r),e},{});if(t.padding){const e=ra(t.padding);t.paddingBox={x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}return t.directions.forEach(e=>{const n=new B(0,0),i=new B(e.offsetX,e.offsetY);e.angle=we.normalize(n.theta(i))}),t}const ex=1,nx=2;class dA{constructor(){this.items=[],this.hash={},this.values={}}add(t,e){this.hash[t]?this.items.splice(this.items.indexOf(t),1):this.hash[t]=ex,this.values[t]=e;const n=fs(this.items,t,i=>this.values[i]);this.items.splice(n,0,t)}pop(){const t=this.items.shift();return t&&(this.hash[t]=nx),t}isOpen(t){return this.hash[t]===ex}isClose(t){return this.hash[t]===nx}isEmpty(){return this.items.length===0}}class gA{constructor(t){this.options=t,this.mapGridSize=100,this.map={}}build(t,e){const n=this.options,i=n.excludeTerminals.reduce((h,d)=>{const g=e[d];if(g){const p=t.getCell(g.cell);p&&h.push(p)}return h},[]);let s=[];const a=t.getCell(e.getSourceCellId());a&&(s=Iu(s,a.getAncestors().map(h=>h.id)));const l=t.getCell(e.getTargetCellId());l&&(s=Iu(s,l.getAncestors().map(h=>h.id)));const u=this.mapGridSize;return t.getNodes().reduce((h,d)=>{const g=i.some(O=>O.id===d.id),p=d.shape?n.excludeShapes.includes(d.shape):!1,m=n.excludeNodes.some(O=>typeof O=="string"?d.id===O:O===d),x=s.includes(d.id);if(!(p||g||m||x)){const O=d.getBBox().moveAndExpand(n.paddingBox),R=O.getOrigin().snapToGrid(u),L=O.getCorner().snapToGrid(u);for(let M=R.x;M<=L.x;M+=u)for(let k=R.y;k<=L.y;k+=u){const z=new B(M,k).toString();h[z]==null&&(h[z]=[]),h[z].push(O)}}return h},this.map),this}isAccessible(t){const e=t.clone().snapToGrid(this.mapGridSize).toString(),n=this.map[e];return n?n.every(i=>!i.containsPoint(t)):!0}}function rx(r,t){const e=r.sourceBBox.clone();return t&&t.paddingBox?e.moveAndExpand(t.paddingBox):e}function ix(r,t){const e=r.targetBBox.clone();return t&&t.paddingBox?e.moveAndExpand(t.paddingBox):e}function sx(r,t){return r.sourceAnchor?r.sourceAnchor:rx(r,t).getCenter()}function pA(r,t){return r.targetAnchor?r.targetAnchor:ix(r,t).getCenter()}function sb(r,t,e,n,i){const s=360/e,a=r.theta(mA(r,t,n,i)),l=we.normalize(a+s/2);return s*Math.floor(l/s)}function mA(r,t,e,n){const i=n.step,s=t.x-r.x,a=t.y-r.y,l=s/e.x,u=a/e.y,h=l*i,d=u*i;return new B(r.x+h,r.y+d)}function ox(r,t){const e=Math.abs(r-t);return e>180?360-e:e}function yA(r,t){const e=t.step;return t.directions.forEach(n=>{n.gridOffsetX=n.offsetX/e*r.x,n.gridOffsetY=n.offsetY/e*r.y}),t.directions}function vA(r,t,e){return{source:t.clone(),x:ax(e.x-t.x,r),y:ax(e.y-t.y,r)}}function ax(r,t){if(!r)return t;const e=Math.abs(r),n=Math.round(e/t);if(!n)return e;const i=n*t,a=(e-i)/n;return t+a}function bA(r,t){const e=t.source,n=Se.snapToGrid(r.x-e.x,t.x)+e.x,i=Se.snapToGrid(r.y-e.y,t.y)+e.y;return new B(n,i)}function ph(r,t){return r.round(t)}function lg(r,t,e){return ph(bA(r.clone(),t),e)}function mh(r){return r.toString()}function ob(r){return new B(r.x===0?0:Math.abs(r.x)/r.x,r.y===0?0:Math.abs(r.y)/r.y)}function lx(r,t){let e=1/0;for(let n=0,i=t.length;n<i;n+=1){const s=r.manhattanDistance(t[n]);s<e&&(e=s)}return e}function cx(r,t,e,n,i){const s=i.precision,a=i.directionMap,l=r.diff(t.getCenter()),u=Object.keys(a).reduce((h,d)=>{if(e.includes(d)){const g=a[d],p=new B(r.x+g.x*(Math.abs(l.x)+t.width),r.y+g.y*(Math.abs(l.y)+t.height)),x=new ft(r,p).intersect(t)||[];let C,O=null;for(let R=0;R<x.length;R+=1){const L=x[R],M=r.squaredDistance(L);(C==null||M>C)&&(C=M,O=L)}if(O){let R=lg(O,n,s);t.containsPoint(R)&&(R=lg(R.translate(g.x*n.x,g.y*n.y),n,s)),h.push(R)}}return h},[]);return t.containsPoint(r)||u.push(lg(r,n,s)),u}function xA(r,t,e,n,i){const s=[];let a=ob(i.diff(e)),l=mh(e),u=r[l],h;for(;u;){h=t[l];const p=ob(h.diff(u));p.equals(a)||(s.unshift(h),a=p),l=mh(u),u=r[l]}const d=t[l];return ob(d.diff(n)).equals(a)||s.unshift(d),s}function wA(r,t,e,n,i){const s=i.precision;let a,l;st.isRectangle(t)?a=ph(sx(r,i).clone(),s):a=ph(t.clone(),s),st.isRectangle(e)?l=ph(pA(r,i).clone(),s):l=ph(e.clone(),s);const u=vA(i.step,a,l),h=a,d=l;let g,p;if(st.isRectangle(t)?g=cx(h,t,i.startDirections,u,i):g=[h],st.isRectangle(e)?p=cx(l,e,i.endDirections,u,i):p=[d],g=g.filter(m=>n.isAccessible(m)),p=p.filter(m=>n.isAccessible(m)),g.length>0&&p.length>0){const m=new dA,x={},C={},O={};for(let gt=0,ot=g.length;gt<ot;gt+=1){const pt=g[gt],Ae=mh(pt);m.add(Ae,lx(pt,p)),x[Ae]=pt,O[Ae]=0}const R=i.previousDirectionAngle,L=R===void 0;let M,k;const z=yA(u,i),H=z.length,K=p.reduce((gt,ot)=>{const pt=mh(ot);return gt.push(pt),gt},[]),rt=B.equalPoints(g,p);let it=i.maxLoopCount;for(;!m.isEmpty()&&it>0;){const gt=m.pop(),ot=x[gt],pt=C[gt],Ae=O[gt],Ut=ot.equals(h),G=pt==null;let tt;if(G?L?Ut?tt=null:tt=sb(h,ot,H,u,i):tt=R:tt=sb(pt,ot,H,u,i),!(G&&rt)&&K.indexOf(gt)>=0)return i.previousDirectionAngle=tt,xA(C,x,ot,h,d);for(let Le=0;Le<H;Le+=1){M=z[Le];const Ne=M.angle;if(k=ox(tt,Ne),!(L&&Ut)&&k>i.maxDirectionChange)continue;const un=lg(ot.clone().translate(M.gridOffsetX||0,M.gridOffsetY||0),u,s),zn=mh(un);if(m.isClose(zn)||!n.isAccessible(un))continue;if(K.indexOf(zn)>=0&&!un.equals(d)){const ws=sb(un,d,H,u,i);if(ox(Ne,ws)>i.maxDirectionChange)continue}const pg=M.cost,mg=Ut?0:i.penalties[k],co=Ae+pg+mg;(!m.isOpen(zn)||co<O[zn])&&(x[zn]=un,C[zn]=ot,O[zn]=co,m.add(zn,co+lx(un,p)))}it-=1}}return i.fallbackRoute?xt(i.fallbackRoute,this,h,d,i):null}function SA(r,t=10){if(r.length<=1)return r;for(let e=0,n=r.length;e<n-1;e+=1){const i=r[e],s=r[e+1];if(i.x===s.x){const a=t*Math.round(i.x/t);i.x!==a&&(i.x=a,s.x=a)}else if(i.y===s.y){const a=t*Math.round(i.y/t);i.y!==a&&(i.y=a,s.y=a)}}return r}const AA=function(r,t,e){const n=fA(t),i=rx(e,n),s=ix(e,n),a=sx(e,n),l=new gA(n).build(e.graph.model,e.cell),u=r.map(m=>B.create(m)),h=[];let d=a,g,p;for(let m=0,x=u.length;m<=x;m+=1){let C=null;if(g=p||i,p=u[m],p==null){p=s;const R=e.cell;if((R.getSourceCellId()==null||R.getTargetCellId()==null)&&typeof n.draggingRouter=="function"){const M=g===i?a:g,k=p.getOrigin();C=xt(n.draggingRouter,e,M,k,n)}}if(C==null&&(C=wA(e,g,p,l,n)),C===null)return console.warn("Unable to execute manhattan algorithm, use orth instead"),xt(n.fallbackRouter,this,r,n,e);const O=C[0];O&&O.equals(d)&&C.shift(),d=C[C.length-1]||d,h.push(...C)}return n.snapToGrid?SA(h,e.graph.grid.getGridSize()):h},ux=function(r,t,e){return xt(AA,this,r,Object.assign(Object.assign({},hA),t),e)},CA={maxDirectionChange:45,directions(){const r=oo(this.step,this),t=oo(this.cost,this),e=Math.ceil(Math.sqrt(r*r<<1));return[{cost:t,offsetX:r,offsetY:0},{cost:e,offsetX:r,offsetY:r},{cost:t,offsetX:0,offsetY:r},{cost:e,offsetX:-r,offsetY:r},{cost:t,offsetX:-r,offsetY:0},{cost:e,offsetX:-r,offsetY:-r},{cost:t,offsetX:0,offsetY:-r},{cost:e,offsetX:r,offsetY:-r}]},fallbackRoute(r,t,e){const n=r.theta(t),i=[];let s={x:t.x,y:r.y},a={x:r.x,y:t.y};if(n%180>90){const M=s;s=a,a=M}const l=n%90<45?s:a,u=new ft(r,l),h=90*Math.ceil(n/90),d=B.fromPolar(u.squaredLength(),we.toRad(h+135),l),g=new ft(t,d),p=u.intersectsWithLine(g),m=p||t,x=p?m:r,C=360/e.directions.length,O=x.theta(t),R=we.normalize(O+C/2),L=C*Math.floor(R/C);return e.previousDirectionAngle=L,m&&i.push(m.round()),i.push(t),i}},PA=function(r,t,e){return xt(ux,this,r,Object.assign(Object.assign({},CA),t),e)},OA=function(r,t,e){const n=t.offset||32,i=t.min==null?16:t.min;let s=0,a=t.direction;const l=e.sourceBBox,u=e.targetBBox,h=l.getCenter(),d=u.getCenter();if(typeof n=="number"&&(s=n),a==null){let R=u.left-l.right,L=u.top-l.bottom;R>=0&&L>=0?a=R>=L?"L":"T":R<=0&&L>=0?(R=l.left-u.right,R>=0?a=R>=L?"R":"T":a="T"):R>=0&&L<=0?(L=l.top-u.bottom,L>=0?a=R>=L?"L":"B":a="L"):(R=l.left-u.right,L=l.top-u.bottom,R>=0&&L>=0?a=R>=L?"R":"B":R<=0&&L>=0?a="B":R>=0&&L<=0?a="R":a=Math.abs(R)>Math.abs(L)?"R":"B")}a==="H"?a=d.x-h.x>=0?"L":"R":a==="V"&&(a=d.y-h.y>=0?"T":"B"),n==="center"&&(a==="L"?s=(u.left-l.right)/2:a==="R"?s=(l.left-u.right)/2:a==="T"?s=(u.top-l.bottom)/2:a==="B"&&(s=(l.top-u.bottom)/2));let g,p,m;const x=a==="L"||a==="R";if(x){if(d.y===h.y)return[...r];m=a==="L"?1:-1,g="x",p="width"}else{if(d.x===h.x)return[...r];m=a==="T"?1:-1,g="y",p="height"}const C=h.clone(),O=d.clone();if(C[g]+=m*(l[p]/2+s),O[g]-=m*(u[p]/2+s),x){const R=C.x,L=O.x,M=l.width/2+i,k=u.width/2+i;d.x>h.x?L<=R&&(C.x=Math.max(L,h.x+M),O.x=Math.min(R,d.x-k)):L>=R&&(C.x=Math.min(L,h.x-M),O.x=Math.max(R,d.x+k))}else{const R=C.y,L=O.y,M=l.height/2+i,k=u.height/2+i;d.y>h.y?L<=R&&(C.y=Math.max(L,h.y+M),O.y=Math.min(R,d.y-k)):L>=R&&(C.y=Math.min(L,h.y-M),O.y=Math.max(R,d.y+k))}return[C.toJSON(),...r,O.toJSON()]};function Ul(r,t){if(t!=null&&t!==!1){const e=typeof t=="boolean"?0:t;if(e>0){const n=B.create(r[1]).move(r[2],e),i=B.create(r[1]).move(r[0],e);return[n.toJSON(),...r,i.toJSON()]}{const n=r[1];return[Object.assign({},n),...r,Object.assign({},n)]}}return r}const _A=function(r,t,e){const n=t.width||50,s=(t.height||80)/2,a=t.angle||"auto",l=e.sourceAnchor,u=e.targetAnchor,h=e.sourceBBox,d=e.targetBBox;if(l.equals(u)){const g=R=>{const L=we.toRad(R),M=Math.sin(L),k=Math.cos(L),z=new B(l.x+k*n,l.y+M*n),H=new B(z.x-k*s,z.y-M*s),K=H.clone().rotate(-90,z),rt=H.clone().rotate(90,z);return[K.toJSON(),z.toJSON(),rt.toJSON()]},p=R=>{const L=l.clone().move(R,-1),M=new ft(L,R);return!h.containsPoint(R)&&!h.intersectsWithLine(M)},m=[0,90,180,270,45,135,225,315];if(typeof a=="number")return Ul(g(a),t.merge);const x=h.getCenter();if(x.equals(l))return Ul(g(0),t.merge);const C=x.angleBetween(l,x.clone().translate(1,0));let O=g(C);if(p(O[1]))return Ul(O,t.merge);for(let R=1,L=m.length;R<L;R+=1)if(O=g(C+m[R]),p(O[1]))return Ul(O,t.merge);return Ul(O,t.merge)}{const g=new ft(l,u);let p=g.parallel(-n),m=p.getCenter(),x=p.start.clone().move(p.end,s),C=p.end.clone().move(p.start,s);const O=g.parallel(-1),R=new ft(O.start,m),L=new ft(O.end,m);if((h.containsPoint(m)||d.containsPoint(m)||h.intersectsWithLine(R)||h.intersectsWithLine(L)||d.intersectsWithLine(R)||d.intersectsWithLine(L))&&(p=g.parallel(n),m=p.getCenter(),x=p.start.clone().move(p.end,s),C=p.end.clone().move(p.start,s)),t.merge){const M=new ft(l,u),k=new ft(m,M.center).setLength(Number.MAX_SAFE_INTEGER),z=h.intersectsWithLine(k),H=d.intersectsWithLine(k),K=z?Array.isArray(z)?z:[z]:[];H&&(Array.isArray(H)?K.push(...H):K.push(H));const rt=M.center.closest(K);rt?(e.sourceAnchor=rt.clone(),e.targetAnchor=rt.clone()):(e.sourceAnchor=M.center.clone(),e.targetAnchor=M.center.clone())}return Ul([x.toJSON(),m.toJSON(),C.toJSON()],t.merge)}};var ao;(function(r){r.presets=Zt,r.registry=Ye.create({type:"router"}),r.registry.register(r.presets,!0)})(ao||(ao={}));const EA=function(r,t,e,n={}){const i=[r,...e,t],s=new Xe(i),a=new bt(s);return n.raw?a:a.serialize()},MA=function(r,t,e,n={}){const i=e.length===3?0:1,s=B.create(e[0+i]),a=B.create(e[2+i]),l=B.create(e[1+i]);if(!B.equals(r,t)){const h=new B((r.x+t.x)/2,(r.y+t.y)/2),d=h.angleBetween(B.create(r).rotate(90,h),l);d>1&&(s.rotate(180-d,h),a.rotate(180-d,h),l.rotate(180-d,h))}const u=`
     M ${r.x} ${r.y}
     Q ${s.x} ${s.y} ${l.x} ${l.y}
     Q ${a.x} ${a.y} ${t.x} ${t.y}
  `;return n.raw?bt.parse(u):u},TA=function(r,t,e,n={}){const i=new bt;i.appendSegment(bt.createSegment("M",r));const s=1/3,a=2/3,l=n.radius||10;let u,h;for(let d=0,g=e.length;d<g;d+=1){const p=B.create(e[d]),m=e[d-1]||r,x=e[d+1]||t;u=h||p.distance(m)/2,h=p.distance(x)/2;const C=-Math.min(l,u),O=-Math.min(l,h),R=p.clone().move(m,C).round(),L=p.clone().move(x,O).round(),M=new B(s*R.x+a*p.x,a*p.y+s*R.y),k=new B(s*L.x+a*p.x,a*p.y+s*L.y);i.appendSegment(bt.createSegment("L",R)),i.appendSegment(bt.createSegment("C",M,k,L))}return i.appendSegment(bt.createSegment("L",t)),n.raw?i:i.serialize()},RA=function(r,t,e,n={}){let i,s=n.direction;if(e&&e.length!==0){const a=[r,...e,t],l=We.throughPoints(a);i=new bt(l)}else if(i=new bt,i.appendSegment(bt.createSegment("M",r)),s||(s=Math.abs(r.x-t.x)>=Math.abs(r.y-t.y)?"H":"V"),s==="H"){const a=(r.x+t.x)/2;i.appendSegment(bt.createSegment("C",a,r.y,a,t.y,t.x,t.y))}else{const a=(r.y+t.y)/2;i.appendSegment(bt.createSegment("C",r.x,a,t.x,a,t.x,t.y))}return n.raw?i:i.serialize()},hx=1,cg=1/3,ug=2/3;function IA(r){let t=r.graph._jumpOverUpdateList;if(t==null&&(t=r.graph._jumpOverUpdateList=[],r.graph.on("cell:mouseup",()=>{const e=r.graph._jumpOverUpdateList;setTimeout(()=>{for(let n=0;n<e.length;n+=1)e[n].update()})}),r.graph.on("model:reseted",()=>{t=r.graph._jumpOverUpdateList=[]})),t.indexOf(r)<0){t.push(r);const e=()=>t.splice(t.indexOf(r),1);r.cell.once("change:connector",e),r.cell.once("removed",e)}}function ab(r,t,e=[]){const n=[r,...e,t],i=[];return n.forEach((s,a)=>{const l=n[a+1];l!=null&&i.push(new ft(s,l))}),i}function LA(r,t){const e=[];return t.forEach(n=>{const i=r.intersectsWithLine(n);i&&e.push(i)}),e}function fx(r,t){return new ft(r,t).squaredLength()}function NA(r,t,e){return t.reduce((n,i,s)=>{if(hg.includes(i))return n;const a=n.pop()||r,l=B.create(i).move(a.start,-e);let u=B.create(i).move(a.start,+e);const h=t[s+1];if(h!=null){const p=u.distance(h);p<=e&&(u=h.move(a.start,p),hg.push(h))}else if(l.distance(a.end)<e*2+hx)return n.push(a),n;if(u.distance(a.start)<e*2+hx)return n.push(a),n;const g=new ft(l,u);return yh.push(g),n.push(new ft(a.start,l),g,new ft(u,a.end)),n},[])}function dx(r,t,e,n){const i=new bt;let s;return s=bt.createSegment("M",r[0].start),i.appendSegment(s),r.forEach((a,l)=>{if(yh.includes(a)){let u,h,d,g;if(e==="arc"){u=-90,h=a.start.diff(a.end),(h.x<0||h.x===0&&h.y<0)&&(u+=180);const m=a.getCenter(),x=new ft(m,a.end).rotate(u,m);let C;C=new ft(a.start,m),d=C.pointAt(2/3).rotate(u,a.start),g=x.pointAt(1/3).rotate(-u,x.end),s=bt.createSegment("C",d,g,x.end),i.appendSegment(s),C=new ft(m,a.end),d=x.pointAt(1/3).rotate(u,x.end),g=C.pointAt(1/3).rotate(-u,a.end),s=bt.createSegment("C",d,g,a.end),i.appendSegment(s)}else if(e==="gap")s=bt.createSegment("M",a.end),i.appendSegment(s);else if(e==="cubic"){u=a.start.theta(a.end);const p=t*.6;let m=t*1.35;h=a.start.diff(a.end),(h.x<0||h.x===0&&h.y<0)&&(m*=-1),d=new B(a.start.x+p,a.start.y+m).rotate(u,a.start),g=new B(a.end.x-p,a.end.y+m).rotate(u,a.end),s=bt.createSegment("C",d,g,a.end),i.appendSegment(s)}}else{const u=r[l+1];n===0||!u||yh.includes(u)?(s=bt.createSegment("L",a.end),i.appendSegment(s)):DA(n,i,a.end,a.start,u.end)}}),i}function DA(r,t,e,n,i){const s=e.distance(n)/2,a=e.distance(i)/2,l=-Math.min(r,s),u=-Math.min(r,a),h=e.clone().move(n,l).round(),d=e.clone().move(i,u).round(),g=new B(cg*h.x+ug*e.x,ug*e.y+cg*h.y),p=new B(cg*d.x+ug*e.x,ug*e.y+cg*d.y);let m;m=bt.createSegment("L",h),t.appendSegment(m),m=bt.createSegment("C",g,p,d),t.appendSegment(m)}let yh,hg;const BA=function(r,t,e,n={}){yh=[],hg=[],IA(this);const i=n.size||5,s=n.type||"arc",a=n.radius||0,l=n.ignoreConnectors||["smooth"],u=this.graph,d=u.model.getEdges();if(d.length===1)return dx(ab(r,t,e),i,s,a);const g=this.cell,p=d.indexOf(g),m=u.options.connecting.connector||{},x=d.filter((k,z)=>{const H=k.getConnector()||m;return l.includes(H.name)?!1:z>p?H.name!=="jumpover":!0}),C=x.map(k=>u.findViewByCell(k)),O=ab(r,t,e),R=C.map(k=>k==null?[]:k===this?O:ab(k.sourcePoint,k.targetPoint,k.routePoints)),L=[];O.forEach(k=>{const z=x.reduce((H,K,rt)=>{if(K!==g){const it=LA(k,R[rt]);H.push(...it)}return H},[]).sort((H,K)=>fx(k.start,H)-fx(k.start,K));z.length>0?L.push(...NA(k,z,i)):L.push(k)});const M=dx(L,i,s,a);return yh=[],hg=[],n.raw?M:M.serialize()};var ha;(function(r){r.presets=$e,r.registry=Ye.create({type:"connector"}),r.registry.register(r.presets,!0)})(ha||(ha={}));var kA=function(r,t,e,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(a=r[l])&&(s=(i<3?a(s):i>3?a(t,e,s):a(t,e))||s);return i>3&&s&&Object.defineProperty(t,e,s),s};class gx extends ar{constructor(t={}){super(),this.pending=!1,this.changing=!1,this.data={},this.mutate(Me(t)),this.changed={}}mutate(t,e={}){const n=e.unset===!0,i=e.silent===!0,s=[],a=this.changing;this.changing=!0,a||(this.previous=Me(this.data),this.changed={});const l=this.data,u=this.previous,h=this.changed;if(Object.keys(t).forEach(d=>{const g=d,p=t[g];ei(l[g],p)||s.push(g),ei(u[g],p)?delete h[g]:h[g]=p,n?delete l[g]:l[g]=p}),!i&&s.length>0&&(this.pending=!0,this.pendingOptions=e,s.forEach(d=>{this.emit("change:*",{key:d,options:e,store:this,current:l[d],previous:u[d]})})),a)return this;if(!i)for(;this.pending;)this.pending=!1,this.emit("changed",{current:l,previous:u,store:this,options:this.pendingOptions});return this.pending=!1,this.changing=!1,this.pendingOptions=null,this}get(t,e){if(t==null)return this.data;const n=this.data[t];return n==null?e:n}getPrevious(t){if(this.previous){const e=this.previous[t];return e==null?void 0:e}}set(t,e,n){return t!=null&&(typeof t=="object"?this.mutate(t,e):this.mutate({[t]:e},n)),this}remove(t,e){const i={};let s;if(typeof t=="string")i[t]=void 0,s=e;else if(Array.isArray(t))t.forEach(a=>i[a]=void 0),s=e;else{for(const a in this.data)i[a]=void 0;s=t}return this.mutate(i,Object.assign(Object.assign({},s),{unset:!0})),this}getByPath(t){return Eu(this.data,t,"/")}setByPath(t,e,n={}){const i="/",s=Array.isArray(t)?[...t]:t.split(i),a=Array.isArray(t)?t.join(i):t,l=s[0],u=s.length;if(n.propertyPath=a,n.propertyValue=e,n.propertyPathArray=s,u===1)this.set(l,e,n);else{const h={};let d=h,g=l;for(let x=1;x<u;x+=1){const C=s[x],O=Number.isFinite(Number(C));d=d[g]=O?[]:{},g=C}Qo(h,s,e,i);const p=Me(this.data);n.rewrite&&Jf(p,t,i);const m=Ee(p,h);this.set(l,m[l],n)}return this}removeByPath(t,e){const n=Array.isArray(t)?t:t.split("/"),i=n[0];if(n.length===1)this.remove(i,e);else{const s=n.slice(1),a=Me(this.get(i));a&&Jf(a,s),this.set(i,a,e)}return this}hasChanged(t){return t==null?Object.keys(this.changed).length>0:t in this.changed}getChanges(t){if(t==null)return this.hasChanged()?Me(this.changed):null;const e=this.changing?this.previous:this.data,n={};let i;for(const s in t){const a=t[s];ei(e[s],a)||(n[s]=a,i=!0)}return i?Me(n):null}toJSON(){return Me(this.data)}clone(){const t=this.constructor;return new t(this.data)}dispose(){this.off(),this.data={},this.previous={},this.changed={},this.pending=!1,this.changing=!1,this.pendingOptions=null,this.trigger("disposed",{store:this})}}kA([ar.dispose()],gx.prototype,"dispose",null);class vh{constructor(t){this.cell=t,this.ids={},this.cache={}}get(){return Object.keys(this.ids)}start(t,e,n={},i="/"){const s=this.cell.getPropByPath(t),a=wm(n,vh.defaultOptions),l=this.getTiming(a.timing),u=this.getInterp(a.interp,s,e);let h=0;const d=Array.isArray(t)?t.join(i):t,g=Array.isArray(t)?t:t.split(i),p=()=>{const m=new Date().getTime();h===0&&(h=m);let C=(m-h)/a.duration;C<1?this.ids[d]=requestAnimationFrame(p):C=1;const O=u(l(C));this.cell.setPropByPath(g,O),n.progress&&n.progress(Object.assign({progress:C,currentValue:O},this.getArgs(d))),C===1&&(this.cell.notify("transition:complete",this.getArgs(d)),n.complete&&n.complete(this.getArgs(d)),this.cell.notify("transition:finish",this.getArgs(d)),n.finish&&n.finish(this.getArgs(d)),this.clean(d))};return setTimeout(()=>{this.stop(t,void 0,i),this.cache[d]={startValue:s,targetValue:e,options:a},this.ids[d]=requestAnimationFrame(p),this.cell.notify("transition:start",this.getArgs(d)),n.start&&n.start(this.getArgs(d))},n.delay),this.stop.bind(this,t,i,n)}stop(t,e={},n="/"){const i=Array.isArray(t)?t:t.split(n);return Object.keys(this.ids).filter(s=>ei(i,s.split(n).slice(0,i.length))).forEach(s=>{cancelAnimationFrame(this.ids[s]);const a=this.cache[s],l=this.getArgs(s),u=Object.assign(Object.assign({},a.options),e),h=u.jumpedToEnd;h&&a.targetValue!=null&&(this.cell.setPropByPath(s,a.targetValue),this.cell.notify("transition:end",Object.assign({},l)),this.cell.notify("transition:complete",Object.assign({},l)),u.complete&&u.complete(Object.assign({},l)));const d=Object.assign({jumpedToEnd:h},l);this.cell.notify("transition:stop",Object.assign({},d)),u.stop&&u.stop(Object.assign({},d)),this.cell.notify("transition:finish",Object.assign({},l)),u.finish&&u.finish(Object.assign({},l)),this.clean(s)}),this}clean(t){delete this.ids[t],delete this.cache[t]}getTiming(t){return typeof t=="string"?aa[t]:t}getInterp(t,e,n){return t?t(e,n):typeof n=="number"?la.number(e,n):typeof n=="string"?n[0]==="#"?la.color(e,n):la.unit(e,n):la.object(e,n)}getArgs(t){const e=this.cache[t];return{path:t,startValue:e.startValue,targetValue:e.targetValue,cell:this.cell}}}(function(r){r.defaultOptions={delay:10,duration:100,timing:"linear"}})(vh||(vh={}));var jA=function(r,t,e,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(a=r[l])&&(s=(i<3?a(s):i>3?a(t,e,s):a(t,e))||s);return i>3&&s&&Object.defineProperty(t,e,s),s},px=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e};class Gt extends ar{static config(t){const{markup:e,propHooks:n,attrHooks:i}=t,s=px(t,["markup","propHooks","attrHooks"]);e!=null&&(this.markup=e),n&&(this.propHooks=this.propHooks.slice(),Array.isArray(n)?this.propHooks.push(...n):typeof n=="function"?this.propHooks.push(n):Object.values(n).forEach(a=>{typeof a=="function"&&this.propHooks.push(a)})),i&&(this.attrHooks=Object.assign(Object.assign({},this.attrHooks),i)),this.defaults=Ee({},this.defaults,s)}static getMarkup(){return this.markup}static getDefaults(t){return t?this.defaults:Me(this.defaults)}static getAttrHooks(){return this.attrHooks}static applyPropHooks(t,e){return this.propHooks.reduce((n,i)=>i?xt(i,t,n):n,e)}get[Symbol.toStringTag](){return Gt.toStringTag}constructor(t={}){super();const n=this.constructor.getDefaults(!0),i=Ee({},this.preprocess(n),this.preprocess(t));this.id=i.id||Lv(),this.store=new gx(i),this.animation=new vh(this),this.setup(),this.init(),this.postprocess(t)}init(){}get model(){return this._model}set model(t){this._model!==t&&(this._model=t)}preprocess(t,e){const n=t.id,s=this.constructor.applyPropHooks(this,t);return n==null&&e!==!0&&(s.id=Lv()),s}postprocess(t){}setup(){this.store.on("change:*",t=>{const{key:e,current:n,previous:i,options:s}=t;this.notify("change:*",{key:e,options:s,current:n,previous:i,cell:this}),this.notify(`change:${e}`,{options:s,current:n,previous:i,cell:this});const a=e;(a==="source"||a==="target")&&this.notify("change:terminal",{type:a,current:n,previous:i,options:s,cell:this})}),this.store.on("changed",({options:t})=>this.notify("changed",{options:t,cell:this}))}notify(t,e){this.trigger(t,e);const n=this.model;return n&&(n.notify(`cell:${t}`,e),this.isNode()?n.notify(`node:${t}`,Object.assign(Object.assign({},e),{node:this})):this.isEdge()&&n.notify(`edge:${t}`,Object.assign(Object.assign({},e),{edge:this}))),this}isNode(){return!1}isEdge(){return!1}isSameStore(t){return this.store===t.store}get view(){return this.store.get("view")}get shape(){return this.store.get("shape","")}getProp(t,e){return t==null?this.store.get():this.store.get(t,e)}setProp(t,e,n){if(typeof t=="string")this.store.set(t,e,n);else{const i=this.preprocess(t,!0);this.store.set(Ee({},this.getProp(),i),e),this.postprocess(t)}return this}removeProp(t,e){return typeof t=="string"||Array.isArray(t)?this.store.removeByPath(t,e):this.store.remove(e),this}hasChanged(t){return t==null?this.store.hasChanged():this.store.hasChanged(t)}getPropByPath(t){return this.store.getByPath(t)}setPropByPath(t,e,n={}){return this.model&&(t==="children"?this._children=e?e.map(i=>this.model.getCell(i)).filter(i=>i!=null):null:t==="parent"&&(this._parent=e?this.model.getCell(e):null)),this.store.setByPath(t,e,n),this}removePropByPath(t,e={}){const n=Array.isArray(t)?t:t.split("/");return n[0]==="attrs"&&(e.dirty=!0),this.store.removeByPath(n,e),this}prop(t,e,n){return t==null?this.getProp():typeof t=="string"||Array.isArray(t)?arguments.length===1?this.getPropByPath(t):e==null?this.removePropByPath(t,n||{}):this.setPropByPath(t,e,n||{}):this.setProp(t,e||{})}previous(t){return this.store.getPrevious(t)}get zIndex(){return this.getZIndex()}set zIndex(t){t==null?this.removeZIndex():this.setZIndex(t)}getZIndex(){return this.store.get("zIndex")}setZIndex(t,e={}){return this.store.set("zIndex",t,e),this}removeZIndex(t={}){return this.store.remove("zIndex",t),this}toFront(t={}){const e=this.model;if(e){let n=e.getMaxZIndex(),i;t.deep?(i=this.getDescendants({deep:!0,breadthFirst:!0}),i.unshift(this)):i=[this],n=n-i.length+1;const s=e.total();let a=e.indexOf(this)!==s-i.length;a||(a=i.some((l,u)=>l.getZIndex()!==n+u)),a&&this.batchUpdate("to-front",()=>{n+=i.length,i.forEach((l,u)=>{l.setZIndex(n+u,t)})})}return this}toBack(t={}){const e=this.model;if(e){let n=e.getMinZIndex(),i;t.deep?(i=this.getDescendants({deep:!0,breadthFirst:!0}),i.unshift(this)):i=[this];let s=e.indexOf(this)!==0;s||(s=i.some((a,l)=>a.getZIndex()!==n+l)),s&&this.batchUpdate("to-back",()=>{n-=i.length,i.forEach((a,l)=>{a.setZIndex(n+l,t)})})}return this}get markup(){return this.getMarkup()}set markup(t){t==null?this.removeMarkup():this.setMarkup(t)}getMarkup(){let t=this.store.get("markup");return t==null&&(t=this.constructor.getMarkup()),t}setMarkup(t,e={}){return this.store.set("markup",t,e),this}removeMarkup(t={}){return this.store.remove("markup",t),this}get attrs(){return this.getAttrs()}set attrs(t){t==null?this.removeAttrs():this.setAttrs(t)}getAttrs(){const t=this.store.get("attrs");return t?Object.assign({},t):{}}setAttrs(t,e={}){if(t==null)this.removeAttrs(e);else{const n=i=>this.store.set("attrs",i,e);if(e.overwrite===!0)n(t);else{const i=this.getAttrs();e.deep===!1?n(Object.assign(Object.assign({},i),t)):n(Ee({},i,t))}}return this}replaceAttrs(t,e={}){return this.setAttrs(t,Object.assign(Object.assign({},e),{overwrite:!0}))}updateAttrs(t,e={}){return this.setAttrs(t,Object.assign(Object.assign({},e),{deep:!1}))}removeAttrs(t={}){return this.store.remove("attrs",t),this}getAttrDefinition(t){if(!t)return null;const n=this.constructor.getAttrHooks()||{};let i=n[t]||Di.registry.get(t);if(!i){const s=Xn(t);i=n[s]||Di.registry.get(s)}return i||null}getAttrByPath(t){return t==null||t===""?this.getAttrs():this.getPropByPath(this.prefixAttrPath(t))}setAttrByPath(t,e,n={}){return this.setPropByPath(this.prefixAttrPath(t),e,n),this}removeAttrByPath(t,e={}){return this.removePropByPath(this.prefixAttrPath(t),e),this}prefixAttrPath(t){return Array.isArray(t)?["attrs"].concat(t):`attrs/${t}`}attr(t,e,n){return t==null?this.getAttrByPath():typeof t=="string"||Array.isArray(t)?arguments.length===1?this.getAttrByPath(t):e==null?this.removeAttrByPath(t,n||{}):this.setAttrByPath(t,e,n||{}):this.setAttrs(t,e||{})}get visible(){return this.isVisible()}set visible(t){this.setVisible(t)}setVisible(t,e={}){return this.store.set("visible",t,e),this}isVisible(){return this.store.get("visible")!==!1}show(t={}){return this.isVisible()||this.setVisible(!0,t),this}hide(t={}){return this.isVisible()&&this.setVisible(!1,t),this}toggleVisible(t,e={}){const n=typeof t=="boolean"?t:!this.isVisible(),i=typeof t=="boolean"?e:t;return n?this.show(i):this.hide(i),this}get data(){return this.getData()}set data(t){this.setData(t)}getData(){return this.store.get("data")}setData(t,e={}){if(t==null)this.removeData(e);else{const n=i=>this.store.set("data",i,e);if(e.overwrite===!0)n(t);else{const i=this.getData();e.deep===!1?n(typeof t=="object"?Object.assign(Object.assign({},i),t):t):n(Ee({},i,t))}}return this}replaceData(t,e={}){return this.setData(t,Object.assign(Object.assign({},e),{overwrite:!0}))}updateData(t,e={}){return this.setData(t,Object.assign(Object.assign({},e),{deep:!1}))}removeData(t={}){return this.store.remove("data",t),this}get parent(){return this.getParent()}get children(){return this.getChildren()}getParentId(){return this.store.get("parent")}getParent(){const t=this.getParentId();if(t&&this.model){const e=this.model.getCell(t);return this._parent=e,e}return null}getChildren(){const t=this.store.get("children");if(t&&t.length&&this.model){const e=t.map(n=>{var i;return(i=this.model)===null||i===void 0?void 0:i.getCell(n)}).filter(n=>n!=null);return this._children=e,[...e]}return null}hasParent(){return this.parent!=null}isParentOf(t){return t!=null&&t.getParent()===this}isChildOf(t){return t!=null&&this.getParent()===t}eachChild(t,e){return this.children&&this.children.forEach(t,e),this}filterChild(t,e){return this.children?this.children.filter(t,e):[]}getChildCount(){return this.children==null?0:this.children.length}getChildIndex(t){return this.children==null?-1:this.children.indexOf(t)}getChildAt(t){return this.children!=null&&t>=0?this.children[t]:null}getAncestors(t={}){const e=[];let n=this.getParent();for(;n;)e.push(n),n=t.deep!==!1?n.getParent():null;return e}getDescendants(t={}){if(t.deep!==!1){if(t.breadthFirst){const e=[],n=this.getChildren()||[];for(;n.length>0;){const i=n.shift(),s=i.getChildren();e.push(i),s&&n.push(...s)}return e}{const e=this.getChildren()||[];return e.forEach(n=>{e.push(...n.getDescendants(t))}),e}}return this.getChildren()||[]}isDescendantOf(t,e={}){if(t==null)return!1;if(e.deep!==!1){let n=this.getParent();for(;n;){if(n===t)return!0;n=n.getParent()}return!1}return this.isChildOf(t)}isAncestorOf(t,e={}){return t==null?!1:t.isDescendantOf(this,e)}contains(t){return this.isAncestorOf(t)}getCommonAncestor(...t){return Gt.getCommonAncestor(this,...t)}setParent(t,e={}){return this._parent=t,t?this.store.set("parent",t.id,e):this.store.remove("parent",e),this}setChildren(t,e={}){return this._children=t,t!=null?this.store.set("children",t.map(n=>n.id),e):this.store.remove("children",e),this}unembed(t,e={}){const n=this.children;if(n!=null&&t!=null){const i=this.getChildIndex(t);i!==-1&&(n.splice(i,1),t.setParent(null,e),this.setChildren(n,e))}return this}embed(t,e={}){return t.addTo(this,e),this}addTo(t,e={}){return Gt.isCell(t)?t.addChild(this,e):t.addCell(this,e),this}insertTo(t,e,n={}){return t.insertChild(this,e,n),this}addChild(t,e={}){return this.insertChild(t,void 0,e)}insertChild(t,e,n={}){if(t!=null&&t!==this){const i=t.getParent(),s=this!==i;let a=e;if(a==null&&(a=this.getChildCount(),s||(a-=1)),i){const u=i.getChildren();if(u){const h=u.indexOf(t);h>=0&&(t.setParent(null,n),u.splice(h,1),i.setChildren(u,n))}}let l=this.children;if(l==null?(l=[],l.push(t)):l.splice(a,0,t),t.setParent(this,n),this.setChildren(l,n),s&&this.model){const u=this.model.getIncomingEdges(this),h=this.model.getOutgoingEdges(this);u&&u.forEach(d=>d.updateParent(n)),h&&h.forEach(d=>d.updateParent(n))}this.model&&this.model.addCell(t,n)}return this}removeFromParent(t={}){const e=this.getParent();if(e!=null){const n=e.getChildIndex(this);e.removeChildAt(n,t)}return this}removeChild(t,e={}){const n=this.getChildIndex(t);return this.removeChildAt(n,e)}removeChildAt(t,e={}){const n=this.getChildAt(t);return this.children!=null&&n!=null&&(this.unembed(n,e),n.remove(e)),n}remove(t={}){return this.batchUpdate("remove",()=>{const e=this.getParent();e&&e.removeChild(this,t),t.deep!==!1&&this.eachChild(n=>n.remove(t)),this.model&&this.model.removeCell(this,t)}),this}transition(t,e,n={},i="/"){return this.animation.start(t,e,n,i)}stopTransition(t,e,n="/"){return this.animation.stop(t,e,n),this}getTransitions(){return this.animation.get()}translate(t,e,n){return this}scale(t,e,n,i){return this}addTools(t,e,n){const i=Array.isArray(t)?t:[t],s=typeof e=="string"?e:null,a=typeof e=="object"?e:typeof n=="object"?n:{};if(a.reset)return this.setTools({name:s,items:i,local:a.local},a);let l=Me(this.getTools());if(l==null||s==null||l.name===s)return l==null&&(l={}),l.items||(l.items=[]),l.name=s,l.items=[...l.items,...i],this.setTools(Object.assign({},l),a)}setTools(t,e={}){return t==null?this.removeTools():this.store.set("tools",Gt.normalizeTools(t),e),this}getTools(){return this.store.get("tools")}removeTools(t={}){return this.store.remove("tools",t),this}hasTools(t){const e=this.getTools();return e==null?!1:t==null?!0:e.name===t}hasTool(t){const e=this.getTools();return e==null?!1:e.items.some(n=>typeof n=="string"?n===t:n.name===t)}removeTool(t,e={}){const n=Me(this.getTools());if(n){let i=!1;const s=n.items.slice(),a=l=>{s.splice(l,1),i=!0};if(typeof t=="number")a(t);else for(let l=s.length-1;l>=0;l-=1){const u=s[l];(typeof u=="string"?u===t:u.name===t)&&a(l)}i&&(n.items=s,this.setTools(n,e))}return this}getBBox(t){return new st}getConnectionPoint(t,e){return new B}toJSON(t={}){const e=Object.assign({},this.store.get()),n=Object.prototype.toString,i=this.isNode()?"node":this.isEdge()?"edge":"cell";if(!e.shape){const x=this.constructor;throw new Error(`Unable to serialize ${i} missing "shape" prop, check the ${i} "${x.name||n.call(x)}"`)}const s=this.constructor,a=t.diff===!0,l=e.attrs||{},u=s.getDefaults(!0),h=a?this.preprocess(u,!0):u,d=h.attrs||{},g={};Object.entries(e).forEach(([x,C])=>{if(C!=null&&!Array.isArray(C)&&typeof C=="object"&&!Or(C))throw new Error(`Can only serialize ${i} with plain-object props, but got a "${n.call(C)}" type of key "${x}" on ${i} "${this.id}"`);if(x!=="attrs"&&x!=="shape"&&a){const O=h[x];ei(C,O)&&delete e[x]}}),Object.keys(l).forEach(x=>{const C=l[x],O=d[x];Object.keys(C).forEach(R=>{const L=C[R],M=O?O[R]:null;L!=null&&typeof L=="object"&&!Array.isArray(L)?Object.keys(L).forEach(k=>{const z=L[k];if(O==null||M==null||!wt(M)||!ei(M[k],z)){g[x]==null&&(g[x]={}),g[x][R]==null&&(g[x][R]={});const H=g[x][R];H[k]=z}}):(O==null||!ei(M,L))&&(g[x]==null&&(g[x]={}),g[x][R]=L)})});const p=Object.assign(Object.assign({},e),{attrs:mf(g)?void 0:g});p.attrs==null&&delete p.attrs;const m=p;return m.angle===0&&delete m.angle,Me(m)}clone(t={}){if(!t.deep){const n=Object.assign({},this.store.get());t.keepId||delete n.id,delete n.parent,delete n.children;const i=this.constructor;return new i(n)}return Gt.deepClone(this)[this.id]}findView(t){return t.findViewByCell(this)}startBatch(t,e={},n=this.model){return this.notify("batch:start",{name:t,data:e,cell:this}),n&&n.startBatch(t,Object.assign(Object.assign({},e),{cell:this})),this}stopBatch(t,e={},n=this.model){return n&&n.stopBatch(t,Object.assign(Object.assign({},e),{cell:this})),this.notify("batch:stop",{name:t,data:e,cell:this}),this}batchUpdate(t,e,n){const i=this.model;this.startBatch(t,n,i);const s=e();return this.stopBatch(t,n,i),s}dispose(){this.removeFromParent(),this.store.dispose()}}Gt.defaults={},Gt.attrHooks={},Gt.propHooks=[],jA([ar.dispose()],Gt.prototype,"dispose",null),function(r){function t(e){return typeof e=="string"?{items:[e]}:Array.isArray(e)?{items:e}:e.items?e:{items:[e]}}r.normalizeTools=t}(Gt||(Gt={})),function(r){r.toStringTag=`X6.${r.name}`;function t(e){if(e==null)return!1;if(e instanceof r)return!0;const n=e[Symbol.toStringTag],i=e;return(n==null||n===r.toStringTag)&&typeof i.isNode=="function"&&typeof i.isEdge=="function"&&typeof i.prop=="function"&&typeof i.attr=="function"}r.isCell=t}(Gt||(Gt={})),function(r){function t(...s){const a=s.filter(u=>u!=null).map(u=>u.getAncestors()).sort((u,h)=>u.length-h.length);return a.shift().find(u=>a.every(h=>h.includes(u)))||null}r.getCommonAncestor=t;function e(s,a={}){let l=null;for(let u=0,h=s.length;u<h;u+=1){const d=s[u];let g=d.getBBox(a);if(g){if(d.isNode()){const p=d.getAngle();p!=null&&p!==0&&(g=g.bbox(p))}l=l==null?g:l.union(g)}}return l}r.getCellsBBox=e;function n(s){const a=[s,...s.getDescendants({deep:!0})];return r.cloneCells(a)}r.deepClone=n;function i(s){const a=Ru(s),l=a.reduce((u,h)=>(u[h.id]=h.clone(),u),{});return a.forEach(u=>{const h=l[u.id];if(h.isEdge()){const p=h.getSourceCellId(),m=h.getTargetCellId();p&&l[p]&&h.setSource(Object.assign(Object.assign({},h.getSource()),{cell:l[p].id})),m&&l[m]&&h.setTarget(Object.assign(Object.assign({},h.getTarget()),{cell:l[m].id}))}const d=u.getParent();d&&l[d.id]&&h.setParent(l[d.id]);const g=u.getChildren();if(g&&g.length){const p=g.reduce((m,x)=>(l[x.id]&&m.push(l[x.id]),m),[]);p.length>0&&h.setChildren(p)}}),l}r.cloneCells=i}(Gt||(Gt={})),function(r){r.config({propHooks(t){var{tools:e}=t,n=px(t,["tools"]);return e&&(n.tools=r.normalizeTools(e)),n}})}(Gt||(Gt={}));var ql;(function(r){let t,e;function n(a,l){return l?t!=null&&t.exist(a):e!=null&&e.exist(a)}r.exist=n;function i(a){t=a}r.setEdgeRegistry=i;function s(a){e=a}r.setNodeRegistry=s})(ql||(ql={}));class FA{constructor(t){this.ports=[],this.groups={},this.init(Me(t))}getPorts(){return this.ports}getGroup(t){return t!=null?this.groups[t]:null}getPortsByGroup(t){return this.ports.filter(e=>e.group===t||e.group==null&&t==null)}getPortsLayoutByGroup(t,e){const n=this.getPortsByGroup(t),i=t?this.getGroup(t):null,s=i?i.position:null,a=s?s.name:null;let l;if(a!=null){const g=ua.registry.get(a);if(g==null)return ua.registry.onNotFound(a);l=g}else l=ua.presets.left;const u=n.map(g=>g&&g.position&&g.position.args||{}),h=s&&s.args||{};return l(u,e,h).map((g,p)=>{const m=n[p];return{portLayout:g,portId:m.id,portSize:m.size,portAttrs:m.attrs,labelSize:m.label.size,labelLayout:this.getPortLabelLayout(m,B.create(g.position),e)}})}init(t){const{groups:e,items:n}=t;e!=null&&Object.keys(e).forEach(i=>{this.groups[i]=this.parseGroup(e[i])}),Array.isArray(n)&&n.forEach(i=>{this.ports.push(this.parsePort(i))})}parseGroup(t){return Object.assign(Object.assign({},t),{label:this.getLabel(t,!0),position:this.getPortPosition(t.position,!0)})}parsePort(t){const e=Object.assign({},t),n=this.getGroup(t.group)||{};return e.markup=e.markup||n.markup,e.attrs=Ee({},n.attrs,e.attrs),e.position=this.createPosition(n,e),e.label=Ee({},n.label,this.getLabel(e)),e.zIndex=this.getZIndex(n,e),e.size=Object.assign(Object.assign({},n.size),e.size),e}getZIndex(t,e){return typeof e.zIndex=="number"?e.zIndex:typeof t.zIndex=="number"||t.zIndex==="auto"?t.zIndex:"auto"}createPosition(t,e){return Ee({name:"left",args:{}},t.position,{args:e.args})}getPortPosition(t,e=!1){if(t==null){if(e)return{name:"left",args:{}}}else{if(typeof t=="string")return{name:t,args:{}};if(Array.isArray(t))return{name:"absolute",args:{x:t[0],y:t[1]}};if(typeof t=="object")return t}return{args:{}}}getPortLabelPosition(t,e=!1){if(t==null){if(e)return{name:"left",args:{}}}else{if(typeof t=="string")return{name:t,args:{}};if(typeof t=="object")return t}return{args:{}}}getLabel(t,e=!1){const n=t.label||{};return n.position=this.getPortLabelPosition(n.position,e),n}getPortLabelLayout(t,e,n){const i=t.label.position.name||"left",s=t.label.position.args||{},a=Fl.registry.get(i)||Fl.presets.left;return a?a(e,n,s):null}}var fg=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e};class Ke extends Gt{get[Symbol.toStringTag](){return Ke.toStringTag}constructor(t={}){super(t),this.initPorts()}preprocess(t,e){const{x:n,y:i,width:s,height:a}=t,l=fg(t,["x","y","width","height"]);if(n!=null||i!=null){const u=l.position;l.position=Object.assign(Object.assign({},u),{x:n!=null?n:u?u.x:0,y:i!=null?i:u?u.y:0})}if(s!=null||a!=null){const u=l.size;l.size=Object.assign(Object.assign({},u),{width:s!=null?s:u?u.width:0,height:a!=null?a:u?u.height:0})}return super.preprocess(l,e)}isNode(){return!0}size(t,e,n){return t===void 0?this.getSize():typeof t=="number"?this.setSize(t,e,n):this.setSize(t,e)}getSize(){const t=this.store.get("size");return t?Object.assign({},t):{width:1,height:1}}setSize(t,e,n){return typeof t=="object"?this.resize(t.width,t.height,e):this.resize(t,e,n),this}resize(t,e,n={}){this.startBatch("resize",n);const i=n.direction;if(i){const s=this.getSize();switch(i){case"left":case"right":e=s.height;break;case"top":case"bottom":t=s.width;break;default:break}let l={right:0,"top-right":0,top:1,"top-left":1,left:2,"bottom-left":2,bottom:3,"bottom-right":3}[i];const u=we.normalize(this.getAngle()||0);n.absolute&&(l+=Math.floor((u+45)/90),l%=4);const h=this.getBBox();let d;l===0?d=h.getBottomLeft():l===1?d=h.getCorner():l===2?d=h.getTopRight():d=h.getOrigin();const g=d.clone().rotate(-u,h.getCenter()),p=Math.sqrt(t*t+e*e)/2;let m=l*Math.PI/2;m+=Math.atan(l%2===0?e/t:t/e),m-=we.toRad(u);const C=B.fromPolar(p,m,g).clone().translate(t/-2,e/-2);this.store.set("size",{width:t,height:e},n),this.setPosition(C.x,C.y,n)}else this.store.set("size",{width:t,height:e},n);return this.stopBatch("resize",n),this}scale(t,e,n,i={}){const s=this.getBBox().scale(t,e,n==null?void 0:n);return this.startBatch("scale",i),this.setPosition(s.x,s.y,i),this.resize(s.width,s.height,i),this.stopBatch("scale"),this}position(t,e,n){return typeof t=="number"?this.setPosition(t,e,n):this.getPosition(t)}getPosition(t={}){if(t.relative){const n=this.getParent();if(n!=null&&n.isNode()){const i=this.getPosition(),s=n.getPosition();return{x:i.x-s.x,y:i.y-s.y}}}const e=this.store.get("position");return e?Object.assign({},e):{x:0,y:0}}setPosition(t,e,n={}){let i,s,a;if(typeof t=="object"?(i=t.x,s=t.y,a=e||{}):(i=t,s=e,a=n||{}),a.relative){const l=this.getParent();if(l!=null&&l.isNode()){const u=l.getPosition();i+=u.x,s+=u.y}}if(a.deep){const l=this.getPosition();this.translate(i-l.x,s-l.y,a)}else this.store.set("position",{x:i,y:s},a);return this}translate(t=0,e=0,n={}){if(t===0&&e===0)return this;n.translateBy=n.translateBy||this.id;const i=this.getPosition();if(n.restrict!=null&&n.translateBy===this.id){const a=this.getBBox({deep:!0}),l=n.restrict,u=i.x-a.x,h=i.y-a.y,d=Math.max(l.x+u,Math.min(l.x+l.width+u-a.width,i.x+t)),g=Math.max(l.y+h,Math.min(l.y+l.height+h-a.height,i.y+e));t=d-i.x,e=g-i.y}const s={x:i.x+t,y:i.y+e};return n.tx=t,n.ty=e,n.transition?(typeof n.transition!="object"&&(n.transition={}),this.transition("position",s,Object.assign(Object.assign({},n.transition),{interp:la.object})),this.eachChild(a=>{var l;((l=n.exclude)===null||l===void 0?void 0:l.includes(a))||a.translate(t,e,n)})):(this.startBatch("translate",n),this.store.set("position",s,n),this.eachChild(a=>{var l;((l=n.exclude)===null||l===void 0?void 0:l.includes(a))||a.translate(t,e,n)}),this.stopBatch("translate",n)),this}angle(t,e){return t==null?this.getAngle():this.rotate(t,e)}getAngle(){return this.store.get("angle",0)}rotate(t,e={}){const n=this.getAngle();if(e.center){const i=this.getSize(),s=this.getPosition(),a=this.getBBox().getCenter();a.rotate(n-t,e.center);const l=a.x-i.width/2-s.x,u=a.y-i.height/2-s.y;this.startBatch("rotate",{angle:t,options:e}),this.setPosition(s.x+l,s.y+u,e),this.rotate(t,Object.assign(Object.assign({},e),{center:null})),this.stopBatch("rotate")}else this.store.set("angle",e.absolute?t:(n+t)%360,e);return this}getBBox(t={}){if(t.deep){const e=this.getDescendants({deep:!0,breadthFirst:!0});return e.push(this),Gt.getCellsBBox(e)}return st.fromPositionAndSize(this.getPosition(),this.getSize())}getConnectionPoint(t,e){const n=this.getBBox(),i=n.getCenter(),s=t.getTerminal(e);if(s==null)return i;const a=s.port;if(!a||!this.hasPort(a))return i;const l=this.getPort(a);if(!l||!l.group)return i;const h=this.getPortsPosition(l.group)[a].position,d=B.create(h).translate(n.getOrigin()),g=this.getAngle();return g&&d.rotate(-g,i),d}fit(t={}){const n=(this.getChildren()||[]).filter(h=>h.isNode());if(n.length===0)return this;this.startBatch("fit-embeds",t),t.deep&&n.forEach(h=>h.fit(t));let{x:i,y:s,width:a,height:l}=Gt.getCellsBBox(n);const u=ra(t.padding);return i-=u.left,s-=u.top,a+=u.left+u.right,l+=u.bottom+u.top,this.store.set({position:{x:i,y:s},size:{width:a,height:l}},t),this.stopBatch("fit-embeds"),this}get portContainerMarkup(){return this.getPortContainerMarkup()}set portContainerMarkup(t){this.setPortContainerMarkup(t)}getDefaultPortContainerMarkup(){return this.store.get("defaultPortContainerMarkup")||Oe.getPortContainerMarkup()}getPortContainerMarkup(){return this.store.get("portContainerMarkup")||this.getDefaultPortContainerMarkup()}setPortContainerMarkup(t,e={}){return this.store.set("portContainerMarkup",Oe.clone(t),e),this}get portMarkup(){return this.getPortMarkup()}set portMarkup(t){this.setPortMarkup(t)}getDefaultPortMarkup(){return this.store.get("defaultPortMarkup")||Oe.getPortMarkup()}getPortMarkup(){return this.store.get("portMarkup")||this.getDefaultPortMarkup()}setPortMarkup(t,e={}){return this.store.set("portMarkup",Oe.clone(t),e),this}get portLabelMarkup(){return this.getPortLabelMarkup()}set portLabelMarkup(t){this.setPortLabelMarkup(t)}getDefaultPortLabelMarkup(){return this.store.get("defaultPortLabelMarkup")||Oe.getPortLabelMarkup()}getPortLabelMarkup(){return this.store.get("portLabelMarkup")||this.getDefaultPortLabelMarkup()}setPortLabelMarkup(t,e={}){return this.store.set("portLabelMarkup",Oe.clone(t),e),this}get ports(){const t=this.store.get("ports",{items:[]});return t.items==null&&(t.items=[]),t}getPorts(){return Me(this.ports.items)}getPortsByGroup(t){return this.getPorts().filter(e=>e.group===t)}getPort(t){return Me(this.ports.items.find(e=>e.id&&e.id===t))}getPortAt(t){return this.ports.items[t]||null}hasPorts(){return this.ports.items.length>0}hasPort(t){return this.getPortIndex(t)!==-1}getPortIndex(t){const e=typeof t=="string"?t:t.id;return e!=null?this.ports.items.findIndex(n=>n.id===e):-1}getPortsPosition(t){const e=this.getSize();return this.port.getPortsLayoutByGroup(t,new st(0,0,e.width,e.height)).reduce((i,s)=>{const a=s.portLayout;return i[s.portId]={position:Object.assign({},a.position),angle:a.angle||0},i},{})}getPortProp(t,e){return this.getPropByPath(this.prefixPortPath(t,e))}setPortProp(t,e,n,i){if(typeof e=="string"||Array.isArray(e)){const l=this.prefixPortPath(t,e),u=n;return this.setPropByPath(l,u,i)}const s=this.prefixPortPath(t),a=e;return this.setPropByPath(s,a,n)}removePortProp(t,e,n){return typeof e=="string"||Array.isArray(e)?this.removePropByPath(this.prefixPortPath(t,e),n):this.removePropByPath(this.prefixPortPath(t),e)}portProp(t,e,n,i){return e==null?this.getPortProp(t):typeof e=="string"||Array.isArray(e)?arguments.length===2?this.getPortProp(t,e):n==null?this.removePortProp(t,e,i):this.setPortProp(t,e,n,i):this.setPortProp(t,e,n)}prefixPortPath(t,e){const n=this.getPortIndex(t);if(n===-1)throw new Error(`Unable to find port with id: "${t}"`);return e==null||e===""?["ports","items",`${n}`]:Array.isArray(e)?["ports","items",`${n}`,...e]:`ports/items/${n}/${e}`}addPort(t,e){const n=[...this.ports.items];return n.push(t),this.setPropByPath("ports/items",n,e),this}addPorts(t,e){return this.setPropByPath("ports/items",[...this.ports.items,...t],e),this}insertPort(t,e,n){const i=[...this.ports.items];return i.splice(t,0,e),this.setPropByPath("ports/items",i,n),this}removePort(t,e={}){return this.removePortAt(this.getPortIndex(t),e)}removePortAt(t,e={}){if(t>=0){const n=[...this.ports.items];n.splice(t,1),e.rewrite=!0,this.setPropByPath("ports/items",n,e)}return this}removePorts(t,e){let n;if(Array.isArray(t)){if(n=e||{},t.length){n.rewrite=!0;const s=[...this.ports.items].filter(a=>!t.some(l=>{const u=typeof l=="string"?l:l.id;return a.id===u}));this.setPropByPath("ports/items",s,n)}}else n=t||{},n.rewrite=!0,this.setPropByPath("ports/items",[],n);return this}getParsedPorts(){return this.port.getPorts()}getParsedGroups(){return this.port.groups}getPortsLayoutByGroup(t,e){return this.port.getPortsLayoutByGroup(t,e)}initPorts(){this.updatePortData(),this.on("change:ports",()=>{this.processRemovedPort(),this.updatePortData()})}processRemovedPort(){const t=this.ports,e={};t.items.forEach(a=>{a.id&&(e[a.id]=!0)});const n={};(this.store.getPrevious("ports")||{items:[]}).items.forEach(a=>{a.id&&!e[a.id]&&(n[a.id]=!0)});const s=this.model;s&&!mf(n)&&(s.getConnectedEdges(this,{incoming:!0}).forEach(u=>{const h=u.getTargetPortId();h&&n[h]&&u.remove()}),s.getConnectedEdges(this,{outgoing:!0}).forEach(u=>{const h=u.getSourcePortId();h&&n[h]&&u.remove()}))}validatePorts(){const t={},e=[];return this.ports.items.forEach(n=>{typeof n!="object"&&e.push(`Invalid port ${n}.`),n.id==null&&(n.id=this.generatePortId()),t[n.id]&&e.push("Duplicitied port id."),t[n.id]=!0}),e}generatePortId(){return Lv()}updatePortData(){const t=this.validatePorts();if(t.length>0)throw this.store.set("ports",this.store.getPrevious("ports")),new Error(t.join(" "));const e=this.port?this.port.getPorts():null;this.port=new FA(this.ports);const n=this.port.getPorts(),i=e?n.filter(a=>e.find(l=>l.id===a.id)?null:a):[...n],s=e?e.filter(a=>n.find(l=>l.id===a.id)?null:a):[];i.length>0&&this.notify("ports:added",{added:i,cell:this,node:this}),s.length>0&&this.notify("ports:removed",{removed:s,cell:this,node:this})}}Ke.defaults={angle:0,position:{x:0,y:0},size:{width:1,height:1}},function(r){r.toStringTag=`X6.${r.name}`;function t(e){if(e==null)return!1;if(e instanceof r)return!0;const n=e[Symbol.toStringTag],i=e;return(n==null||n===r.toStringTag)&&typeof i.isNode=="function"&&typeof i.isEdge=="function"&&typeof i.prop=="function"&&typeof i.attr=="function"&&typeof i.size=="function"&&typeof i.position=="function"}r.isNode=t}(Ke||(Ke={})),function(r){r.config({propHooks(t){var{ports:e}=t,n=fg(t,["ports"]);return e&&(n.ports=Array.isArray(e)?{items:e}:e),n}})}(Ke||(Ke={})),function(r){r.registry=Ye.create({type:"node",process(t,e){if(ql.exist(t,!0))throw new Error(`Node with name '${t}' was registered by anthor Edge`);if(typeof e=="function")return e.config({shape:t}),e;let n=r;const{inherit:i}=e,s=fg(e,["inherit"]);if(i)if(typeof i=="string"){const l=this.get(i);l==null?this.onNotFound(i,"inherited"):n=l}else n=i;s.constructorName==null&&(s.constructorName=t);const a=n.define.call(n,s);return a.config({shape:t}),a}}),ql.setNodeRegistry(r.registry)}(Ke||(Ke={})),function(r){let t=0;function e(s){return s?Rv(s):(t+=1,`CustomNode${t}`)}function n(s){const{constructorName:a,overwrite:l}=s,u=fg(s,["constructorName","overwrite"]),h=_u(e(a||u.shape),this);return h.config(u),u.shape&&r.registry.register(u.shape,h,l),h}r.define=n;function i(s){const a=s.shape||"rect",l=r.registry.get(a);return l?new l(s):r.registry.onNotFound(a)}r.create=i}(Ke||(Ke={}));var dg=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e};class Ie extends Gt{get[Symbol.toStringTag](){return Ie.toStringTag}constructor(t={}){super(t)}preprocess(t,e){const{source:n,sourceCell:i,sourcePort:s,sourcePoint:a,target:l,targetCell:u,targetPort:h,targetPoint:d}=t,p=dg(t,["source","sourceCell","sourcePort","sourcePoint","target","targetCell","targetPort","targetPoint"]),m=x=>typeof x=="string"||typeof x=="number";if(n!=null)if(Gt.isCell(n))p.source={cell:n.id};else if(m(n))p.source={cell:n};else if(B.isPoint(n))p.source=n.toJSON();else if(Array.isArray(n))p.source={x:n[0],y:n[1]};else{const x=n.cell;Gt.isCell(x)?p.source=Object.assign(Object.assign({},n),{cell:x.id}):p.source=n}if(i!=null||s!=null){let x=p.source;if(i!=null){const C=m(i)?i:i.id;x?x.cell=C:x=p.source={cell:C}}s!=null&&x&&(x.port=s)}else a!=null&&(p.source=B.create(a).toJSON());if(l!=null)if(Gt.isCell(l))p.target={cell:l.id};else if(m(l))p.target={cell:l};else if(B.isPoint(l))p.target=l.toJSON();else if(Array.isArray(l))p.target={x:l[0],y:l[1]};else{const x=l.cell;Gt.isCell(x)?p.target=Object.assign(Object.assign({},l),{cell:x.id}):p.target=l}if(u!=null||h!=null){let x=p.target;if(u!=null){const C=m(u)?u:u.id;x?x.cell=C:x=p.target={cell:C}}h!=null&&x&&(x.port=h)}else d!=null&&(p.target=B.create(d).toJSON());return super.preprocess(p,e)}setup(){super.setup(),this.on("change:labels",t=>this.onLabelsChanged(t)),this.on("change:vertices",t=>this.onVertexsChanged(t))}isEdge(){return!0}disconnect(t={}){return this.store.set({source:{x:0,y:0},target:{x:0,y:0}},t),this}get source(){return this.getSource()}set source(t){this.setSource(t)}getSource(){return this.getTerminal("source")}getSourceCellId(){return this.source.cell}getSourcePortId(){return this.source.port}setSource(t,e,n={}){return this.setTerminal("source",t,e,n)}get target(){return this.getTarget()}set target(t){this.setTarget(t)}getTarget(){return this.getTerminal("target")}getTargetCellId(){return this.target.cell}getTargetPortId(){return this.target.port}setTarget(t,e,n={}){return this.setTerminal("target",t,e,n)}getTerminal(t){return Object.assign({},this.store.get(t))}setTerminal(t,e,n,i={}){if(Gt.isCell(e))return this.store.set(t,Ee({},n,{cell:e.id}),i),this;const s=e;return B.isPoint(e)||s.x!=null&&s.y!=null?(this.store.set(t,Ee({},n,{x:s.x,y:s.y}),i),this):(this.store.set(t,Me(e),i),this)}getSourcePoint(){return this.getTerminalPoint("source")}getTargetPoint(){return this.getTerminalPoint("target")}getTerminalPoint(t){const e=this[t];if(B.isPointLike(e))return B.create(e);const n=this.getTerminalCell(t);return n?n.getConnectionPoint(this,t):new B}getSourceCell(){return this.getTerminalCell("source")}getTargetCell(){return this.getTerminalCell("target")}getTerminalCell(t){if(this.model){const e=t==="source"?this.getSourceCellId():this.getTargetCellId();if(e)return this.model.getCell(e)}return null}getSourceNode(){return this.getTerminalNode("source")}getTargetNode(){return this.getTerminalNode("target")}getTerminalNode(t){let e=this;const n={};for(;e&&e.isEdge();){if(n[e.id])return null;n[e.id]=!0,e=e.getTerminalCell(t)}return e&&e.isNode()?e:null}get router(){return this.getRouter()}set router(t){t==null?this.removeRouter():this.setRouter(t)}getRouter(){return this.store.get("router")}setRouter(t,e,n){return typeof t=="object"?this.store.set("router",t,e):this.store.set("router",{name:t,args:e},n),this}removeRouter(t={}){return this.store.remove("router",t),this}get connector(){return this.getConnector()}set connector(t){t==null?this.removeConnector():this.setConnector(t)}getConnector(){return this.store.get("connector")}setConnector(t,e,n){return typeof t=="object"?this.store.set("connector",t,e):this.store.set("connector",{name:t,args:e},n),this}removeConnector(t={}){return this.store.remove("connector",t)}getDefaultLabel(){const t=this.constructor,e=this.store.get("defaultLabel")||t.defaultLabel||{};return Me(e)}get labels(){return this.getLabels()}set labels(t){this.setLabels(t)}getLabels(){return[...this.store.get("labels",[])].map(t=>this.parseLabel(t))}setLabels(t,e={}){return this.store.set("labels",Array.isArray(t)?t:[t],e),this}insertLabel(t,e,n={}){const i=this.getLabels(),s=i.length;let a=e!=null&&Number.isFinite(e)?e:s;return a<0&&(a=s+a+1),i.splice(a,0,this.parseLabel(t)),this.setLabels(i,n)}appendLabel(t,e={}){return this.insertLabel(t,-1,e)}getLabelAt(t){const e=this.getLabels();return t!=null&&Number.isFinite(t)?this.parseLabel(e[t]):null}setLabelAt(t,e,n={}){if(t!=null&&Number.isFinite(t)){const i=this.getLabels();i[t]=this.parseLabel(e),this.setLabels(i,n)}return this}removeLabelAt(t,e={}){const n=this.getLabels(),i=t!=null&&Number.isFinite(t)?t:-1,s=n.splice(i,1);return this.setLabels(n,e),s.length?s[0]:null}parseLabel(t){return typeof t=="string"?this.constructor.parseStringLabel(t):t}onLabelsChanged({previous:t,current:e}){const n=t&&e?e.filter(s=>t.find(a=>s===a||ei(s,a))?null:s):e?[...e]:[],i=t&&e?t.filter(s=>e.find(a=>s===a||ei(s,a))?null:s):t?[...t]:[];n.length>0&&this.notify("labels:added",{added:n,cell:this,edge:this}),i.length>0&&this.notify("labels:removed",{removed:i,cell:this,edge:this})}get vertices(){return this.getVertices()}set vertices(t){this.setVertices(t)}getVertices(){return[...this.store.get("vertices",[])]}setVertices(t,e={}){const n=Array.isArray(t)?t:[t];return this.store.set("vertices",n.map(i=>B.toJSON(i)),e),this}insertVertex(t,e,n={}){const i=this.getVertices(),s=i.length;let a=e!=null&&Number.isFinite(e)?e:s;return a<0&&(a=s+a+1),i.splice(a,0,B.toJSON(t)),this.setVertices(i,n)}appendVertex(t,e={}){return this.insertVertex(t,-1,e)}getVertexAt(t){return t!=null&&Number.isFinite(t)?this.getVertices()[t]:null}setVertexAt(t,e,n={}){if(t!=null&&Number.isFinite(t)){const i=this.getVertices();i[t]=e,this.setVertices(i,n)}return this}removeVertexAt(t,e={}){const n=this.getVertices(),i=t!=null&&Number.isFinite(t)?t:-1;return n.splice(i,1),this.setVertices(n,e)}onVertexsChanged({previous:t,current:e}){const n=t&&e?e.filter(s=>t.find(a=>B.equals(s,a))?null:s):e?[...e]:[],i=t&&e?t.filter(s=>e.find(a=>B.equals(s,a))?null:s):t?[...t]:[];n.length>0&&this.notify("vertexs:added",{added:n,cell:this,edge:this}),i.length>0&&this.notify("vertexs:removed",{removed:i,cell:this,edge:this})}getDefaultMarkup(){return this.store.get("defaultMarkup")||Oe.getEdgeMarkup()}getMarkup(){return super.getMarkup()||this.getDefaultMarkup()}translate(t,e,n={}){return n.translateBy=n.translateBy||this.id,n.tx=t,n.ty=e,this.applyToPoints(i=>({x:(i.x||0)+t,y:(i.y||0)+e}),n)}scale(t,e,n,i={}){return this.applyToPoints(s=>B.create(s).scale(t,e,n).toJSON(),i)}applyToPoints(t,e={}){const n={},i=this.getSource(),s=this.getTarget();B.isPointLike(i)&&(n.source=t(i)),B.isPointLike(s)&&(n.target=t(s));const a=this.getVertices();return a.length>0&&(n.vertices=a.map(t)),this.store.set(n,e),this}getBBox(){return this.getPolyline().bbox()}getConnectionPoint(){return this.getPolyline().pointAt(.5)}getPolyline(){const t=[this.getSourcePoint(),...this.getVertices().map(e=>B.create(e)),this.getTargetPoint()];return new Xe(t)}updateParent(t){let e=null;const n=this.getSourceCell(),i=this.getTargetCell(),s=this.getParent();return n&&i&&(n===i||n.isDescendantOf(i)?e=i:i.isDescendantOf(n)?e=n:e=Gt.getCommonAncestor(n,i)),s&&(!e||e.id!==s.id)&&s.unembed(this,t),e&&e.embed(this,t),e}hasLoop(t={}){const e=this.getSource(),n=this.getTarget(),i=e.cell,s=n.cell;if(!i||!s)return!1;let a=i===s;if(!a&&t.deep&&this._model){const l=this.getSourceCell(),u=this.getTargetCell();l&&u&&(a=l.isAncestorOf(u,t)||u.isAncestorOf(l,t))}return a}getFragmentAncestor(){const t=[this,this.getSourceNode(),this.getTargetNode()].filter(e=>e!=null);return this.getCommonAncestor(...t)}isFragmentDescendantOf(t){const e=this.getFragmentAncestor();return!!e&&(e.id===t.id||e.isDescendantOf(t))}}Ie.defaults={},function(r){function t(e,n){const i=e,s=n;return i.cell===s.cell?i.port===s.port||i.port==null&&s.port==null:!1}r.equalTerminals=t}(Ie||(Ie={})),function(r){r.defaultLabel={markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}],attrs:{text:{fill:"#000",fontSize:14,textAnchor:"middle",textVerticalAnchor:"middle",pointerEvents:"none"},rect:{ref:"label",fill:"#fff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}};function t(e){return{attrs:{label:{text:e}}}}r.parseStringLabel=t}(Ie||(Ie={})),function(r){r.toStringTag=`X6.${r.name}`;function t(e){if(e==null)return!1;if(e instanceof r)return!0;const n=e[Symbol.toStringTag],i=e;return(n==null||n===r.toStringTag)&&typeof i.isNode=="function"&&typeof i.isEdge=="function"&&typeof i.prop=="function"&&typeof i.attr=="function"&&typeof i.disconnect=="function"&&typeof i.getSource=="function"&&typeof i.getTarget=="function"}r.isEdge=t}(Ie||(Ie={})),function(r){r.registry=Ye.create({type:"edge",process(t,e){if(ql.exist(t,!1))throw new Error(`Edge with name '${t}' was registered by anthor Node`);if(typeof e=="function")return e.config({shape:t}),e;let n=r;const{inherit:i="edge"}=e,s=dg(e,["inherit"]);if(typeof i=="string"){const l=this.get(i||"edge");l==null&&i?this.onNotFound(i,"inherited"):n=l}else n=i;s.constructorName==null&&(s.constructorName=t);const a=n.define.call(n,s);return a.config({shape:t}),a}}),ql.setEdgeRegistry(r.registry)}(Ie||(Ie={})),function(r){let t=0;function e(s){return s?Rv(s):(t+=1,`CustomEdge${t}`)}function n(s){const{constructorName:a,overwrite:l}=s,u=dg(s,["constructorName","overwrite"]),h=_u(e(a||u.shape),this);return h.config(u),u.shape&&r.registry.register(u.shape,h,l),h}r.define=n;function i(s){const a=s.shape||"edge",l=r.registry.get(a);return l?new l(s):r.registry.onNotFound(a)}r.create=i}(Ie||(Ie={})),function(r){const t="basic.edge";r.config({shape:t,propHooks(e){const{label:n,vertices:i}=e,s=dg(e,["label","vertices"]);if(n){s.labels==null&&(s.labels=[]);const a=typeof n=="string"?r.parseStringLabel(n):n;s.labels.push(a)}return i&&Array.isArray(i)&&(s.vertices=i.map(a=>B.create(a).toJSON())),s}}),r.registry.register(t,r)}(Ie||(Ie={}));class zA extends ar{constructor(t,e={}){super(),this.length=0,this.comparator=e.comparator||"zIndex",this.clean(),t&&this.reset(t,{silent:!0})}toJSON(){return this.cells.map(t=>t.toJSON())}add(t,e,n){let i,s;typeof e=="number"?(i=e,s=Object.assign({merge:!1},n)):(i=this.length,s=Object.assign({merge:!1},e)),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);const a=Array.isArray(t)?t:[t],l=this.comparator&&typeof e!="number"&&s.sort!==!1,u=this.comparator||null;let h=!1;const d=[],g=[];return a.forEach(p=>{const m=this.get(p);m?s.merge&&!p.isSameStore(m)&&(m.setProp(p.getProp(),n),g.push(m),l&&!h&&(u==null||typeof u=="function"?h=m.hasChanged():typeof u=="string"?h=m.hasChanged(u):h=u.some(x=>m.hasChanged(x)))):(d.push(p),this.reference(p))}),d.length&&(l&&(h=!0),this.cells.splice(i,0,...d),this.length=this.cells.length),h&&this.sort({silent:!0}),s.silent||(d.forEach((p,m)=>{const x={cell:p,index:i+m,options:s};this.trigger("added",x),s.dryrun||p.notify("added",Object.assign({},x))}),h&&this.trigger("sorted"),(d.length||g.length)&&this.trigger("updated",{added:d,merged:g,removed:[],options:s})),this}remove(t,e={}){const n=Array.isArray(t)?t:[t],i=this.removeCells(n,e);return!e.silent&&i.length>0&&this.trigger("updated",{options:e,removed:i,added:[],merged:[]}),Array.isArray(t)?i:i[0]}removeCells(t,e){const n=[];for(let i=0;i<t.length;i+=1){const s=this.get(t[i]);if(s==null)continue;const a=this.cells.indexOf(s);this.cells.splice(a,1),this.length-=1,delete this.map[s.id],n.push(s),this.unreference(s),e.dryrun||s.remove(),e.silent||(this.trigger("removed",{cell:s,index:a,options:e}),e.dryrun||s.notify("removed",{cell:s,index:a,options:e}))}return n}reset(t,e={}){const n=this.cells.slice();if(n.forEach(i=>this.unreference(i)),this.clean(),this.add(t,Object.assign({silent:!0},e)),!e.silent){const i=this.cells.slice();this.trigger("reseted",{options:e,previous:n,current:i});const s=[],a=[];i.forEach(l=>{n.some(h=>h.id===l.id)||s.push(l)}),n.forEach(l=>{i.some(h=>h.id===l.id)||a.push(l)}),this.trigger("updated",{options:e,added:s,removed:a,merged:[]})}return this}push(t,e){return this.add(t,this.length,e)}pop(t){const e=this.at(this.length-1);return this.remove(e,t)}unshift(t,e){return this.add(t,0,e)}shift(t){const e=this.at(0);return this.remove(e,t)}get(t){if(t==null)return null;const e=typeof t=="string"||typeof t=="number"?t:t.id;return this.map[e]||null}has(t){return this.get(t)!=null}at(t){return t<0&&(t+=this.length),this.cells[t]||null}first(){return this.at(0)}last(){return this.at(-1)}indexOf(t){return this.cells.indexOf(t)}toArray(){return this.cells.slice()}sort(t={}){return this.comparator!=null&&(this.cells=fd(this.cells,this.comparator),t.silent||this.trigger("sorted")),this}clone(){const t=this.constructor;return new t(this.cells.slice(),{comparator:this.comparator})}reference(t){this.map[t.id]=t,t.on("*",this.notifyCellEvent,this)}unreference(t){t.off("*",this.notifyCellEvent,this),delete this.map[t.id]}notifyCellEvent(t,e){const n=e.cell;this.trigger(`cell:${t}`,e),n&&(n.isNode()?this.trigger(`node:${t}`,Object.assign(Object.assign({},e),{node:n})):n.isEdge()&&this.trigger(`edge:${t}`,Object.assign(Object.assign({},e),{edge:n})))}clean(){this.length=0,this.cells=[],this.map={}}}class vs extends ar{get[Symbol.toStringTag](){return vs.toStringTag}constructor(t=[]){super(),this.batches={},this.addings=new WeakMap,this.nodes={},this.edges={},this.outgoings={},this.incomings={},this.collection=new zA(t),this.setup()}notify(t,e){this.trigger(t,e);const n=this.graph;return n&&(t==="sorted"||t==="reseted"||t==="updated"?n.trigger(`model:${t}`,e):n.trigger(t,e)),this}setup(){const t=this.collection;t.on("sorted",()=>this.notify("sorted",null)),t.on("updated",e=>this.notify("updated",e)),t.on("cell:change:zIndex",()=>this.sortOnChangeZ()),t.on("added",({cell:e})=>{this.onCellAdded(e)}),t.on("removed",e=>{const n=e.cell;this.onCellRemoved(n,e.options),this.notify("cell:removed",e),n.isNode()?this.notify("node:removed",Object.assign(Object.assign({},e),{node:n})):n.isEdge()&&this.notify("edge:removed",Object.assign(Object.assign({},e),{edge:n}))}),t.on("reseted",e=>{this.onReset(e.current),this.notify("reseted",e)}),t.on("edge:change:source",({edge:e})=>this.onEdgeTerminalChanged(e,"source")),t.on("edge:change:target",({edge:e})=>{this.onEdgeTerminalChanged(e,"target")})}sortOnChangeZ(){this.collection.sort()}onCellAdded(t){const e=t.id;t.isEdge()?(t.updateParent(),this.edges[e]=!0,this.onEdgeTerminalChanged(t,"source"),this.onEdgeTerminalChanged(t,"target")):this.nodes[e]=!0}onCellRemoved(t,e){const n=t.id;if(t.isEdge()){delete this.edges[n];const i=t.getSource(),s=t.getTarget();if(i&&i.cell){const a=this.outgoings[i.cell],l=a?a.indexOf(n):-1;l>=0&&(a.splice(l,1),a.length===0&&delete this.outgoings[i.cell])}if(s&&s.cell){const a=this.incomings[s.cell],l=a?a.indexOf(n):-1;l>=0&&(a.splice(l,1),a.length===0&&delete this.incomings[s.cell])}}else delete this.nodes[n];e.clear||(e.disconnectEdges?this.disconnectConnectedEdges(t,e):this.removeConnectedEdges(t,e)),t.model===this&&(t.model=null)}onReset(t){this.nodes={},this.edges={},this.outgoings={},this.incomings={},t.forEach(e=>this.onCellAdded(e))}onEdgeTerminalChanged(t,e){const n=e==="source"?this.outgoings:this.incomings,i=t.previous(e);if(i&&i.cell){const a=Gt.isCell(i.cell)?i.cell.id:i.cell,l=n[a],u=l?l.indexOf(t.id):-1;u>=0&&(l.splice(u,1),l.length===0&&delete n[a])}const s=t.getTerminal(e);if(s&&s.cell){const a=Gt.isCell(s.cell)?s.cell.id:s.cell,l=n[a]||[];l.indexOf(t.id)===-1&&l.push(t.id),n[a]=l}}prepareCell(t,e){return!t.model&&(!e||!e.dryrun)&&(t.model=this),t.zIndex==null&&t.setZIndex(this.getMaxZIndex()+1,{silent:!0}),t}resetCells(t,e={}){return t.map(n=>this.prepareCell(n,Object.assign(Object.assign({},e),{dryrun:!0}))),this.collection.reset(t,e),t.map(n=>this.prepareCell(n,{options:e})),this}clear(t={}){const e=this.getCells();if(e.length===0)return this;const n=Object.assign(Object.assign({},t),{clear:!0});return this.batchUpdate("clear",()=>{const i=e.sort((s,a)=>{const l=s.isEdge()?1:2,u=a.isEdge()?1:2;return l-u});for(;i.length>0;){const s=i.shift();s&&s.remove(n)}},n),this}addNode(t,e={}){const n=Ke.isNode(t)?t:this.createNode(t);return this.addCell(n,e),n}updateNode(t,e={}){const n=this.createNode(t),i=n.getProp();return n.dispose(),this.updateCell(i,e)}createNode(t){return Ke.create(t)}addEdge(t,e={}){const n=Ie.isEdge(t)?t:this.createEdge(t);return this.addCell(n,e),n}createEdge(t){return Ie.create(t)}updateEdge(t,e={}){const n=this.createEdge(t),i=n.getProp();return n.dispose(),this.updateCell(i,e)}addCell(t,e={}){return Array.isArray(t)?this.addCells(t,e):(!this.collection.has(t)&&!this.addings.has(t)&&(this.addings.set(t,!0),this.collection.add(this.prepareCell(t,e),e),t.eachChild(n=>this.addCell(n,e)),this.addings.delete(t)),this)}addCells(t,e={}){const n=t.length;if(n===0)return this;const i=Object.assign(Object.assign({},e),{position:n-1,maxPosition:n-1});return this.startBatch("add",Object.assign(Object.assign({},i),{cells:t})),t.forEach(s=>{this.addCell(s,i),i.position-=1}),this.stopBatch("add",Object.assign(Object.assign({},i),{cells:t})),this}updateCell(t,e={}){const n=t.id&&this.getCell(t.id);return n?this.batchUpdate("update",()=>(Object.entries(t).forEach(([i,s])=>n.setProp(i,s,e)),!0),t):!1}removeCell(t,e={}){const n=typeof t=="string"?this.getCell(t):t;return n&&this.has(n)?this.collection.remove(n,e):null}updateCellId(t,e){this.startBatch("update",{id:e}),t.prop("id",e);const n=t.clone({keepId:!0});return this.addCell(n),this.getConnectedEdges(t).forEach(s=>{const a=s.getSourceCell(),l=s.getTargetCell();a===t&&s.setSource(Object.assign(Object.assign({},s.getSource()),{cell:e})),l===t&&s.setTarget(Object.assign(Object.assign({},s.getTarget()),{cell:e}))}),this.removeCell(t),this.stopBatch("update",{id:e}),n}removeCells(t,e={}){return t.length?this.batchUpdate("remove",()=>t.map(n=>this.removeCell(n,e))):[]}removeConnectedEdges(t,e={}){const n=this.getConnectedEdges(t);return n.forEach(i=>{i.remove(e)}),n}disconnectConnectedEdges(t,e={}){const n=typeof t=="string"?t:t.id;this.getConnectedEdges(t).forEach(i=>{const s=i.getSourceCellId(),a=i.getTargetCellId();s===n&&i.setSource({x:0,y:0},e),a===n&&i.setTarget({x:0,y:0},e)})}has(t){return this.collection.has(t)}total(){return this.collection.length}indexOf(t){return this.collection.indexOf(t)}getCell(t){return this.collection.get(t)}getCells(){return this.collection.toArray()}getFirstCell(){return this.collection.first()}getLastCell(){return this.collection.last()}getMinZIndex(){const t=this.collection.first();return t&&t.getZIndex()||0}getMaxZIndex(){const t=this.collection.last();return t&&t.getZIndex()||0}getCellsFromCache(t){return t?Object.keys(t).map(e=>this.getCell(e)).filter(e=>e!=null):[]}getNodes(){return this.getCellsFromCache(this.nodes)}getEdges(){return this.getCellsFromCache(this.edges)}getOutgoingEdges(t){const e=typeof t=="string"?t:t.id,n=this.outgoings[e];return n?n.map(i=>this.getCell(i)).filter(i=>i&&i.isEdge()):null}getIncomingEdges(t){const e=typeof t=="string"?t:t.id,n=this.incomings[e];return n?n.map(i=>this.getCell(i)).filter(i=>i&&i.isEdge()):null}getConnectedEdges(t,e={}){const n=[],i=typeof t=="string"?this.getCell(t):t;if(i==null)return n;const s={},a=e.indirect;let l=e.incoming,u=e.outgoing;l==null&&u==null&&(l=u=!0);const h=(d,g)=>{const p=g?this.getOutgoingEdges(d):this.getIncomingEdges(d);if(p!=null&&p.forEach(m=>{s[m.id]||(n.push(m),s[m.id]=!0,a&&(l&&h(m,!1),u&&h(m,!0)))}),a&&d.isEdge()){const m=g?d.getTargetCell():d.getSourceCell();m&&m.isEdge()&&(s[m.id]||(n.push(m),h(m,g)))}};if(u&&h(i,!0),l&&h(i,!1),e.deep){const d=i.getDescendants({deep:!0}),g={};d.forEach(m=>{m.isNode()&&(g[m.id]=!0)});const p=(m,x)=>{const C=x?this.getOutgoingEdges(m.id):this.getIncomingEdges(m.id);C!=null&&C.forEach(O=>{if(!s[O.id]){const R=O.getSourceCell(),L=O.getTargetCell();if(!e.enclosed&&R&&g[R.id]&&L&&g[L.id])return;n.push(O),s[O.id]=!0}})};d.forEach(m=>{m.isEdge()||(u&&p(m,!0),l&&p(m,!1))})}return n}isBoundary(t,e){const n=typeof t=="string"?this.getCell(t):t,i=e?this.getIncomingEdges(n):this.getOutgoingEdges(n);return i==null||i.length===0}getBoundaryNodes(t){const e=[];return Object.keys(this.nodes).forEach(n=>{if(this.isBoundary(n,t)){const i=this.getCell(n);i&&e.push(i)}}),e}getRoots(){return this.getBoundaryNodes(!0)}getLeafs(){return this.getBoundaryNodes(!1)}isRoot(t){return this.isBoundary(t,!0)}isLeaf(t){return this.isBoundary(t,!1)}getNeighbors(t,e={}){let n=e.incoming,i=e.outgoing;n==null&&i==null&&(n=i=!0);const a=this.getConnectedEdges(t,e).reduce((l,u)=>{const h=u.hasLoop(e),d=u.getSourceCell(),g=u.getTargetCell();return n&&d&&d.isNode()&&!l[d.id]&&(h||d!==t&&(!e.deep||!d.isDescendantOf(t)))&&(l[d.id]=d),i&&g&&g.isNode()&&!l[g.id]&&(h||g!==t&&(!e.deep||!g.isDescendantOf(t)))&&(l[g.id]=g),l},{});if(t.isEdge()){if(n){const l=t.getSourceCell();l&&l.isNode()&&!a[l.id]&&(a[l.id]=l)}if(i){const l=t.getTargetCell();l&&l.isNode()&&!a[l.id]&&(a[l.id]=l)}}return Object.keys(a).map(l=>a[l])}isNeighbor(t,e,n={}){let i=n.incoming,s=n.outgoing;return i==null&&s==null&&(i=s=!0),this.getConnectedEdges(t,n).some(a=>{const l=a.getSourceCell(),u=a.getTargetCell();return!!(i&&l&&l.id===e.id||s&&u&&u.id===e.id)})}getSuccessors(t,e={}){const n=[];return this.search(t,(i,s)=>{i!==t&&this.matchDistance(s,e.distance)&&n.push(i)},Object.assign(Object.assign({},e),{outgoing:!0})),n}isSuccessor(t,e,n={}){let i=!1;return this.search(t,(s,a)=>{if(s===e&&s!==t&&this.matchDistance(a,n.distance))return i=!0,!1},Object.assign(Object.assign({},n),{outgoing:!0})),i}getPredecessors(t,e={}){const n=[];return this.search(t,(i,s)=>{i!==t&&this.matchDistance(s,e.distance)&&n.push(i)},Object.assign(Object.assign({},e),{incoming:!0})),n}isPredecessor(t,e,n={}){let i=!1;return this.search(t,(s,a)=>{if(s===e&&s!==t&&this.matchDistance(a,n.distance))return i=!0,!1},Object.assign(Object.assign({},n),{incoming:!0})),i}matchDistance(t,e){return e==null?!0:typeof e=="function"?e(t):Array.isArray(e)&&e.includes(t)?!0:t===e}getCommonAncestor(...t){const e=[];return t.forEach(n=>{n&&(Array.isArray(n)?e.push(...n):e.push(n))}),Gt.getCommonAncestor(...e)}getSubGraph(t,e={}){const n=[],i={},s=[],a=[],l=u=>{i[u.id]||(n.push(u),i[u.id]=u,u.isEdge()&&a.push(u),u.isNode()&&s.push(u))};return t.forEach(u=>{l(u),e.deep&&u.getDescendants({deep:!0}).forEach(d=>l(d))}),a.forEach(u=>{const h=u.getSourceCell(),d=u.getTargetCell();h&&!i[h.id]&&(n.push(h),i[h.id]=h,h.isNode()&&s.push(h)),d&&!i[d.id]&&(n.push(d),i[d.id]=d,d.isNode()&&s.push(d))}),s.forEach(u=>{this.getConnectedEdges(u,e).forEach(d=>{const g=d.getSourceCell(),p=d.getTargetCell();!i[d.id]&&g&&i[g.id]&&p&&i[p.id]&&(n.push(d),i[d.id]=d)})}),n}cloneSubGraph(t,e={}){const n=this.getSubGraph(t,e);return this.cloneCells(n)}cloneCells(t){return Gt.cloneCells(t)}getNodesFromPoint(t,e){const n=typeof t=="number"?{x:t,y:e||0}:t;return this.getNodes().filter(i=>i.getBBox().containsPoint(n))}getNodesInArea(t,e,n,i,s){const a=typeof t=="number"?new st(t,e,n,i):st.create(t),l=typeof t=="number"?s:e,u=l&&l.strict;return this.getNodes().filter(h=>{const d=h.getBBox();return u?a.containsRect(d):a.isIntersectWithRect(d)})}getEdgesInArea(t,e,n,i,s){const a=typeof t=="number"?new st(t,e,n,i):st.create(t),l=typeof t=="number"?s:e,u=l&&l.strict;return this.getEdges().filter(h=>{const d=h.getBBox();return d.width===0?d.inflate(1,0):d.height===0&&d.inflate(0,1),u?a.containsRect(d):a.isIntersectWithRect(d)})}getNodesUnderNode(t,e={}){const n=t.getBBox();return(e.by==null||e.by==="bbox"?this.getNodesInArea(n):this.getNodesFromPoint(n[e.by])).filter(s=>t.id!==s.id&&!s.isDescendantOf(t))}getAllCellsBBox(){return this.getCellsBBox(this.getCells())}getCellsBBox(t,e={}){return Gt.getCellsBBox(t,e)}search(t,e,n={}){n.breadthFirst?this.breadthFirstSearch(t,e,n):this.depthFirstSearch(t,e,n)}breadthFirstSearch(t,e,n={}){const i=[],s={},a={};for(i.push(t),a[t.id]=0;i.length>0;){const l=i.shift();if(l==null||s[l.id]||(s[l.id]=!0,xt(e,this,l,a[l.id])===!1))continue;this.getNeighbors(l,n).forEach(h=>{a[h.id]=a[l.id]+1,i.push(h)})}}depthFirstSearch(t,e,n={}){const i=[],s={},a={};for(i.push(t),a[t.id]=0;i.length>0;){const l=i.pop();if(l==null||s[l.id]||(s[l.id]=!0,xt(e,this,l,a[l.id])===!1))continue;const u=this.getNeighbors(l,n),h=i.length;u.forEach(d=>{a[d.id]=a[l.id]+1,i.splice(h,0,d)})}}getShortestPath(t,e,n={}){const i={};this.getEdges().forEach(h=>{const d=h.getSourceCellId(),g=h.getTargetCellId();d&&g&&(i[d]||(i[d]=[]),i[g]||(i[g]=[]),i[d].push(g),n.directed||i[g].push(d))});const s=typeof t=="string"?t:t.id,a=Xv.run(i,s,n.weight),l=[];let u=typeof e=="string"?e:e.id;for(a[u]&&l.push(u);u=a[u];)l.unshift(u);return l}translate(t,e,n){return this.getCells().filter(i=>!i.hasParent()).forEach(i=>i.translate(t,e,n)),this}resize(t,e,n){return this.resizeCells(t,e,this.getCells(),n)}resizeCells(t,e,n,i={}){const s=this.getCellsBBox(n);if(s){const a=Math.max(t/s.width,0),l=Math.max(e/s.height,0),u=s.getOrigin();n.forEach(h=>h.scale(a,l,u,i))}return this}toJSON(t={}){return vs.toJSON(this.getCells(),t)}parseJSON(t){return vs.fromJSON(t)}fromJSON(t,e={}){const n=this.parseJSON(t);return this.resetCells(n,e),this}startBatch(t,e={}){return this.batches[t]=(this.batches[t]||0)+1,this.notify("batch:start",{name:t,data:e}),this}stopBatch(t,e={}){return this.batches[t]=(this.batches[t]||0)-1,this.notify("batch:stop",{name:t,data:e}),this}batchUpdate(t,e,n={}){this.startBatch(t,n);const i=e();return this.stopBatch(t,n),i}hasActiveBatch(t=Object.keys(this.batches)){return(Array.isArray(t)?t:[t]).some(n=>this.batches[n]>0)}}(function(r){r.toStringTag=`X6.${r.name}`;function t(e){if(e==null)return!1;if(e instanceof r)return!0;const n=e[Symbol.toStringTag],i=e;return(n==null||n===r.toStringTag)&&typeof i.addNode=="function"&&typeof i.addEdge=="function"&&i.collection!=null}r.isModel=t})(vs||(vs={})),function(r){function t(n,i={}){return{cells:n.map(s=>s.toJSON(i))}}r.toJSON=t;function e(n){const i=[];return Array.isArray(n)?i.push(...n):(n.cells&&i.push(...n.cells),n.nodes&&n.nodes.forEach(s=>{s.shape==null&&(s.shape="rect"),i.push(s)}),n.edges&&n.edges.forEach(s=>{s.shape==null&&(s.shape="edge"),i.push(s)})),i.map(s=>{const a=s.shape;if(a){if(Ke.registry.exist(a))return Ke.create(s);if(Ie.registry.exist(a))return Ie.create(s)}throw new Error("The `shape` should be specified when creating a node/edge instance")})}r.fromJSON=e}(vs||(vs={}));var $A=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e};class lo extends Ke{get label(){return this.getLabel()}set label(t){this.setLabel(t)}getLabel(){return this.getAttrByPath("text/text")}setLabel(t,e){return t==null?this.removeLabel():this.setAttrByPath("text/text",t,e),this}removeLabel(){return this.removeAttrByPath("text/text"),this}}(function(r){r.bodyAttr={fill:"#ffffff",stroke:"#333333",strokeWidth:2},r.labelAttr={fontSize:14,fill:"#000000",refX:.5,refY:.5,textAnchor:"middle",textVerticalAnchor:"middle",fontFamily:"Arial, helvetica, sans-serif"},r.config({attrs:{text:Object.assign({},r.labelAttr)},propHooks(t){const{label:e}=t,n=$A(t,["label"]);return e&&Qo(n,"attrs/text/text",e),n},visible:!0})})(lo||(lo={}));var VA=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e};function HA(r,t="body"){return[{tagName:r,selector:t},{tagName:"text",selector:"label"}]}function WA(r="xlink:href"){return e=>{const{imageUrl:n,imageWidth:i,imageHeight:s}=e,a=VA(e,["imageUrl","imageWidth","imageHeight"]);if(n!=null||i!=null||s!=null){const l=()=>{if(a.attrs){const u=a.attrs.image;n!=null&&(u[r]=n),i!=null&&(u.width=i),s!=null&&(u.height=s),a.attrs.image=u}};a.attrs?(a.attrs.image==null&&(a.attrs.image={}),l()):(a.attrs={image:{}},l())}return a}}function Jl(r,t,e={}){const n={constructorName:r,markup:HA(r,e.selector),attrs:{[r]:Object.assign({},lo.bodyAttr)}};return(e.parent||lo).define(Ee(n,t,{shape:r}))}const DC=Jl("rect",{attrs:{body:{refWidth:"100%",refHeight:"100%"}}}),GA=Ie.define({shape:"edge",markup:[{tagName:"path",selector:"wrap",groupSelector:"lines",attrs:{fill:"none",cursor:"pointer",stroke:"transparent",strokeLinecap:"round"}},{tagName:"path",selector:"line",groupSelector:"lines",attrs:{fill:"none",pointerEvents:"none"}}],attrs:{lines:{connection:!0,strokeLinejoin:"round"},wrap:{strokeWidth:10},line:{stroke:"#333",strokeWidth:2,targetMarker:"classic"}}}),BC=Jl("ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%"}}});var UA=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e};class Xl extends lo{get points(){return this.getPoints()}set points(t){this.setPoints(t)}getPoints(){return this.getAttrByPath("body/refPoints")}setPoints(t,e){return t==null?this.removePoints():this.setAttrByPath("body/refPoints",Xl.pointsToString(t),e),this}removePoints(){return this.removeAttrByPath("body/refPoints"),this}}(function(r){function t(e){return typeof e=="string"?e:e.map(n=>Array.isArray(n)?n.join(","):B.isPointLike(n)?`${n.x}, ${n.y}`:"").join(" ")}r.pointsToString=t,r.config({propHooks(e){const{points:n}=e,i=UA(e,["points"]);if(n){const s=t(n);s&&Qo(i,"attrs/body/refPoints",s)}return i}})})(Xl||(Xl={}));const kC=Jl("polygon",{},{parent:Xl}),jC=Jl("polyline",{},{parent:Xl});var qA=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e};const FC=lo.define({shape:"path",markup:[{tagName:"rect",selector:"bg"},{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}],attrs:{bg:{refWidth:"100%",refHeight:"100%",fill:"none",stroke:"none",pointerEvents:"all"},body:{fill:"none",stroke:"#000",strokeWidth:2}},propHooks(r){const{path:t}=r,e=qA(r,["path"]);return t&&Qo(e,"attrs/body/refD",t),e}});var JA=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e};const zC=lo.define({shape:"text-block",markup:[{tagName:"rect",selector:"body"},Zs.SUPPORT_FOREIGNOBJECT?{tagName:"foreignObject",selector:"foreignObject",children:[{tagName:"div",ns:vn.xhtml,selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attrs:{textAnchor:"middle"}}],attrs:{body:Object.assign(Object.assign({},lo.bodyAttr),{refWidth:"100%",refHeight:"100%"}),foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}},propHooks(r){const{text:t}=r,e=JA(r,["text"]);return t&&Qo(e,"attrs/label/text",t),e},attrHooks:{text:{set(r,{cell:t,view:e,refBBox:n,elem:i,attrs:s}){if(i instanceof HTMLElement)i.textContent=r;else{const a=s.style||{},l={text:r,width:-5,height:"100%"},u=Object.assign({textVerticalAnchor:"middle"},a),h=Di.presets.textWrap;return xt(h.set,this,l,{cell:t,view:e,elem:i,refBBox:n,attrs:u}),{fill:a.color||null}}},position(r,{refBBox:t,elem:e}){if(e instanceof SVGElement)return t.getCenter()}}}}),$C=Jl("image",{attrs:{image:{refWidth:"100%",refHeight:"100%"}},propHooks:WA()},{selector:"image"}),VC=Jl("circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%"}}});class ai extends ln{constructor(){super(...arguments),this.portsCache={}}get[Symbol.toStringTag](){return ai.toStringTag}getContainerClassName(){const t=[super.getContainerClassName(),this.prefixClassName("node")];return this.can("nodeMovable")||t.push(this.prefixClassName("node-immovable")),t.join(" ")}updateClassName(t){const e=t.target;if(e.hasAttribute("magnet")){const n=this.prefixClassName("port-unconnectable");this.can("magnetConnectable")?Rr(e,n):se(e,n)}else{const n=this.prefixClassName("node-immovable");this.can("nodeMovable")?this.removeClass(n):this.addClass(n)}}isNodeView(){return!0}confirmUpdate(t,e={}){let n=t;return this.hasAction(n,"ports")&&(this.removePorts(),this.cleanPortsCache()),this.hasAction(n,"render")?(this.render(),n=this.removeAction(n,["render","update","resize","translate","rotate","ports","tools"])):(n=this.handleAction(n,"resize",()=>this.resize(),"update"),n=this.handleAction(n,"update",()=>this.update(),Rn.useCSSSelector?"ports":null),n=this.handleAction(n,"translate",()=>this.translate()),n=this.handleAction(n,"rotate",()=>this.rotate()),n=this.handleAction(n,"ports",()=>this.renderPorts()),n=this.handleAction(n,"tools",()=>{this.getFlag("tools")===t?this.renderTools():this.updateTools(e)})),n}update(t){this.cleanCache(),Rn.useCSSSelector&&this.removePorts();const e=this.cell,n=e.getSize(),i=e.getAttrs();this.updateAttrs(this.container,i,{attrs:t===i?null:t,rootBBox:new st(0,0,n.width,n.height),selectors:this.selectors}),Rn.useCSSSelector&&this.renderPorts()}renderMarkup(){const t=this.cell.markup;if(t){if(typeof t=="string")throw new TypeError("Not support string markup.");return this.renderJSONMarkup(t)}throw new TypeError("Invalid node markup.")}renderJSONMarkup(t){const e=this.parseJSONMarkup(t,this.container);this.selectors=e.selectors,this.container.appendChild(e.fragment)}render(){return this.empty(),this.renderMarkup(),this.resize(),this.updateTransform(),Rn.useCSSSelector||this.renderPorts(),this.renderTools(),this}resize(){this.cell.getAngle()&&this.rotate(),this.update()}translate(){this.updateTransform()}rotate(){this.updateTransform()}getTranslationString(){const t=this.cell.getPosition();return`translate(${t.x},${t.y})`}getRotationString(){const t=this.cell.getAngle();if(t){const e=this.cell.getSize();return`rotate(${t},${e.width/2},${e.height/2})`}}updateTransform(){let t=this.getTranslationString();const e=this.getRotationString();e&&(t+=` ${e}`),this.container.setAttribute("transform",t)}findPortElem(t,e){const n=t?this.portsCache[t]:null;if(!n)return null;const i=n.portContentElement,s=n.portContentSelectors||{};return this.findOne(e,i,s)}cleanPortsCache(){this.portsCache={}}removePorts(){Object.values(this.portsCache).forEach(t=>{Rl(t.portElement)})}renderPorts(){const t=this.container,e=[];t.childNodes.forEach(a=>{e.push(a)});const n=this.cell.getParsedPorts(),i=ku(n,"zIndex"),s="auto";i[s]&&i[s].forEach(a=>{const l=this.getPortElement(a);t.append(l),e.push(l)}),Object.keys(i).forEach(a=>{if(a!==s){const l=parseInt(a,10);this.appendPorts(i[a],l,e)}}),this.updatePorts()}appendPorts(t,e,n){const i=t.map(s=>this.getPortElement(s));n[e]||e<0?zv(n[Math.max(e,0)],i):Ku(this.container,i)}getPortElement(t){const e=this.portsCache[t.id];return e?e.portElement:this.createPortElement(t)}createPortElement(t){let e=Oe.renderMarkup(this.cell.getPortContainerMarkup());const n=e.elem;if(n==null)throw new Error("Invalid port container markup.");e=Oe.renderMarkup(this.getPortMarkup(t));const i=e.elem,s=e.selectors;if(i==null)throw new Error("Invalid port markup.");this.setAttrs({port:t.id,"port-group":t.group},i);let a="x6-port";t.group&&(a+=` x6-port-${t.group}`),se(n,a),se(n,"x6-port"),se(i,"x6-port-body"),n.appendChild(i);let l=s,u,h;if(this.existPortLabel(t)){if(e=Oe.renderMarkup(this.getPortLabelMarkup(t.label)),u=e.elem,h=e.selectors,u==null)throw new Error("Invalid port label markup.");if(s&&h){for(const g in h)if(s[g]&&g!==this.rootSelector)throw new Error("Selectors within port must be unique.");l=Object.assign(Object.assign({},s),h)}se(u,"x6-port-label"),n.appendChild(u)}return this.portsCache[t.id]={portElement:n,portSelectors:l,portLabelElement:u,portLabelSelectors:h,portContentElement:i,portContentSelectors:s},this.graph.options.onPortRendered&&this.graph.options.onPortRendered({port:t,node:this.cell,container:n,selectors:l,labelContainer:u,labelSelectors:h,contentContainer:i,contentSelectors:s}),n}updatePorts(){const t=this.cell.getParsedGroups(),e=Object.keys(t);e.length===0?this.updatePortGroup():e.forEach(n=>this.updatePortGroup(n))}updatePortGroup(t){const e=st.fromSize(this.cell.getSize()),n=this.cell.getPortsLayoutByGroup(t,e);for(let i=0,s=n.length;i<s;i+=1){const a=n[i],l=a.portId,u=this.portsCache[l]||{},h=a.portLayout;if(this.applyPortTransform(u.portElement,h),a.portAttrs!=null){const g={selectors:u.portSelectors||{}};a.portSize&&(g.rootBBox=st.fromSize(a.portSize)),this.updateAttrs(u.portElement,a.portAttrs,g)}const d=a.labelLayout;if(d&&u.portLabelElement&&(this.applyPortTransform(u.portLabelElement,d,-(h.angle||0)),d.attrs)){const g={selectors:u.portLabelSelectors||{}};a.labelSize&&(g.rootBBox=st.fromSize(a.labelSize)),this.updateAttrs(u.portLabelElement,d.attrs,g)}}}applyPortTransform(t,e,n=0){const i=e.angle,s=e.position,a=bn().rotate(n).translate(s.x||0,s.y||0).rotate(i||0);Ll(t,a,{absolute:!0})}getPortMarkup(t){return t.markup||this.cell.portMarkup}getPortLabelMarkup(t){return t.markup||this.cell.portLabelMarkup}existPortLabel(t){return t.attrs&&t.attrs.text}getEventArgs(t,e,n){const i=this,s=i.cell,a=s;return e==null||n==null?{e:t,view:i,node:s,cell:a}:{e:t,x:e,y:n,view:i,node:s,cell:a}}getPortEventArgs(t,e,n){const i=this,s=i.cell,a=s;return n?{e:t,x:n.x,y:n.y,view:i,node:s,cell:a,port:e}:{e:t,view:i,node:s,cell:a,port:e}}notifyMouseDown(t,e,n){super.onMouseDown(t,e,n),this.notify("node:mousedown",this.getEventArgs(t,e,n))}notifyMouseMove(t,e,n){super.onMouseMove(t,e,n),this.notify("node:mousemove",this.getEventArgs(t,e,n))}notifyMouseUp(t,e,n){super.onMouseUp(t,e,n),this.notify("node:mouseup",this.getEventArgs(t,e,n))}notifyPortEvent(t,e,n){const i=this.findAttr("port",e.target);if(i){const s=e.type;t==="node:port:mouseenter"?e.type="mouseenter":t==="node:port:mouseleave"&&(e.type="mouseleave"),this.notify(t,this.getPortEventArgs(e,i,n)),e.type=s}}onClick(t,e,n){super.onClick(t,e,n),this.notify("node:click",this.getEventArgs(t,e,n)),this.notifyPortEvent("node:port:click",t,{x:e,y:n})}onDblClick(t,e,n){super.onDblClick(t,e,n),this.notify("node:dblclick",this.getEventArgs(t,e,n)),this.notifyPortEvent("node:port:dblclick",t,{x:e,y:n})}onContextMenu(t,e,n){super.onContextMenu(t,e,n),this.notify("node:contextmenu",this.getEventArgs(t,e,n)),this.notifyPortEvent("node:port:contextmenu",t,{x:e,y:n})}onMouseDown(t,e,n){this.isPropagationStopped(t)||(this.notifyMouseDown(t,e,n),this.notifyPortEvent("node:port:mousedown",t,{x:e,y:n}),this.startNodeDragging(t,e,n))}onMouseMove(t,e,n){const i=this.getEventData(t),s=i.action;if(s==="magnet")this.dragMagnet(t,e,n);else{if(s==="move"){const l=i.targetView||this;l.dragNode(t,e,n),l.notify("node:moving",{e:t,x:e,y:n,view:l,cell:l.cell,node:l.cell})}this.notifyMouseMove(t,e,n),this.notifyPortEvent("node:port:mousemove",t,{x:e,y:n})}this.setEventData(t,i)}onMouseUp(t,e,n){const i=this.getEventData(t),s=i.action;s==="magnet"?this.stopMagnetDragging(t,e,n):(this.notifyMouseUp(t,e,n),this.notifyPortEvent("node:port:mouseup",t,{x:e,y:n}),s==="move"&&(i.targetView||this).stopNodeDragging(t,e,n));const a=i.targetMagnet;a&&this.onMagnetClick(t,a,e,n),this.checkMouseleave(t)}onMouseOver(t){super.onMouseOver(t),this.notify("node:mouseover",this.getEventArgs(t)),this.notifyPortEvent("node:port:mouseenter",t),this.notifyPortEvent("node:port:mouseover",t)}onMouseOut(t){super.onMouseOut(t),this.notify("node:mouseout",this.getEventArgs(t)),this.notifyPortEvent("node:port:mouseleave",t),this.notifyPortEvent("node:port:mouseout",t)}onMouseEnter(t){this.updateClassName(t),super.onMouseEnter(t),this.notify("node:mouseenter",this.getEventArgs(t))}onMouseLeave(t){super.onMouseLeave(t),this.notify("node:mouseleave",this.getEventArgs(t))}onMouseWheel(t,e,n,i){super.onMouseWheel(t,e,n,i),this.notify("node:mousewheel",Object.assign({delta:i},this.getEventArgs(t,e,n)))}onMagnetClick(t,e,n,i){const s=this.graph;s.view.getMouseMovedCount(t)>s.options.clickThreshold||this.notify("node:magnet:click",Object.assign({magnet:e},this.getEventArgs(t,n,i)))}onMagnetDblClick(t,e,n,i){this.notify("node:magnet:dblclick",Object.assign({magnet:e},this.getEventArgs(t,n,i)))}onMagnetContextMenu(t,e,n,i){this.notify("node:magnet:contextmenu",Object.assign({magnet:e},this.getEventArgs(t,n,i)))}onMagnetMouseDown(t,e,n,i){this.startMagnetDragging(t,n,i)}onCustomEvent(t,e,n,i){this.notify("node:customevent",Object.assign({name:e},this.getEventArgs(t,n,i))),super.onCustomEvent(t,e,n,i)}prepareEmbedding(t){const e=this.graph,i=this.getEventData(t).cell||this.cell,s=e.findViewByCell(i),a=e.snapToGrid(t.clientX,t.clientY);this.notify("node:embed",{e:t,node:i,view:s,cell:i,x:a.x,y:a.y,currentParent:i.getParent()})}processEmbedding(t,e){const n=e.cell||this.cell,i=e.graph||this.graph,s=i.options.embedding,a=s.findParent;let l=typeof a=="function"?xt(a,i,{view:this,node:this.cell}).filter(p=>Gt.isCell(p)&&this.cell.id!==p.id&&!p.isDescendantOf(this.cell)):i.model.getNodesUnderNode(n,{by:a});if(s.frontOnly&&l.length>0){const p=ku(l,"zIndex"),m=gd(Object.keys(p).map(x=>parseInt(x,10)));m&&(l=p[m])}l=l.filter(p=>p.visible);let u=null;const h=e.candidateEmbedView,d=s.validate;for(let p=l.length-1;p>=0;p-=1){const m=l[p];if(h&&h.cell.id===m.id){u=h;break}else{const x=m.findView(i);if(xt(d,i,{child:this.cell,parent:x.cell,childView:this,parentView:x})){u=x;break}}}this.clearEmbedding(e),u&&u.highlight(null,{type:"embedding"}),e.candidateEmbedView=u;const g=i.snapToGrid(t.clientX,t.clientY);this.notify("node:embedding",{e:t,cell:n,node:n,view:i.findViewByCell(n),x:g.x,y:g.y,currentParent:n.getParent(),candidateParent:u?u.cell:null})}clearEmbedding(t){const e=t.candidateEmbedView;e&&(e.unhighlight(null,{type:"embedding"}),t.candidateEmbedView=null)}finalizeEmbedding(t,e){this.graph.startBatch("embedding");const n=e.cell||this.cell,i=e.graph||this.graph,s=i.findViewByCell(n),a=n.getParent(),l=e.candidateEmbedView;if(l?(l.unhighlight(null,{type:"embedding"}),e.candidateEmbedView=null,(a==null||a.id!==l.cell.id)&&l.cell.insertChild(n,void 0,{ui:!0})):a&&a.unembed(n,{ui:!0}),i.model.getConnectedEdges(n,{deep:!0}).forEach(u=>{u.updateParent({ui:!0})}),s&&l){const u=i.snapToGrid(t.clientX,t.clientY);s.notify("node:embedded",{e:t,cell:n,x:u.x,y:u.y,node:n,view:i.findViewByCell(n),previousParent:a,currentParent:n.getParent()})}this.graph.stopBatch("embedding")}getDelegatedView(){let t=this.cell,e=this;for(;e&&!t.isEdge();){if(!t.hasParent()||e.can("stopDelegateOnDragging"))return e;t=t.getParent(),e=this.graph.findViewByCell(t)}return null}validateMagnet(t,e,n){if(e.getAttribute("magnet")!=="passive"){const i=this.graph.options.connecting.validateMagnet;return i?xt(i,this.graph,{e:n,magnet:e,view:t,cell:t.cell}):!0}return!1}startMagnetDragging(t,e,n){if(!this.can("magnetConnectable"))return;t.stopPropagation();const i=t.currentTarget,s=this.graph;this.setEventData(t,{targetMagnet:i}),this.validateMagnet(this,i,t)?(s.options.magnetThreshold<=0&&this.startConnectting(t,i,e,n),this.setEventData(t,{action:"magnet"}),this.stopPropagation(t)):this.onMouseDown(t,e,n),s.view.delegateDragEvents(t,this)}startConnectting(t,e,n,i){this.graph.model.startBatch("add-edge");const s=this.createEdgeFromMagnet(e,n,i);s.setEventData(t,s.prepareArrowheadDragging("target",{x:n,y:i,isNewEdge:!0,fallbackAction:"remove"})),this.setEventData(t,{edgeView:s}),s.notifyMouseDown(t,n,i)}getDefaultEdge(t,e){let n;const i=this.graph.options.connecting.createEdge;return i&&(n=xt(i,this.graph,{sourceMagnet:e,sourceView:t,sourceCell:t.cell})),n}createEdgeFromMagnet(t,e,n){const i=this.graph,s=i.model,a=this.getDefaultEdge(this,t);return a.setSource(Object.assign(Object.assign({},a.getSource()),this.getEdgeTerminal(t,e,n,a,"source"))),a.setTarget(Object.assign(Object.assign({},a.getTarget()),{x:e,y:n})),a.addTo(s,{async:!1,ui:!0}),a.findView(i)}dragMagnet(t,e,n){const i=this.getEventData(t),s=i.edgeView;if(s)s.onMouseMove(t,e,n),this.autoScrollGraph(t.clientX,t.clientY);else{const a=this.graph,l=a.options.magnetThreshold,u=this.getEventTarget(t),h=i.targetMagnet;if(l==="onleave"){if(h===u||h.contains(u))return}else if(a.view.getMouseMovedCount(t)<=l)return;this.startConnectting(t,h,e,n)}}stopMagnetDragging(t,e,n){const s=this.eventData(t).edgeView;s&&(s.onMouseUp(t,e,n),this.graph.model.stopBatch("add-edge"))}notifyUnhandledMouseDown(t,e,n){this.notify("node:unhandled:mousedown",{e:t,x:e,y:n,view:this,cell:this.cell,node:this.cell})}notifyNodeMove(t,e,n,i,s){let a=[s];const l=this.graph.getPlugin("selection");if(l&&l.isSelectionMovable()){const u=l.getSelectedCells();u.includes(s)&&(a=u.filter(h=>h.isNode()))}a.forEach(u=>{this.notify(t,{e,x:n,y:i,cell:u,node:u,view:u.findView(this.graph)})})}getRestrictArea(t){const e=this.graph.options.translating.restrict,n=typeof e=="function"?xt(e,this.graph,t):e;return typeof n=="number"?this.graph.transform.getGraphArea().inflate(n):n===!0?this.graph.transform.getGraphArea():n||null}startNodeDragging(t,e,n){const i=this.getDelegatedView();if(i==null||!i.can("nodeMovable"))return this.notifyUnhandledMouseDown(t,e,n);this.setEventData(t,{targetView:i,action:"move"});const s=B.create(i.cell.getPosition());i.setEventData(t,{moving:!1,offset:s.diff(e,n),restrict:this.getRestrictArea(i)})}dragNode(t,e,n){const i=this.cell,s=this.graph,a=s.getGridSize(),l=this.getEventData(t),u=l.offset,h=l.restrict;l.moving||(l.moving=!0,this.addClass("node-moving"),this.notifyNodeMove("node:move",t,e,n,this.cell)),this.autoScrollGraph(t.clientX,t.clientY);const d=Se.snapToGrid(e+u.x,a),g=Se.snapToGrid(n+u.y,a);i.setPosition(d,g,{restrict:h,deep:!0,ui:!0}),s.options.embedding.enabled&&(l.embedding||(this.prepareEmbedding(t),l.embedding=!0),this.processEmbedding(t,l))}stopNodeDragging(t,e,n){const i=this.getEventData(t);i.embedding&&this.finalizeEmbedding(t,i),i.moving&&(this.removeClass("node-moving"),this.notifyNodeMove("node:moved",t,e,n,this.cell)),i.moving=!1,i.embedding=!1}autoScrollGraph(t,e){const n=this.graph.getPlugin("scroller");n&&n.autoScroll(t,e)}}(function(r){r.toStringTag=`X6.${r.name}`;function t(e){if(e==null)return!1;if(e instanceof r)return!0;const n=e[Symbol.toStringTag],i=e;return(n==null||n===r.toStringTag)&&typeof i.isNodeView=="function"&&typeof i.isEdgeView=="function"&&typeof i.confirmUpdate=="function"&&typeof i.update=="function"&&typeof i.findPortElem=="function"&&typeof i.resize=="function"&&typeof i.rotate=="function"&&typeof i.translate=="function"}r.isNodeView=t})(ai||(ai={})),ai.config({isSvgElement:!0,priority:0,bootstrap:["render"],actions:{view:["render"],markup:["render"],attrs:["update"],size:["resize","ports","tools"],angle:["rotate","tools"],position:["translate","tools"],ports:["ports"],tools:["tools"]}}),ai.registry.register("node",ai,!0);class bs extends ln{constructor(){super(...arguments),this.POINT_ROUNDING=2}get[Symbol.toStringTag](){return bs.toStringTag}getContainerClassName(){return[super.getContainerClassName(),this.prefixClassName("edge")].join(" ")}get sourceBBox(){const t=this.sourceView;if(!t){const n=this.cell.getSource();return new st(n.x,n.y)}const e=this.sourceMagnet;return t.isEdgeElement(e)?new st(this.sourceAnchor.x,this.sourceAnchor.y):t.getBBoxOfElement(e||t.container)}get targetBBox(){const t=this.targetView;if(!t){const n=this.cell.getTarget();return new st(n.x,n.y)}const e=this.targetMagnet;return t.isEdgeElement(e)?new st(this.targetAnchor.x,this.targetAnchor.y):t.getBBoxOfElement(e||t.container)}isEdgeView(){return!0}confirmUpdate(t,e={}){let n=t;if(this.hasAction(n,"source")){if(!this.updateTerminalProperties("source"))return n;n=this.removeAction(n,"source")}if(this.hasAction(n,"target")){if(!this.updateTerminalProperties("target"))return n;n=this.removeAction(n,"target")}const i=this.graph,s=this.sourceView,a=this.targetView;return i&&(s&&!i.renderer.isViewMounted(s)||a&&!i.renderer.isViewMounted(a))?n:this.hasAction(n,"render")?(this.render(),n=this.removeAction(n,["render","update","labels","tools"]),n):(n=this.handleAction(n,"update",()=>this.update(e)),n=this.handleAction(n,"labels",()=>this.onLabelsChange(e)),n=this.handleAction(n,"tools",()=>this.renderTools()),n)}render(){return this.empty(),this.renderMarkup(),this.labelContainer=null,this.renderLabels(),this.update(),this.renderTools(),this}renderMarkup(){const t=this.cell.markup;if(t){if(typeof t=="string")throw new TypeError("Not support string markup.");return this.renderJSONMarkup(t)}throw new TypeError("Invalid edge markup.")}renderJSONMarkup(t){const e=this.parseJSONMarkup(t,this.container);this.selectors=e.selectors,this.container.append(e.fragment)}customizeLabels(){if(this.labelContainer){const t=this.cell,e=t.labels;for(let n=0,i=e.length;n<i;n+=1){const s=e[n],a=this.labelCache[n],l=this.labelSelectors[n],u=this.graph.options.onEdgeLabelRendered;u&&u({edge:t,label:s,container:a,selectors:l})}}}renderLabels(){const t=this.cell,e=t.getLabels(),n=e.length;let i=this.labelContainer;if(this.labelCache={},this.labelSelectors={},n<=0)return i&&i.parentNode&&i.parentNode.removeChild(i),this;i?this.empty(i):(i=gs("g"),this.addClass(this.prefixClassName("edge-labels"),i),this.labelContainer=i);for(let s=0,a=e.length;s<a;s+=1){const l=e[s],u=this.normalizeLabelMarkup(this.parseLabelMarkup(l.markup));let h,d;if(u)h=u.node,d=u.selectors;else{const p=t.getDefaultLabel(),m=this.normalizeLabelMarkup(this.parseLabelMarkup(p.markup));h=m.node,d=m.selectors}h.setAttribute("data-index",`${s}`),i.appendChild(h);const g=this.rootSelector;if(d[g])throw new Error("Ambiguous label root selector.");d[g]=h,this.labelCache[s]=h,this.labelSelectors[s]=d}return i.parentNode==null&&this.container.appendChild(i),this.updateLabels(),this.customizeLabels(),this}onLabelsChange(t={}){this.shouldRerenderLabels(t)?this.renderLabels():this.updateLabels(),this.updateLabelPositions()}shouldRerenderLabels(t={}){const e=this.cell.previous("labels");if(e==null)return!0;if("propertyPathArray"in t&&"propertyValue"in t){const n=t.propertyPathArray||[],i=n.length;if(i>1){const s=n[1];if(e[s]){if(i===2)return typeof t.propertyValue=="object"&&pn(t.propertyValue,"markup");if(n[2]!=="markup")return!1}}}return!0}parseLabelMarkup(t){return t?typeof t=="string"?this.parseLabelStringMarkup(t):this.parseJSONMarkup(t):null}parseLabelStringMarkup(t){const e=_t.createVectors(t),n=document.createDocumentFragment();for(let i=0,s=e.length;i<s;i+=1){const a=e[i].node;n.appendChild(a)}return{fragment:n,selectors:{}}}normalizeLabelMarkup(t){if(t==null)return;const e=t.fragment;if(!(e instanceof DocumentFragment)||!e.hasChildNodes())throw new Error("Invalid label markup.");let n;const i=e.childNodes;return i.length>1||i[0].nodeName.toUpperCase()!=="G"?n=_t.create("g").append(e):n=_t.create(i[0]),n.addClass(this.prefixClassName("edge-label")),{node:n.node,selectors:t.selectors}}updateLabels(){if(this.labelContainer){const t=this.cell,e=t.labels,n=this.can("edgeLabelMovable"),i=t.getDefaultLabel();for(let s=0,a=e.length;s<a;s+=1){const l=this.labelCache[s],u=this.labelSelectors[s];l.setAttribute("cursor",n?"move":"default");const h=e[s],d=Ee({},i.attrs,h.attrs);this.updateAttrs(l,d,{selectors:u,rootBBox:h.size?st.fromSize(h.size):void 0})}}}renderTools(){const t=this.cell.getTools();return this.addTools(t),this}update(t={}){this.cleanCache(),this.updateConnection(t);const e=this.cell.getAttrs();return e!=null&&this.updateAttrs(this.container,e,{selectors:this.selectors}),this.updateLabelPositions(),this.updateTools(t),this}removeRedundantLinearVertices(t={}){const e=this.cell,n=e.getVertices(),i=[this.sourceAnchor,...n,this.targetAnchor],s=i.length,a=new Xe(i);a.simplify({threshold:.01});const l=a.points.map(h=>h.toJSON()),u=l.length;return s===u?0:(e.setVertices(l.slice(1,u-1),t),s-u)}getTerminalView(t){switch(t){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error(`Unknown terminal type '${t}'`)}}getTerminalAnchor(t){switch(t){case"source":return B.create(this.sourceAnchor);case"target":return B.create(this.targetAnchor);default:throw new Error(`Unknown terminal type '${t}'`)}}getTerminalConnectionPoint(t){switch(t){case"source":return B.create(this.sourcePoint);case"target":return B.create(this.targetPoint);default:throw new Error(`Unknown terminal type '${t}'`)}}getTerminalMagnet(t,e={}){switch(t){case"source":{if(e.raw)return this.sourceMagnet;const n=this.sourceView;return n?this.sourceMagnet||n.container:null}case"target":{if(e.raw)return this.targetMagnet;const n=this.targetView;return n?this.targetMagnet||n.container:null}default:throw new Error(`Unknown terminal type '${t}'`)}}updateConnection(t={}){const e=this.cell;if(t.translateBy&&e.isFragmentDescendantOf(t.translateBy)){const n=t.tx||0,i=t.ty||0;this.routePoints=new Xe(this.routePoints).translate(n,i).points,this.translateConnectionPoints(n,i),this.path.translate(n,i)}else{const n=e.getVertices(),i=this.findAnchors(n);this.sourceAnchor=i.source,this.targetAnchor=i.target,this.routePoints=this.findRoutePoints(n);const s=this.findConnectionPoints(this.routePoints,this.sourceAnchor,this.targetAnchor);this.sourcePoint=s.source,this.targetPoint=s.target;const a=this.findMarkerPoints(this.routePoints,this.sourcePoint,this.targetPoint);this.path=this.findPath(this.routePoints,a.source||this.sourcePoint,a.target||this.targetPoint)}this.cleanCache()}findAnchors(t){const e=this.cell,n=e.source,i=e.target,s=t[0],a=t[t.length-1];return i.priority&&!n.priority?this.findAnchorsOrdered("target",a,"source",s):this.findAnchorsOrdered("source",s,"target",a)}findAnchorsOrdered(t,e,n,i){let s,a;const l=this.cell,u=l[t],h=l[n],d=this.getTerminalView(t),g=this.getTerminalView(n),p=this.getTerminalMagnet(t),m=this.getTerminalMagnet(n);if(d){let x;e?x=B.create(e):g?x=m:x=B.create(h),s=this.getAnchor(u.anchor,d,p,x,t)}else s=B.create(u);if(g){const x=B.create(i||s);a=this.getAnchor(h.anchor,g,m,x,n)}else a=B.isPointLike(h)?B.create(h):new B;return{[t]:s,[n]:a}}getAnchor(t,e,n,i,s){const a=e.isEdgeElement(n),l=this.graph.options.connecting;let u=typeof t=="string"?{name:t}:t;if(!u){const g=a?(s==="source"?l.sourceEdgeAnchor:l.targetEdgeAnchor)||l.edgeAnchor:(s==="source"?l.sourceAnchor:l.targetAnchor)||l.anchor;u=typeof g=="string"?{name:g}:g}if(!u)throw new Error("Anchor should be specified.");let h;const d=u.name;if(a){const g=Wl.registry.get(d);if(typeof g!="function")return Wl.registry.onNotFound(d);h=xt(g,this,e,n,i,u.args||{},s)}else{const g=Hl.registry.get(d);if(typeof g!="function")return Hl.registry.onNotFound(d);h=xt(g,this,e,n,i,u.args||{},s)}return h?h.round(this.POINT_ROUNDING):new B}findRoutePoints(t=[]){const e=this.graph.options.connecting.router||ao.presets.normal,n=this.cell.getRouter()||e;let i;if(typeof n=="function")i=xt(n,this,t,{},this);else{const s=typeof n=="string"?n:n.name,a=typeof n=="string"?{}:n.args||{},l=s?ao.registry.get(s):ao.presets.normal;if(typeof l!="function")return ao.registry.onNotFound(s);i=xt(l,this,t,a,this)}return i==null?t.map(s=>B.create(s)):i.map(s=>B.create(s))}findConnectionPoints(t,e,n){const i=this.cell,s=this.graph.options.connecting,a=i.getSource(),l=i.getTarget(),u=this.sourceView,h=this.targetView,d=t[0],g=t[t.length-1];let p;if(u&&!u.isEdgeElement(this.sourceMagnet)){const x=this.sourceMagnet||u.container,C=d||n,O=new ft(C,e),R=a.connectionPoint||s.sourceConnectionPoint||s.connectionPoint;p=this.getConnectionPoint(R,u,x,O,"source")}else p=e;let m;if(h&&!h.isEdgeElement(this.targetMagnet)){const x=this.targetMagnet||h.container,C=l.connectionPoint||s.targetConnectionPoint||s.connectionPoint,O=g||e,R=new ft(O,n);m=this.getConnectionPoint(C,h,x,R,"target")}else m=n;return{source:p,target:m}}getConnectionPoint(t,e,n,i,s){const a=i.end;if(t==null)return a;const l=typeof t=="string"?t:t.name,u=typeof t=="string"?{}:t.args,h=Gl.registry.get(l);if(typeof h!="function")return Gl.registry.onNotFound(l);const d=xt(h,this,i,e,n,u||{},s);return d?d.round(this.POINT_ROUNDING):a}findMarkerPoints(t,e,n){const i=g=>{const p=this.cell.getAttrs(),m=Object.keys(p);for(let x=0,C=m.length;x<C;x+=1){const O=p[m[x]];if(O[`${g}Marker`]||O[`${g}-marker`]){const R=O.strokeWidth||O["stroke-width"];if(R)return parseFloat(R);break}}return null},s=t[0],a=t[t.length-1];let l,u;const h=i("source");h&&(l=e.clone().move(s||n,-h));const d=i("target");return d&&(u=n.clone().move(a||e,-d)),this.sourceMarkerPoint=l||e.clone(),this.targetMarkerPoint=u||n.clone(),{source:l,target:u}}findPath(t,e,n){const i=this.cell.getConnector()||this.graph.options.connecting.connector;let s,a,l;if(typeof i=="string"?s=i:(s=i.name,a=i.args),s){const h=ha.registry.get(s);if(typeof h!="function")return ha.registry.onNotFound(s);l=h}else l=ha.presets.normal;const u=xt(l,this,e,n,t,Object.assign(Object.assign({},a),{raw:!0}),this);return typeof u=="string"?bt.parse(u):u}translateConnectionPoints(t,e){this.sourcePoint.translate(t,e),this.targetPoint.translate(t,e),this.sourceAnchor.translate(t,e),this.targetAnchor.translate(t,e),this.sourceMarkerPoint.translate(t,e),this.targetMarkerPoint.translate(t,e)}updateLabelPositions(){if(this.labelContainer==null)return this;if(!this.path)return this;const e=this.cell,n=e.getLabels();if(n.length===0)return this;const i=e.getDefaultLabel(),s=this.normalizeLabelPosition(i.position);for(let a=0,l=n.length;a<l;a+=1){const u=n[a],h=this.normalizeLabelPosition(u.position),d=Ee({},s,h),g=this.getLabelTransformationMatrix(d);this.labelCache[a].setAttribute("transform",Il(g))}return this}updateTerminalProperties(t){const e=this.cell,n=this.graph,i=e[t],s=i&&i.cell,a=`${t}View`;if(!s)return this[a]=null,this.updateTerminalMagnet(t),!0;const l=n.getCellById(s);if(!l)throw new Error(`Edge's ${t} node with id "${s}" not exists`);const u=l.findView(n);return u?(this[a]=u,this.updateTerminalMagnet(t),!0):!1}updateTerminalMagnet(t){const e=`${t}Magnet`,n=this.getTerminalView(t);if(n){let i=n.getMagnetFromEdgeTerminal(this.cell[t]);i===n.container&&(i=null),this[e]=i}else this[e]=null}getLabelPositionAngle(t){const e=this.cell.getLabelAt(t);return e&&e.position&&typeof e.position=="object"&&e.position.angle||0}getLabelPositionArgs(t){const e=this.cell.getLabelAt(t);if(e&&e.position&&typeof e.position=="object")return e.position.options}getDefaultLabelPositionArgs(){const t=this.cell.getDefaultLabel();if(t&&t.position&&typeof t.position=="object")return t.position.options}mergeLabelPositionArgs(t,e){return t===null?null:t===void 0?e===null?null:e:Ee({},e,t)}getConnection(){return this.path!=null?this.path.clone():null}getConnectionPathData(){if(this.path==null)return"";const t=this.cache.pathCache;return pn(t,"data")||(t.data=this.path.serialize()),t.data||""}getConnectionSubdivisions(){if(this.path==null)return null;const t=this.cache.pathCache;return pn(t,"segmentSubdivisions")||(t.segmentSubdivisions=this.path.getSegmentSubdivisions()),t.segmentSubdivisions}getConnectionLength(){if(this.path==null)return 0;const t=this.cache.pathCache;return pn(t,"length")||(t.length=this.path.length({segmentSubdivisions:this.getConnectionSubdivisions()})),t.length}getPointAtLength(t){return this.path==null?null:this.path.pointAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getPointAtRatio(t){return this.path==null?null:(ds(t)&&(t=parseFloat(t)/100),this.path.pointAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()}))}getTangentAtLength(t){return this.path==null?null:this.path.tangentAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getTangentAtRatio(t){return this.path==null?null:this.path.tangentAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPoint(t){return this.path==null?null:this.path.closestPoint(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointLength(t){return this.path==null?null:this.path.closestPointLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointRatio(t){return this.path==null?null:this.path.closestPointNormalizedLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getLabelPosition(t,e,n,i){const s={distance:0};let a=0,l;typeof n=="number"?(a=n,l=i):l=n,l!=null&&(s.options=l);const u=l&&l.absoluteOffset,h=!(l&&l.absoluteDistance),d=l&&l.absoluteDistance&&l.reverseDistance,g=this.path,p={segmentSubdivisions:this.getConnectionSubdivisions()},m=new B(t,e),x=g.closestPointT(m,p),C=this.getConnectionLength()||0;let O=g.lengthAtT(x,p);h&&(O=C>0?O/C:0),d&&(O=-1*(C-O)||1),s.distance=O;let R;u||(R=g.tangentAtT(x));let L;if(R)L=R.pointOffset(m);else{const M=g.pointAtT(x),k=m.diff(M);L={x:k.x,y:k.y}}return s.offset=L,s.angle=a,s}normalizeLabelPosition(t){return typeof t=="number"?{distance:t}:t}getLabelTransformationMatrix(t){const e=this.normalizeLabelPosition(t),n=e.options||{},i=e.angle||0,s=e.distance,a=s>0&&s<=1;let l=0;const u={x:0,y:0},h=e.offset;h&&(typeof h=="number"?l=h:(h.x!=null&&(u.x=h.x),h.y!=null&&(u.y=h.y)));const d=u.x!==0||u.y!==0||l===0,g=n.keepGradient,p=n.ensureLegibility,m=this.path,x={segmentSubdivisions:this.getConnectionSubdivisions()},C=a?s*this.getConnectionLength():s,O=m.tangentAtLength(C,x);let R,L=i;if(O){if(d)R=O.start,R.translate(u);else{const M=O.clone();M.rotate(-90,O.start),M.setLength(l),R=M.end}g&&(L=O.angle()+i,p&&(L=we.normalize((L+90)%180-90)))}else R=m.start,d&&R.translate(u);return bn().translate(R.x,R.y).rotate(L)}getVertexIndex(t,e){const i=this.cell.getVertices(),s=this.getClosestPointLength(new B(t,e));let a=0;if(s!=null)for(const l=i.length;a<l;a+=1){const u=i[a],h=this.getClosestPointLength(u);if(h!=null&&s<h)break}return a}getEventArgs(t,e,n){const i=this,s=i.cell,a=s;return e==null||n==null?{e:t,view:i,edge:s,cell:a}:{e:t,x:e,y:n,view:i,edge:s,cell:a}}notifyUnhandledMouseDown(t,e,n){this.notify("edge:unhandled:mousedown",{e:t,x:e,y:n,view:this,cell:this.cell,edge:this.cell})}notifyMouseDown(t,e,n){super.onMouseDown(t,e,n),this.notify("edge:mousedown",this.getEventArgs(t,e,n))}notifyMouseMove(t,e,n){super.onMouseMove(t,e,n),this.notify("edge:mousemove",this.getEventArgs(t,e,n))}notifyMouseUp(t,e,n){super.onMouseUp(t,e,n),this.notify("edge:mouseup",this.getEventArgs(t,e,n))}onClick(t,e,n){super.onClick(t,e,n),this.notify("edge:click",this.getEventArgs(t,e,n))}onDblClick(t,e,n){super.onDblClick(t,e,n),this.notify("edge:dblclick",this.getEventArgs(t,e,n))}onContextMenu(t,e,n){super.onContextMenu(t,e,n),this.notify("edge:contextmenu",this.getEventArgs(t,e,n))}onMouseDown(t,e,n){this.notifyMouseDown(t,e,n),this.startEdgeDragging(t,e,n)}onMouseMove(t,e,n){const i=this.getEventData(t);switch(i.action){case"drag-label":{this.dragLabel(t,e,n);break}case"drag-arrowhead":{this.dragArrowhead(t,e,n);break}case"drag-edge":{this.dragEdge(t,e,n);break}default:break}return this.notifyMouseMove(t,e,n),i}onMouseUp(t,e,n){const i=this.getEventData(t);switch(i.action){case"drag-label":{this.stopLabelDragging(t,e,n);break}case"drag-arrowhead":{this.stopArrowheadDragging(t,e,n);break}case"drag-edge":{this.stopEdgeDragging(t,e,n);break}default:break}return this.notifyMouseUp(t,e,n),this.checkMouseleave(t),i}onMouseOver(t){super.onMouseOver(t),this.notify("edge:mouseover",this.getEventArgs(t))}onMouseOut(t){super.onMouseOut(t),this.notify("edge:mouseout",this.getEventArgs(t))}onMouseEnter(t){super.onMouseEnter(t),this.notify("edge:mouseenter",this.getEventArgs(t))}onMouseLeave(t){super.onMouseLeave(t),this.notify("edge:mouseleave",this.getEventArgs(t))}onMouseWheel(t,e,n,i){super.onMouseWheel(t,e,n,i),this.notify("edge:mousewheel",Object.assign({delta:i},this.getEventArgs(t,e,n)))}onCustomEvent(t,e,n,i){if(jb(t.target,"edge-tool",this.container)){if(t.stopPropagation(),this.can("useEdgeTools")){if(e==="edge:remove"){this.cell.remove({ui:!0});return}this.notify("edge:customevent",Object.assign({name:e},this.getEventArgs(t,n,i)))}this.notifyMouseDown(t,n,i)}else this.notify("edge:customevent",Object.assign({name:e},this.getEventArgs(t,n,i))),super.onCustomEvent(t,e,n,i)}onLabelMouseDown(t,e,n){this.notifyMouseDown(t,e,n),this.startLabelDragging(t,e,n),this.getEventData(t).stopPropagation&&t.stopPropagation()}startEdgeDragging(t,e,n){if(!this.can("edgeMovable")){this.notifyUnhandledMouseDown(t,e,n);return}this.setEventData(t,{x:e,y:n,moving:!1,action:"drag-edge"})}dragEdge(t,e,n){const i=this.getEventData(t);i.moving||(i.moving=!0,this.addClass("edge-moving"),this.notify("edge:move",{e:t,x:e,y:n,view:this,cell:this.cell,edge:this.cell})),this.cell.translate(e-i.x,n-i.y,{ui:!0}),this.setEventData(t,{x:e,y:n}),this.notify("edge:moving",{e:t,x:e,y:n,view:this,cell:this.cell,edge:this.cell})}stopEdgeDragging(t,e,n){const i=this.getEventData(t);i.moving&&(this.removeClass("edge-moving"),this.notify("edge:moved",{e:t,x:e,y:n,view:this,cell:this.cell,edge:this.cell})),i.moving=!1}prepareArrowheadDragging(t,e){const n=this.getTerminalMagnet(t),i={action:"drag-arrowhead",x:e.x,y:e.y,isNewEdge:e.isNewEdge===!0,terminalType:t,initialMagnet:n,initialTerminal:Ou(this.cell[t]),fallbackAction:e.fallbackAction||"revert",getValidateConnectionArgs:this.createValidateConnectionArgs(t),options:e.options};return this.beforeArrowheadDragging(i),i}createValidateConnectionArgs(t){const e=[];e[4]=t,e[5]=this;let n,i=0,s=0;t==="source"?(i=2,n="target"):(s=2,n="source");const a=this.cell[n],l=a.cell;if(l){let u;const h=e[i]=this.graph.findViewByCell(l);h&&(u=h.getMagnetFromEdgeTerminal(a),u===h.container&&(u=void 0)),e[i+1]=u}return(u,h)=>(e[s]=u,e[s+1]=u.container===h?void 0:h,e)}beforeArrowheadDragging(t){t.zIndex=this.cell.zIndex,this.cell.toFront();const e=this.container.style;t.pointerEvents=e.pointerEvents,e.pointerEvents="none",this.graph.options.connecting.highlight&&this.highlightAvailableMagnets(t)}afterArrowheadDragging(t){t.zIndex!=null&&(this.cell.setZIndex(t.zIndex,{ui:!0}),t.zIndex=null);const e=this.container;e.style.pointerEvents=t.pointerEvents||"",this.graph.options.connecting.highlight&&this.unhighlightAvailableMagnets(t)}validateConnection(t,e,n,i,s,a,l){const u=this.graph.options.connecting,h=u.allowLoop,d=u.allowNode,g=u.allowEdge,p=u.allowPort,m=u.allowMulti,x=u.validateConnection,C=a?a.cell:null,O=s==="target"?n:t,R=s==="target"?i:e;let L=!0;const M=k=>{const z=s==="source"?l?l.port:null:C?C.getSourcePortId():null,H=s==="target"?l?l.port:null:C?C.getTargetPortId():null;return xt(k,this.graph,{edge:C,edgeView:a,sourceView:t,targetView:n,sourcePort:z,targetPort:H,sourceMagnet:e,targetMagnet:i,sourceCell:t?t.cell:null,targetCell:n?n.cell:null,type:s})};if(h!=null&&(typeof h=="boolean"?!h&&t===n&&(L=!1):L=M(h)),L&&p!=null&&(typeof p=="boolean"?!p&&R&&(L=!1):L=M(p)),L&&g!=null&&(typeof g=="boolean"?!g&&bs.isEdgeView(O)&&(L=!1):L=M(g)),L&&d!=null&&R==null&&(typeof d=="boolean"?!d&&ai.isNodeView(O)&&(L=!1):L=M(d)),L&&m!=null&&a){const k=a.cell,z=s==="source"?l:k.getSource(),H=s==="target"?l:k.getTarget(),K=l?this.graph.getCellById(l.cell):null;if(z&&H&&z.cell&&H.cell&&K)if(typeof m=="function")L=M(m);else{const rt=this.graph.model.getConnectedEdges(K,{outgoing:s==="source",incoming:s==="target"});rt.length&&(m==="withPort"?rt.some(gt=>{const ot=gt.getSource(),pt=gt.getTarget();return ot&&pt&&ot.cell===z.cell&&pt.cell===H.cell&&ot.port!=null&&ot.port===z.port&&pt.port!=null&&pt.port===H.port})&&(L=!1):m||rt.some(gt=>{const ot=gt.getSource(),pt=gt.getTarget();return ot&&pt&&ot.cell===z.cell&&pt.cell===H.cell})&&(L=!1))}}return L&&x!=null&&(L=M(x)),L}allowConnectToBlank(t){const e=this.graph,i=e.options.connecting.allowBlank;if(typeof i!="function")return!!i;const s=e.findViewByCell(t),a=t.getSourceCell(),l=t.getTargetCell(),u=e.findViewByCell(a),h=e.findViewByCell(l);return xt(i,e,{edge:t,edgeView:s,sourceCell:a,targetCell:l,sourceView:u,targetView:h,sourcePort:t.getSourcePortId(),targetPort:t.getTargetPortId(),sourceMagnet:s.sourceMagnet,targetMagnet:s.targetMagnet})}validateEdge(t,e,n){const i=this.graph;if(!this.allowConnectToBlank(t)){const a=t.getSourceCellId(),l=t.getTargetCellId();if(!(a&&l))return!1}const s=i.options.connecting.validateEdge;return s?xt(s,i,{edge:t,type:e,previous:n}):!0}arrowheadDragging(t,e,n,i){i.x=e,i.y=n,i.currentTarget!==t&&(i.currentMagnet&&i.currentView&&i.currentView.unhighlight(i.currentMagnet,{type:"magnetAdsorbed"}),i.currentView=this.graph.findViewByElem(t),i.currentView?(i.currentMagnet=i.currentView.findMagnet(t),i.currentMagnet&&this.validateConnection(...i.getValidateConnectionArgs(i.currentView,i.currentMagnet),i.currentView.getEdgeTerminal(i.currentMagnet,e,n,this.cell,i.terminalType))?i.currentView.highlight(i.currentMagnet,{type:"magnetAdsorbed"}):i.currentMagnet=null):i.currentMagnet=null),i.currentTarget=t,this.cell.prop(i.terminalType,{x:e,y:n},Object.assign(Object.assign({},i.options),{ui:!0}))}arrowheadDragged(t,e,n){const i=t.currentView,s=t.currentMagnet;if(!s||!i)return;i.unhighlight(s,{type:"magnetAdsorbed"});const a=t.terminalType,l=i.getEdgeTerminal(s,e,n,this.cell,a);this.cell.setTerminal(a,l,{ui:!0})}snapArrowhead(t,e,n){const i=this.graph,{snap:s,allowEdge:a}=i.options.connecting,l=typeof s=="object"&&s.radius||50,u=i.renderer.findViewsInArea({x:t-l,y:e-l,width:2*l,height:2*l},{nodeOnly:!0});if(a){const M=i.renderer.findEdgeViewsFromPoint({x:t,y:e},l).filter(k=>k!==this);u.push(...M)}const h=n.closestView||null,d=n.closestMagnet||null;n.closestView=null,n.closestMagnet=null;let g,p=Number.MAX_SAFE_INTEGER;const m=new B(t,e);u.forEach(M=>{if(M.container.getAttribute("magnet")!=="false"){if(M.isNodeView())g=M.cell.getBBox().getCenter().distance(m);else if(M.isEdgeView()){const k=M.getClosestPoint(m);k?g=k.distance(m):g=Number.MAX_SAFE_INTEGER}g<l&&g<p&&(d===M.container||this.validateConnection(...n.getValidateConnectionArgs(M,null),M.getEdgeTerminal(M.container,t,e,this.cell,n.terminalType)))&&(p=g,n.closestView=M,n.closestMagnet=M.container)}M.container.querySelectorAll("[magnet]").forEach(k=>{if(k.getAttribute("magnet")!=="false"){const z=M.getBBoxOfElement(k);g=m.distance(z.getCenter()),g<l&&g<p&&(d===k||this.validateConnection(...n.getValidateConnectionArgs(M,k),M.getEdgeTerminal(k,t,e,this.cell,n.terminalType)))&&(p=g,n.closestView=M,n.closestMagnet=k)}})});let x;const C=n.terminalType,O=n.closestView,R=n.closestMagnet,L=d!==R;if(h&&L&&h.unhighlight(d,{type:"magnetAdsorbed"}),O){if(!L)return;O.highlight(R,{type:"magnetAdsorbed"}),x=O.getEdgeTerminal(R,t,e,this.cell,C)}else x={x:t,y:e};this.cell.setTerminal(C,x,{},Object.assign(Object.assign({},n.options),{ui:!0}))}snapArrowheadEnd(t){const e=t.closestView,n=t.closestMagnet;e&&n&&(e.unhighlight(n,{type:"magnetAdsorbed"}),t.currentMagnet=e.findMagnet(n)),t.closestView=null,t.closestMagnet=null}finishEmbedding(t){this.graph.options.embedding.enabled&&this.cell.updateParent()&&(t.zIndex=null)}fallbackConnection(t){switch(t.fallbackAction){case"remove":this.cell.remove({ui:!0});break;case"revert":default:this.cell.prop(t.terminalType,t.initialTerminal,{ui:!0});break}}notifyConnectionEvent(t,e){const n=t.terminalType,i=t.initialTerminal,s=this.cell[n];if(s&&!Ie.equalTerminals(i,s)){const l=this.graph,u=i,h=u.cell?l.getCellById(u.cell):null,d=u.port,g=h?l.findViewByCell(h):null,p=h||t.isNewEdge?null:B.create(i).toJSON(),m=s,x=m.cell?l.getCellById(m.cell):null,C=m.port,O=x?l.findViewByCell(x):null,R=x?null:B.create(s).toJSON();this.notify("edge:connected",{e,previousCell:h,previousPort:d,previousView:g,previousPoint:p,currentCell:x,currentView:O,currentPort:C,currentPoint:R,previousMagnet:t.initialMagnet,currentMagnet:t.currentMagnet,edge:this.cell,view:this,type:n,isNew:t.isNewEdge})}}highlightAvailableMagnets(t){const e=this.graph,n=e.model.getCells();t.marked={};for(let i=0,s=n.length;i<s;i+=1){const a=e.findViewByCell(n[i]);if(!a||a.cell.id===this.cell.id)continue;const l=Array.prototype.slice.call(a.container.querySelectorAll("[magnet]"));a.container.getAttribute("magnet")!=="false"&&l.push(a.container);const u=l.filter(h=>this.validateConnection(...t.getValidateConnectionArgs(a,h),a.getEdgeTerminal(h,t.x,t.y,this.cell,t.terminalType)));if(u.length>0){for(let h=0,d=u.length;h<d;h+=1)a.highlight(u[h],{type:"magnetAvailable"});a.highlight(null,{type:"nodeAvailable"}),t.marked[a.cell.id]=u}}}unhighlightAvailableMagnets(t){const e=t.marked||{};Object.keys(e).forEach(n=>{const i=this.graph.findViewByCell(n);i&&(e[n].forEach(a=>{i.unhighlight(a,{type:"magnetAvailable"})}),i.unhighlight(null,{type:"nodeAvailable"}))}),t.marked=null}startArrowheadDragging(t,e,n){if(!this.can("arrowheadMovable")){this.notifyUnhandledMouseDown(t,e,n);return}const s=t.target.getAttribute("data-terminal"),a=this.prepareArrowheadDragging(s,{x:e,y:n});this.setEventData(t,a)}dragArrowhead(t,e,n){const i=this.getEventData(t);this.graph.options.connecting.snap?this.snapArrowhead(e,n,i):this.arrowheadDragging(this.getEventTarget(t),e,n,i)}stopArrowheadDragging(t,e,n){const i=this.graph,s=this.getEventData(t);i.options.connecting.snap?this.snapArrowheadEnd(s):this.arrowheadDragged(s,e,n),this.validateEdge(this.cell,s.terminalType,s.initialTerminal)?(this.finishEmbedding(s),this.notifyConnectionEvent(s,t)):this.fallbackConnection(s),this.afterArrowheadDragging(s)}startLabelDragging(t,e,n){if(this.can("edgeLabelMovable")){const i=t.currentTarget,s=parseInt(i.getAttribute("data-index"),10),a=this.getLabelPositionAngle(s),l=this.getLabelPositionArgs(s),u=this.getDefaultLabelPositionArgs(),h=this.mergeLabelPositionArgs(l,u);this.setEventData(t,{index:s,positionAngle:a,positionArgs:h,stopPropagation:!0,action:"drag-label"})}else this.setEventData(t,{stopPropagation:!0});this.graph.view.delegateDragEvents(t,this)}dragLabel(t,e,n){const i=this.getEventData(t),s=this.cell.getLabelAt(i.index),a=Ee({},s,{position:this.getLabelPosition(e,n,i.positionAngle,i.positionArgs)});this.cell.setLabelAt(i.index,a)}stopLabelDragging(t,e,n){}}(function(r){r.toStringTag=`X6.${r.name}`;function t(e){if(e==null)return!1;if(e instanceof r)return!0;const n=e[Symbol.toStringTag],i=e;return(n==null||n===r.toStringTag)&&typeof i.isNodeView=="function"&&typeof i.isEdgeView=="function"&&typeof i.confirmUpdate=="function"&&typeof i.update=="function"&&typeof i.getConnection=="function"}r.isEdgeView=t})(bs||(bs={})),bs.config({isSvgElement:!0,priority:1,bootstrap:["render","source","target"],actions:{view:["render"],markup:["render"],attrs:["update"],source:["source","update"],target:["target","update"],router:["update"],connector:["update"],labels:["labels"],defaultLabel:["labels"],tools:["tools"],vertices:["vertices","update"]}}),bs.registry.register("edge",bs,!0);var XA=function(r,t,e,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(a=r[l])&&(s=(i<3?a(s):i>3?a(t,e,s):a(t,e))||s);return i>3&&s&&Object.defineProperty(t,e,s),s};class Bi extends Re{get options(){return this.graph.options}constructor(t){super(),this.graph=t;const{selectors:e,fragment:n}=Oe.parseJSONMarkup(Bi.markup);this.background=e.background,this.grid=e.grid,this.svg=e.svg,this.defs=e.defs,this.viewport=e.viewport,this.primer=e.primer,this.stage=e.stage,this.decorator=e.decorator,this.overlay=e.overlay,this.container=this.options.container,this.restore=Bi.snapshoot(this.container),se(this.container,this.prefixClassName("graph")),Ku(this.container,n),this.delegateEvents()}delegateEvents(){const t=this.constructor;return super.delegateEvents(t.events),this}guard(t,e){return t.type==="mousedown"&&t.button===2||this.options.guard&&this.options.guard(t,e)?!0:t.data&&t.data.guarded!==void 0?t.data.guarded:!(e&&e.cell&&Gt.isCell(e.cell)||this.svg===t.target||this.container===t.target||this.svg.contains(t.target))}findView(t){return this.graph.findViewByElem(t)}onDblClick(t){this.options.preventDefaultDblClick&&t.preventDefault();const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const i=this.graph.snapToGrid(e.clientX,e.clientY);n?n.onDblClick(e,i.x,i.y):this.graph.trigger("blank:dblclick",{e,x:i.x,y:i.y})}onClick(t){if(this.getMouseMovedCount(t)<=this.options.clickThreshold){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const i=this.graph.snapToGrid(e.clientX,e.clientY);n?n.onClick(e,i.x,i.y):this.graph.trigger("blank:click",{e,x:i.x,y:i.y})}}isPreventDefaultContextMenu(t){let e=this.options.preventDefaultContextMenu;return typeof e=="function"&&(e=xt(e,this.graph,{view:t})),e}onContextMenu(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.isPreventDefaultContextMenu(n)&&t.preventDefault(),this.guard(e,n))return;const i=this.graph.snapToGrid(e.clientX,e.clientY);n?n.onContextMenu(e,i.x,i.y):this.graph.trigger("blank:contextmenu",{e,x:i.x,y:i.y})}delegateDragEvents(t,e){t.data==null&&(t.data={}),this.setEventData(t,{currentView:e||null,mouseMovedCount:0,startPosition:{x:t.clientX,y:t.clientY}});const n=this.constructor;this.delegateDocumentEvents(n.documentEvents,t.data),this.undelegateEvents()}getMouseMovedCount(t){return this.getEventData(t).mouseMovedCount||0}onMouseDown(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;this.options.preventDefaultMouseDown&&t.preventDefault();const i=this.graph.snapToGrid(e.clientX,e.clientY);n?n.onMouseDown(e,i.x,i.y):(this.options.preventDefaultBlankAction&&["touchstart"].includes(e.type)&&t.preventDefault(),this.graph.trigger("blank:mousedown",{e,x:i.x,y:i.y})),this.delegateDragEvents(e,n)}onMouseMove(t){const e=this.getEventData(t),n=e.startPosition;if(n&&n.x===t.clientX&&n.y===t.clientY||(e.mouseMovedCount==null&&(e.mouseMovedCount=0),e.mouseMovedCount+=1,e.mouseMovedCount<=this.options.moveThreshold))return;const s=this.normalizeEvent(t),a=this.graph.snapToGrid(s.clientX,s.clientY),l=e.currentView;l?l.onMouseMove(s,a.x,a.y):this.graph.trigger("blank:mousemove",{e:s,x:a.x,y:a.y}),this.setEventData(s,e)}onMouseUp(t){this.undelegateDocumentEvents();const e=this.normalizeEvent(t),n=this.graph.snapToGrid(e.clientX,e.clientY),s=this.getEventData(t).currentView;if(s?s.onMouseUp(e,n.x,n.y):this.graph.trigger("blank:mouseup",{e,x:n.x,y:n.y}),!t.isPropagationStopped()){const a=new Ni(t,{type:"click",data:t.data});this.onClick(a)}t.stopImmediatePropagation(),this.delegateEvents()}onMouseOver(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(!this.guard(e,n))if(n)n.onMouseOver(e);else{if(this.container===e.target)return;this.graph.trigger("blank:mouseover",{e})}}onMouseOut(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(!this.guard(e,n))if(n)n.onMouseOut(e);else{if(this.container===e.target)return;this.graph.trigger("blank:mouseout",{e})}}onMouseEnter(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const i=this.graph.findViewByElem(e.relatedTarget);if(n){if(i===n)return;n.onMouseEnter(e)}else{if(i)return;this.graph.trigger("graph:mouseenter",{e})}}onMouseLeave(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const i=this.graph.findViewByElem(e.relatedTarget);if(n){if(i===n)return;n.onMouseLeave(e)}else{if(i)return;this.graph.trigger("graph:mouseleave",{e})}}onMouseWheel(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const i=e.originalEvent,s=this.graph.snapToGrid(i.clientX,i.clientY),a=Math.max(-1,Math.min(1,i.wheelDelta||-i.detail));n?n.onMouseWheel(e,s.x,s.y,a):this.graph.trigger("blank:mousewheel",{e,delta:a,x:s.x,y:s.y})}onCustomEvent(t){const e=t.currentTarget,n=e.getAttribute("event")||e.getAttribute("data-event");if(n){const i=this.findView(e);if(i){const s=this.normalizeEvent(t);if(this.guard(s,i))return;const a=this.graph.snapToGrid(s.clientX,s.clientY);i.onCustomEvent(s,n,a.x,a.y)}}}handleMagnetEvent(t,e){const n=t.currentTarget,i=n.getAttribute("magnet");if(i&&i.toLowerCase()!=="false"){const s=this.findView(n);if(s){const a=this.normalizeEvent(t);if(this.guard(a,s))return;const l=this.graph.snapToGrid(a.clientX,a.clientY);xt(e,this.graph,s,a,n,l.x,l.y)}}}onMagnetMouseDown(t){this.handleMagnetEvent(t,(e,n,i,s,a)=>{e.onMagnetMouseDown(n,i,s,a)})}onMagnetDblClick(t){this.handleMagnetEvent(t,(e,n,i,s,a)=>{e.onMagnetDblClick(n,i,s,a)})}onMagnetContextMenu(t){const e=this.findView(t.target);this.isPreventDefaultContextMenu(e)&&t.preventDefault(),this.handleMagnetEvent(t,(n,i,s,a,l)=>{n.onMagnetContextMenu(i,s,a,l)})}onLabelMouseDown(t){const e=t.currentTarget,n=this.findView(e);if(n){const i=this.normalizeEvent(t);if(this.guard(i,n))return;const s=this.graph.snapToGrid(i.clientX,i.clientY);n.onLabelMouseDown(i,s.x,s.y)}}onImageDragStart(){return!1}dispose(){this.undelegateEvents(),this.undelegateDocumentEvents(),this.restore(),this.restore=()=>{}}}XA([Re.dispose()],Bi.prototype,"dispose",null),function(r){const t=`${Rn.prefixCls}-graph`;r.markup=[{ns:vn.xhtml,tagName:"div",selector:"background",className:`${t}-background`},{ns:vn.xhtml,tagName:"div",selector:"grid",className:`${t}-grid`},{ns:vn.svg,tagName:"svg",selector:"svg",className:`${t}-svg`,attrs:{width:"100%",height:"100%","xmlns:xlink":vn.xlink},children:[{tagName:"defs",selector:"defs"},{tagName:"g",selector:"viewport",className:`${t}-svg-viewport`,children:[{tagName:"g",selector:"primer",className:`${t}-svg-primer`},{tagName:"g",selector:"stage",className:`${t}-svg-stage`},{tagName:"g",selector:"decorator",className:`${t}-svg-decorator`},{tagName:"g",selector:"overlay",className:`${t}-svg-overlay`}]}]}];function e(n){const i=n.cloneNode();return n.childNodes.forEach(s=>i.appendChild(s)),()=>{for(Zu(n);n.attributes.length>0;)n.removeAttribute(n.attributes[0].name);for(let s=0,a=i.attributes.length;s<a;s+=1){const l=i.attributes[s];n.setAttribute(l.name,l.value)}i.childNodes.forEach(s=>n.appendChild(s))}}r.snapshoot=e}(Bi||(Bi={})),function(r){const t=Rn.prefixCls;r.events={dblclick:"onDblClick",contextmenu:"onContextMenu",touchstart:"onMouseDown",mousedown:"onMouseDown",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousewheel:"onMouseWheel",DOMMouseScroll:"onMouseWheel",[`mouseenter  .${t}-cell`]:"onMouseEnter",[`mouseleave  .${t}-cell`]:"onMouseLeave",[`mouseenter  .${t}-cell-tools`]:"onMouseEnter",[`mouseleave  .${t}-cell-tools`]:"onMouseLeave",[`mousedown   .${t}-cell [event]`]:"onCustomEvent",[`touchstart  .${t}-cell [event]`]:"onCustomEvent",[`mousedown   .${t}-cell [data-event]`]:"onCustomEvent",[`touchstart  .${t}-cell [data-event]`]:"onCustomEvent",[`dblclick    .${t}-cell [magnet]`]:"onMagnetDblClick",[`contextmenu .${t}-cell [magnet]`]:"onMagnetContextMenu",[`mousedown   .${t}-cell [magnet]`]:"onMagnetMouseDown",[`touchstart  .${t}-cell [magnet]`]:"onMagnetMouseDown",[`dblclick    .${t}-cell [data-magnet]`]:"onMagnetDblClick",[`contextmenu .${t}-cell [data-magnet]`]:"onMagnetContextMenu",[`mousedown   .${t}-cell [data-magnet]`]:"onMagnetMouseDown",[`touchstart  .${t}-cell [data-magnet]`]:"onMagnetMouseDown",[`dragstart   .${t}-cell image`]:"onImageDragStart",[`mousedown   .${t}-edge .${t}-edge-label`]:"onLabelMouseDown",[`touchstart  .${t}-edge .${t}-edge-label`]:"onLabelMouseDown"},r.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}}(Bi||(Bi={}));const YA=`.x6-graph {
  position: relative;
  outline: none;
  touch-action: none;
}
.x6-graph-background,
.x6-graph-grid,
.x6-graph-svg {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-graph-background-stage,
.x6-graph-grid-stage,
.x6-graph-svg-stage {
  user-select: none;
}
.x6-graph.x6-graph-pannable {
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}
.x6-graph.x6-graph-panning {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
  user-select: none;
}
.x6-node {
  cursor: move;
  /* stylelint-disable-next-line */
}
.x6-node.x6-node-immovable {
  cursor: default;
}
.x6-node * {
  -webkit-user-drag: none;
}
.x6-node .scalable * {
  vector-effect: non-scaling-stroke;
}
.x6-node [magnet='true'] {
  cursor: crosshair;
  transition: opacity 0.3s;
}
.x6-node [magnet='true']:hover {
  opacity: 0.7;
}
.x6-node foreignObject {
  display: block;
  overflow: visible;
  background-color: transparent;
}
.x6-node foreignObject > body {
  position: static;
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  overflow: visible;
  background-color: transparent;
}
.x6-edge .source-marker,
.x6-edge .target-marker {
  vector-effect: non-scaling-stroke;
}
.x6-edge .connection {
  stroke-linejoin: round;
  fill: none;
}
.x6-edge .connection-wrap {
  cursor: move;
  opacity: 0;
  fill: none;
  stroke: #000;
  stroke-width: 15;
  stroke-linecap: round;
  stroke-linejoin: round;
}
.x6-edge .connection-wrap:hover {
  opacity: 0.4;
  stroke-opacity: 0.4;
}
.x6-edge .vertices {
  cursor: move;
  opacity: 0;
}
.x6-edge .vertices .vertex {
  fill: #1abc9c;
}
.x6-edge .vertices .vertex :hover {
  fill: #34495e;
  stroke: none;
}
.x6-edge .vertices .vertex-remove {
  cursor: pointer;
  fill: #fff;
}
.x6-edge .vertices .vertex-remove-area {
  cursor: pointer;
  opacity: 0.1;
}
.x6-edge .vertices .vertex-group:hover .vertex-remove-area {
  opacity: 1;
}
.x6-edge .arrowheads {
  cursor: move;
  opacity: 0;
}
.x6-edge .arrowheads .arrowhead {
  fill: #1abc9c;
}
.x6-edge .arrowheads .arrowhead :hover {
  fill: #f39c12;
  stroke: none;
}
.x6-edge .tools {
  cursor: pointer;
  opacity: 0;
}
.x6-edge .tools .tool-options {
  display: none;
}
.x6-edge .tools .tool-remove circle {
  fill: #f00;
}
.x6-edge .tools .tool-remove path {
  fill: #fff;
}
.x6-edge:hover .vertices,
.x6-edge:hover .arrowheads,
.x6-edge:hover .tools {
  opacity: 1;
}
.x6-highlight-opacity {
  opacity: 0.3;
}
.x6-cell-tool-editor {
  position: relative;
  display: inline-block;
  min-height: 1em;
  margin: 0;
  padding: 0;
  line-height: 1;
  white-space: normal;
  text-align: center;
  vertical-align: top;
  overflow-wrap: normal;
  outline: none;
  transform-origin: 0 0;
  -webkit-user-drag: none;
}
.x6-edge-tool-editor {
  border: 1px solid #275fc5;
  border-radius: 2px;
}
`;class wn extends ge{get options(){return this.graph.options}get model(){return this.graph.model}get view(){return this.graph.view}constructor(t){super(),this.graph=t,this.init()}init(){}}var ZA=function(r,t,e,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(a=r[l])&&(s=(i<3?a(s):i>3?a(t,e,s):a(t,e))||s);return i>3&&s&&Object.defineProperty(t,e,s),s};class lb extends wn{init(){Rn.autoInsertCSS&&c0("core",YA)}dispose(){u0("core")}}ZA([lb.dispose()],lb.prototype,"dispose",null);var KA=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e},bh;(function(r){function t(e){const{grid:n,panning:i,mousewheel:s,embedding:a}=e,l=KA(e,["grid","panning","mousewheel","embedding"]),u=e.container;if(u!=null)l.width==null&&(l.width=u.clientWidth),l.height==null&&(l.height=u.clientHeight);else throw new Error("Ensure the container of the graph is specified and valid");const h=Ee({},r.defaults,l),d={size:10,visible:!1};return typeof n=="number"?h.grid={size:n,visible:!1}:typeof n=="boolean"?h.grid=Object.assign(Object.assign({},d),{visible:n}):h.grid=Object.assign(Object.assign({},d),n),["panning","mousewheel","embedding"].forEach(p=>{const m=e[p];typeof m=="boolean"?h[p].enabled=m:h[p]=Object.assign(Object.assign({},h[p]),m)}),h}r.get=t})(bh||(bh={})),function(r){r.defaults={x:0,y:0,scaling:{min:.01,max:16},grid:{size:10,visible:!1},background:!1,panning:{enabled:!1,eventTypes:["leftMouseDown"]},mousewheel:{enabled:!1,factor:1.2,zoomAtMousePosition:!0},highlighting:{default:{name:"stroke",args:{padding:3}},nodeAvailable:{name:"className",args:{className:Rn.prefix("available-node")}},magnetAvailable:{name:"className",args:{className:Rn.prefix("available-magnet")}}},connecting:{snap:!1,allowLoop:!0,allowNode:!0,allowEdge:!1,allowPort:!0,allowBlank:!0,allowMulti:!0,highlight:!1,anchor:"center",edgeAnchor:"ratio",connectionPoint:"boundary",router:"normal",connector:"normal",validateConnection({type:t,sourceView:e,targetView:n}){return(t==="target"?n:e)!=null},createEdge(){return new GA}},translating:{restrict:!1},embedding:{enabled:!1,findParent:"bbox",frontOnly:!0,validate:()=>!0},moveThreshold:0,clickThreshold:0,magnetThreshold:0,preventDefaultDblClick:!0,preventDefaultMouseDown:!1,preventDefaultContextMenu:!0,preventDefaultBlankAction:!0,interacting:{edgeLabelMovable:!1},async:!0,virtual:!1,guard:()=>!1}}(bh||(bh={}));var QA=function(r,t,e,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(a=r[l])&&(s=(i<3?a(s):i>3?a(t,e,s):a(t,e))||s);return i>3&&s&&Object.defineProperty(t,e,s),s},tC=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e};class cb extends wn{get elem(){return this.view.grid}get grid(){return this.options.grid}init(){this.startListening(),this.draw(this.grid)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}setVisible(t){this.grid.visible!==t&&(this.grid.visible=t,this.update())}getGridSize(){return this.grid.size}setGridSize(t){this.grid.size=Math.max(t,1),this.update()}show(){this.setVisible(!0),this.update()}hide(){this.setVisible(!1),this.update()}clear(){this.elem.style.backgroundImage=""}draw(t){this.clear(),this.instance=null,Object.assign(this.grid,t),this.patterns=this.resolveGrid(t),this.update()}update(t={}){const e=this.grid.size;if(e<=1||!this.grid.visible)return this.clear();const n=this.graph.matrix(),i=this.getInstance(),s=Array.isArray(t)?t:[t];this.patterns.forEach((u,h)=>{const d=`pattern_${h}`,g=n.a||1,p=n.d||1,{update:m,markup:x}=u,C=tC(u,["update","markup"]),O=Object.assign(Object.assign(Object.assign({},C),s[h]),{sx:g,sy:p,ox:n.e||0,oy:n.f||0,width:e*g,height:e*p});i.has(d)||i.add(d,_t.create("pattern",{id:d,patternUnits:"userSpaceOnUse"},_t.createVectors(x)).node);const R=i.get(d);typeof m=="function"&&m(R.childNodes[0],O);let L=O.ox%O.width;L<0&&(L+=O.width);let M=O.oy%O.height;M<0&&(M+=O.height),xe(R,{x:L,y:M,width:O.width,height:O.height})});const a=new XMLSerializer().serializeToString(i.root),l=`url(data:image/svg+xml;base64,${btoa(a)})`;this.elem.style.backgroundImage=l}getInstance(){return this.instance||(this.instance=new to),this.instance}resolveGrid(t){if(!t)return[];const e=t.type;if(e==null)return[Object.assign(Object.assign({},to.presets.dot),t.args)];const n=to.registry.get(e);if(n){let i=t.args||[];return Array.isArray(i)||(i=[i]),Array.isArray(n)?n.map((s,a)=>Object.assign(Object.assign({},s),i[a])):[Object.assign(Object.assign({},n),i[0])]}return to.registry.onNotFound(e)}dispose(){this.stopListening(),this.clear()}}QA([wn.dispose()],cb.prototype,"dispose",null);class mx extends wn{get container(){return this.graph.view.container}get viewport(){return this.graph.view.viewport}get stage(){return this.graph.view.stage}init(){this.resize()}getMatrix(){const t=this.viewport.getAttribute("transform");return t!==this.viewportTransformString&&(this.viewportMatrix=this.viewport.getCTM(),this.viewportTransformString=t),bn(this.viewportMatrix)}setMatrix(t){const e=bn(t),n=Il(e);this.viewport.setAttribute("transform",n),this.viewportMatrix=e,this.viewportTransformString=n}resize(t,e){let n=t===void 0?this.options.width:t,i=e===void 0?this.options.height:e;this.options.width=n,this.options.height=i,typeof n=="number"&&(n=Math.round(n)),typeof i=="number"&&(i=Math.round(i)),this.container.style.width=n==null?"":`${n}px`,this.container.style.height=i==null?"":`${i}px`;const s=this.getComputedSize();return this.graph.trigger("resize",Object.assign({},s)),this}getComputedSize(){let t=this.options.width,e=this.options.height;return vb(t)||(t=this.container.clientWidth),vb(e)||(e=this.container.clientHeight),{width:t,height:e}}getScale(){return bw(this.getMatrix())}scale(t,e=t,n=0,i=0){if(t=this.clampScale(t),e=this.clampScale(e),n||i){const a=this.getTranslation(),l=a.tx-n*(t-1),u=a.ty-i*(e-1);(l!==a.tx||u!==a.ty)&&this.translate(l,u)}const s=this.getMatrix();return s.a=t,s.d=e,this.setMatrix(s),this.graph.trigger("scale",{sx:t,sy:e,ox:n,oy:i}),this}clampScale(t){const e=this.graph.options.scaling;return Tr(t,e.min||.01,e.max||16)}getZoom(){return this.getScale().sx}zoom(t,e){e=e||{};let n=t,i=t;const s=this.getScale(),a=this.getComputedSize();let l=a.width/2,u=a.height/2;if(e.absolute||(n+=s.sx,i+=s.sy),e.scaleGrid&&(n=Math.round(n/e.scaleGrid)*e.scaleGrid,i=Math.round(i/e.scaleGrid)*e.scaleGrid),e.maxScale&&(n=Math.min(e.maxScale,n),i=Math.min(e.maxScale,i)),e.minScale&&(n=Math.max(e.minScale,n),i=Math.max(e.minScale,i)),e.center&&(l=e.center.x,u=e.center.y),n=this.clampScale(n),i=this.clampScale(i),l||u){const h=this.getTranslation(),d=l-(l-h.tx)*(n/s.sx),g=u-(u-h.ty)*(i/s.sy);(d!==h.tx||g!==h.ty)&&this.translate(d,g)}return this.scale(n,i),this}getRotation(){return xw(this.getMatrix())}rotate(t,e,n){if(e==null||n==null){const s=fe.getBBox(this.stage);e=s.width/2,n=s.height/2}const i=this.getMatrix().translate(e,n).rotate(t).translate(-e,-n);return this.setMatrix(i),this}getTranslation(){return ww(this.getMatrix())}translate(t,e){const n=this.getMatrix();n.e=t||0,n.f=e||0,this.setMatrix(n);const i=this.getTranslation();return this.options.x=i.tx,this.options.y=i.ty,this.graph.trigger("translate",Object.assign({},i)),this}setOrigin(t,e){return this.translate(t||0,e||0)}fitToContent(t,e,n,i){if(typeof t=="object"){const M=t;t=M.gridWidth||1,e=M.gridHeight||1,n=M.padding||0,i=M}else t=t||1,e=e||1,n=n||0,i==null&&(i={});const s=ra(n),a=i.border||0,l=i.contentArea?st.create(i.contentArea):this.getContentArea(i);a>0&&l.inflate(a);const u=this.getScale(),h=this.getTranslation(),d=u.sx,g=u.sy;l.x*=d,l.y*=g,l.width*=d,l.height*=g;let p=Math.max(Math.ceil((l.width+l.x)/t),1)*t,m=Math.max(Math.ceil((l.height+l.y)/e),1)*e,x=0,C=0;(i.allowNewOrigin==="negative"&&l.x<0||i.allowNewOrigin==="positive"&&l.x>=0||i.allowNewOrigin==="any")&&(x=Math.ceil(-l.x/t)*t,x+=s.left,p+=x),(i.allowNewOrigin==="negative"&&l.y<0||i.allowNewOrigin==="positive"&&l.y>=0||i.allowNewOrigin==="any")&&(C=Math.ceil(-l.y/e)*e,C+=s.top,m+=C),p+=s.right,m+=s.bottom,p=Math.max(p,i.minWidth||0),m=Math.max(m,i.minHeight||0),p=Math.min(p,i.maxWidth||Number.MAX_SAFE_INTEGER),m=Math.min(m,i.maxHeight||Number.MAX_SAFE_INTEGER);const O=this.getComputedSize(),R=p!==O.width||m!==O.height;return(x!==h.tx||C!==h.ty)&&this.translate(x,C),R&&this.resize(p,m),new st(-x/d,-C/g,p/d,m/g)}scaleContentToFit(t={}){this.scaleContentToFitImpl(t)}scaleContentToFitImpl(t={},e=!0){let n,i;if(t.contentArea){const R=t.contentArea;n=this.graph.localToGraph(R),i=B.create(R)}else n=this.getContentBBox(t),i=this.graph.graphToLocal(n);if(!n.width||!n.height)return;const s=ra(t.padding),a=t.minScale||0,l=t.maxScale||Number.MAX_SAFE_INTEGER,u=t.minScaleX||a,h=t.maxScaleX||l,d=t.minScaleY||a,g=t.maxScaleY||l;let p;if(t.viewportArea)p=t.viewportArea;else{const R=this.getComputedSize(),L=this.getTranslation();p={x:L.tx,y:L.ty,width:R.width,height:R.height}}p=st.create(p).moveAndExpand({x:s.left,y:s.top,width:-s.left-s.right,height:-s.top-s.bottom});const m=this.getScale();let x=p.width/n.width*m.sx,C=p.height/n.height*m.sy;t.preserveAspectRatio!==!1&&(x=C=Math.min(x,C));const O=t.scaleGrid;if(O&&(x=O*Math.floor(x/O),C=O*Math.floor(C/O)),x=Tr(x,u,h),C=Tr(C,d,g),this.scale(x,C),e){const R=this.options,L=p.x-i.x*x-R.x,M=p.y-i.y*C-R.y;this.translate(L,M)}}getContentArea(t={}){return t.useCellGeometry!==!1?this.model.getAllCellsBBox()||new st:fe.getBBox(this.stage)}getContentBBox(t={}){return this.graph.localToGraph(this.getContentArea(t))}getGraphArea(){const t=st.fromSize(this.getComputedSize());return this.graph.graphToLocal(t)}zoomToRect(t,e={}){const n=st.create(t),i=this.graph;e.contentArea=n,e.viewportArea==null&&(e.viewportArea={x:i.options.x,y:i.options.y,width:this.options.width,height:this.options.height}),this.scaleContentToFitImpl(e,!1);const s=n.getCenter();return this.centerPoint(s.x,s.y),this}zoomToFit(t={}){return this.zoomToRect(this.getContentArea(t),t)}centerPoint(t,e){const n=this.getComputedSize(),i=this.getScale(),s=this.getTranslation(),a=n.width/2,l=n.height/2;t=typeof t=="number"?t:a,e=typeof e=="number"?e:l,t=a-t*i.sx,e=l-e*i.sy,(s.tx!==t||s.ty!==e)&&this.translate(t,e)}centerContent(t){const n=this.graph.getContentArea(t).getCenter();this.centerPoint(n.x,n.y)}centerCell(t){return this.positionCell(t,"center")}positionPoint(t,e,n){const i=this.getComputedSize();e=si(e,Math.max(0,i.width)),e<0&&(e=i.width+e),n=si(n,Math.max(0,i.height)),n<0&&(n=i.height+n);const s=this.getTranslation(),a=this.getScale(),l=e-t.x*a.sx,u=n-t.y*a.sy;(s.tx!==l||s.ty!==u)&&this.translate(l,u)}positionRect(t,e){const n=st.create(t);switch(e){case"center":return this.positionPoint(n.getCenter(),"50%","50%");case"top":return this.positionPoint(n.getTopCenter(),"50%",0);case"top-right":return this.positionPoint(n.getTopRight(),"100%",0);case"right":return this.positionPoint(n.getRightMiddle(),"100%","50%");case"bottom-right":return this.positionPoint(n.getBottomRight(),"100%","100%");case"bottom":return this.positionPoint(n.getBottomCenter(),"50%","100%");case"bottom-left":return this.positionPoint(n.getBottomLeft(),0,"100%");case"left":return this.positionPoint(n.getLeftMiddle(),0,"50%");case"top-left":return this.positionPoint(n.getTopLeft(),0,0);default:return this}}positionCell(t,e){const n=t.getBBox();return this.positionRect(n,e)}positionContent(t,e){const n=this.graph.getContentArea(e);return this.positionRect(n,t)}}var eC=function(r,t,e,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(a=r[l])&&(s=(i<3?a(s):i>3?a(t,e,s):a(t,e))||s);return i>3&&s&&Object.defineProperty(t,e,s),s};class ub extends wn{get elem(){return this.view.background}init(){this.startListening(),this.options.background&&this.draw(this.options.background)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}updateBackgroundImage(t={}){let e=t.size||"auto auto",n=t.position||"center";const i=this.graph.transform.getScale(),s=this.graph.translate();if(typeof n=="object"){const a=s.tx+i.sx*(n.x||0),l=s.ty+i.sy*(n.y||0);n=`${a}px ${l}px`}typeof e=="object"&&(e=st.fromSize(e).scale(i.sx,i.sy),e=`${e.width}px ${e.height}px`),this.elem.style.backgroundSize=e,this.elem.style.backgroundPosition=n}drawBackgroundImage(t,e={}){if(!(t instanceof HTMLImageElement)){this.elem.style.backgroundImage="";return}const n=this.optionsCache;if(n&&n.image!==e.image)return;let i;const s=e.opacity,a=e.size;let l=e.repeat||"no-repeat";const u=uh.registry.get(l);if(typeof u=="function"){const d=e.quality||1;t.width*=d,t.height*=d;const g=u(t,e);if(!(g instanceof HTMLCanvasElement))throw new Error("Background pattern must return an HTML Canvas instance");i=g.toDataURL("image/png"),e.repeat&&l!==e.repeat?l=e.repeat:l="repeat",typeof a=="object"?(a.width*=g.width/t.width,a.height*=g.height/t.height):a===void 0&&(e.size={width:g.width/d,height:g.height/d})}else i=t.src,a===void 0&&(e.size={width:t.width,height:t.height});n!=null&&typeof e.size=="object"&&e.image===n.image&&e.repeat===n.repeat&&e.quality===n.quality&&(n.size=Ou(e.size));const h=this.elem.style;h.backgroundImage=`url(${i})`,h.backgroundRepeat=l,h.opacity=s==null||s>=1?"":`${s}`,this.updateBackgroundImage(e)}updateBackgroundColor(t){this.elem.style.backgroundColor=t||""}updateBackgroundOptions(t){this.graph.options.background=t}update(){this.optionsCache&&this.updateBackgroundImage(this.optionsCache)}draw(t){const e=t||{};if(this.updateBackgroundOptions(t),this.updateBackgroundColor(e.color),e.image){this.optionsCache=Ou(e);const n=document.createElement("img");n.onload=()=>this.drawBackgroundImage(n,t),n.setAttribute("crossorigin","anonymous"),n.src=e.image}else this.drawBackgroundImage(null),this.optionsCache=null}clear(){this.draw()}dispose(){this.clear(),this.stopListening()}}eC([wn.dispose()],ub.prototype,"dispose",null);var nC=function(r,t,e,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(a=r[l])&&(s=(i<3?a(s):i>3?a(t,e,s):a(t,e))||s);return i>3&&s&&Object.defineProperty(t,e,s),s};class yx extends wn{get widgetOptions(){return this.options.panning}get pannable(){return this.widgetOptions&&this.widgetOptions.enabled===!0}init(){this.startListening(),this.updateClassName()}startListening(){const t=this.widgetOptions.eventTypes;t&&(t.includes("leftMouseDown")&&(this.graph.on("blank:mousedown",this.preparePanning,this),this.graph.on("node:unhandled:mousedown",this.preparePanning,this),this.graph.on("edge:unhandled:mousedown",this.preparePanning,this)),t.includes("rightMouseDown")&&(this.onRightMouseDown=this.onRightMouseDown.bind(this),Yn.on(this.graph.container,"mousedown",this.onRightMouseDown)),t.includes("mouseWheel")&&(this.mousewheelHandle=new o0(this.graph.container,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.mousewheelHandle.enable()))}stopListening(){const t=this.widgetOptions.eventTypes;t&&(t.includes("leftMouseDown")&&(this.graph.off("blank:mousedown",this.preparePanning,this),this.graph.off("node:unhandled:mousedown",this.preparePanning,this),this.graph.off("edge:unhandled:mousedown",this.preparePanning,this)),t.includes("rightMouseDown")&&Yn.off(this.graph.container,"mousedown",this.onRightMouseDown),t.includes("mouseWheel")&&this.mousewheelHandle&&this.mousewheelHandle.disable())}preparePanning({e:t}){const e=this.graph.getPlugin("selection"),n=e&&e.allowRubberband(t,!0);(this.allowPanning(t,!0)||this.allowPanning(t)&&!n)&&this.startPanning(t)}allowPanning(t,e){return this.pannable&&lh.isMatch(t,this.widgetOptions.modifiers,e)}startPanning(t){const e=this.view.normalizeEvent(t);this.clientX=e.clientX,this.clientY=e.clientY,this.panning=!0,this.updateClassName(),Yn.on(document.body,{"mousemove.panning touchmove.panning":this.pan.bind(this),"mouseup.panning touchend.panning":this.stopPanning.bind(this),"mouseleave.panning":this.stopPanning.bind(this)}),Yn.on(window,"mouseup.panning",this.stopPanning.bind(this))}pan(t){const e=this.view.normalizeEvent(t),n=e.clientX-this.clientX,i=e.clientY-this.clientY;this.clientX=e.clientX,this.clientY=e.clientY,this.graph.translateBy(n,i)}stopPanning(t){this.panning=!1,this.updateClassName(),Yn.off(document.body,".panning"),Yn.off(window,".panning")}updateClassName(){const t=this.view.container,e=this.view.prefixClassName("graph-panning"),n=this.view.prefixClassName("graph-pannable");this.pannable?this.panning?(se(t,e),Rr(t,n)):(Rr(t,e),se(t,n)):(Rr(t,e),Rr(t,n))}onRightMouseDown(t){t.button===2&&this.allowPanning(t,!0)&&this.startPanning(t)}allowMouseWheel(t){return this.pannable&&!t.ctrlKey}onMouseWheel(t,e,n){t.ctrlKey||this.graph.translateBy(-e,-n)}autoPanning(t,e){const i=this.graph.getGraphArea();let s=0,a=0;t<=i.left+10&&(s=-10),e<=i.top+10&&(a=-10),t>=i.right-10&&(s=10),e>=i.bottom-10&&(a=10),(s!==0||a!==0)&&this.graph.translateBy(-s,-a)}enablePanning(){this.pannable||(this.widgetOptions.enabled=!0,this.updateClassName())}disablePanning(){this.pannable&&(this.widgetOptions.enabled=!1,this.updateClassName())}dispose(){this.stopListening()}}nC([wn.dispose()],yx.prototype,"dispose",null);var rC=function(r,t,e,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(a=r[l])&&(s=(i<3?a(s):i>3?a(t,e,s):a(t,e))||s);return i>3&&s&&Object.defineProperty(t,e,s),s};class hb extends wn{constructor(){super(...arguments),this.cumulatedFactor=1}get widgetOptions(){return this.options.mousewheel}init(){this.container=this.graph.container,this.target=this.widgetOptions.global?document:this.container,this.mousewheelHandle=new o0(this.target,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.widgetOptions.enabled&&this.enable(!0)}get disabled(){return this.widgetOptions.enabled!==!0}enable(t){(this.disabled||t)&&(this.widgetOptions.enabled=!0,this.mousewheelHandle.enable())}disable(){this.disabled||(this.widgetOptions.enabled=!1,this.mousewheelHandle.disable())}allowMouseWheel(t){const e=this.widgetOptions.guard;return(e==null||e.call(t))&&lh.isMatch(t,this.widgetOptions.modifiers)}onMouseWheel(t){const e=this.widgetOptions.guard;if((e==null||e.call(t))&&lh.isMatch(t,this.widgetOptions.modifiers)){const n=this.widgetOptions.factor||1.2;this.currentScale==null&&(this.startPos={x:t.clientX,y:t.clientY},this.currentScale=this.graph.transform.getScale().sx),t.deltaY<0?this.currentScale<.15?this.cumulatedFactor=(this.currentScale+.01)/this.currentScale:this.cumulatedFactor=Math.round(this.currentScale*n*20)/20/this.currentScale:this.currentScale<=.15?this.cumulatedFactor=(this.currentScale-.01)/this.currentScale:this.cumulatedFactor=Math.round(this.currentScale*(1/n)*20)/20/this.currentScale,this.cumulatedFactor=Math.max(.01,Math.min(this.currentScale*this.cumulatedFactor,160)/this.currentScale);const s=this.currentScale;let a=this.graph.transform.clampScale(s*this.cumulatedFactor);const l=this.widgetOptions.minScale||Number.MIN_SAFE_INTEGER,u=this.widgetOptions.maxScale||Number.MAX_SAFE_INTEGER;if(a=Tr(a,l,u),a!==s)if(this.widgetOptions.zoomAtMousePosition){const d=!!this.graph.getPlugin("scroller")?this.graph.clientToLocal(this.startPos):this.graph.clientToGraph(this.startPos);this.graph.zoom(a,{absolute:!0,center:d.clone()})}else this.graph.zoom(a,{absolute:!0});this.currentScale=null,this.cumulatedFactor=1}}dispose(){this.disable()}}rC([ge.dispose()],hb.prototype,"dispose",null);var iC=function(r,t,e,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(a=r[l])&&(s=(i<3?a(s):i>3?a(t,e,s):a(t,e))||s);return i>3&&s&&Object.defineProperty(t,e,s),s};class vx extends wn{init(){this.resetRenderArea=_s(this.resetRenderArea,200,{leading:!0}),this.resetRenderArea(),this.startListening()}startListening(){this.graph.on("translate",this.resetRenderArea,this),this.graph.on("scale",this.resetRenderArea,this),this.graph.on("resize",this.resetRenderArea,this)}stopListening(){this.graph.off("translate",this.resetRenderArea,this),this.graph.off("scale",this.resetRenderArea,this),this.graph.off("resize",this.resetRenderArea,this)}enableVirtualRender(){this.options.virtual=!0,this.resetRenderArea()}disableVirtualRender(){this.options.virtual=!1,this.graph.renderer.setRenderArea(void 0)}resetRenderArea(){if(this.options.virtual){const t=this.graph.getGraphArea();this.graph.renderer.setRenderArea(t)}}dispose(){this.stopListening()}}iC([wn.dispose()],vx.prototype,"dispose",null);class sC{constructor(){this.isFlushing=!1,this.isFlushPending=!1,this.scheduleId=0,this.queue=[],this.frameInterval=33,this.initialTime=Date.now()}queueJob(t){if(t.priority&xs.PRIOR)t.cb();else{const e=this.findInsertionIndex(t);e>=0&&this.queue.splice(e,0,t)}}queueFlush(){!this.isFlushing&&!this.isFlushPending&&(this.isFlushPending=!0,this.scheduleJob())}queueFlushSync(){!this.isFlushing&&!this.isFlushPending&&(this.isFlushPending=!0,this.flushJobsSync())}clearJobs(){this.queue.length=0,this.isFlushing=!1,this.isFlushPending=!1,this.cancelScheduleJob()}flushJobs(){this.isFlushPending=!1,this.isFlushing=!0;const t=this.getCurrentTime();let e;for(;(e=this.queue.shift())&&(e.cb(),!(this.getCurrentTime()-t>=this.frameInterval)););this.isFlushing=!1,this.queue.length&&this.queueFlush()}flushJobsSync(){this.isFlushPending=!1,this.isFlushing=!0;let t;for(;t=this.queue.shift();)try{t.cb()}catch(e){console.log(e)}this.isFlushing=!1}findInsertionIndex(t){let e=0,n=this.queue.length,i=n-1;const s=t.priority;for(;e<=i;){const a=(i-e>>1)+e;s<=this.queue[a].priority?e=a+1:(n=a,i=a-1)}return n}scheduleJob(){"requestIdleCallback"in window?(this.scheduleId&&this.cancelScheduleJob(),this.scheduleId=window.requestIdleCallback(this.flushJobs.bind(this),{timeout:100})):(this.scheduleId&&this.cancelScheduleJob(),this.scheduleId=window.setTimeout(this.flushJobs.bind(this)))}cancelScheduleJob(){"cancelIdleCallback"in window?(this.scheduleId&&window.cancelIdleCallback(this.scheduleId),this.scheduleId=0):(this.scheduleId&&clearTimeout(this.scheduleId),this.scheduleId=0)}getCurrentTime(){return typeof performance=="object"&&typeof performance.now=="function"?performance.now():Date.now()-this.initialTime}}var xs;(function(r){r[r.RenderEdge=2]="RenderEdge",r[r.RenderNode=4]="RenderNode",r[r.Update=8]="Update",r[r.PRIOR=1048576]="PRIOR"})(xs||(xs={}));var oC=function(r,t,e,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(a=r[l])&&(s=(i<3?a(s):i>3?a(t,e,s):a(t,e))||s);return i>3&&s&&Object.defineProperty(t,e,s),s};class cn extends ge{get model(){return this.graph.model}get container(){return this.graph.view.stage}constructor(t){super(),this.views={},this.willRemoveViews={},this.queue=new sC,this.graph=t,this.init()}init(){this.startListening(),this.renderViews(this.model.getCells())}startListening(){this.model.on("reseted",this.onModelReseted,this),this.model.on("cell:added",this.onCellAdded,this),this.model.on("cell:removed",this.onCellRemoved,this),this.model.on("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.on("cell:change:visible",this.onCellVisibleChanged,this)}stopListening(){this.model.off("reseted",this.onModelReseted,this),this.model.off("cell:added",this.onCellAdded,this),this.model.off("cell:removed",this.onCellRemoved,this),this.model.off("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.off("cell:change:visible",this.onCellVisibleChanged,this)}onModelReseted({options:t}){this.queue.clearJobs(),this.removeZPivots(),this.resetViews(),this.renderViews(this.model.getCells(),t)}onCellAdded({cell:t,options:e}){this.renderViews([t],e)}onCellRemoved({cell:t}){this.removeViews([t])}onCellZIndexChanged({cell:t,options:e}){const n=this.views[t.id];n&&this.requestViewUpdate(n.view,cn.FLAG_INSERT,e,xs.Update,!0)}onCellVisibleChanged({cell:t,current:e}){this.toggleVisible(t,!!e)}requestViewUpdate(t,e,n={},i=xs.Update,s=!0){const a=t.cell.id,l=this.views[a];if(!l)return;l.flag=e,l.options=n;const u=t.hasAction(e,["translate","resize","rotate"]);t.isNodeView()&&u&&(i=xs.PRIOR,s=!1),this.queue.queueJob({id:a,priority:i,cb:()=>{this.renderViewInArea(t,e,n)}}),this.getEffectedEdges(t).forEach(d=>{this.requestViewUpdate(d.view,d.flag,n,i,!1)}),s&&this.flush()}setRenderArea(t){this.renderArea=t,this.flushWaittingViews()}isViewMounted(t){if(t==null)return!1;const e=this.views[t.cell.id];return e?e.state===cn.ViewState.MOUNTED:!1}renderViews(t,e={}){t.sort((n,i)=>n.isNode()&&i.isEdge()?-1:0),t.forEach(n=>{const i=n.id,s=this.views;let a=0,l=s[i];if(l)a=cn.FLAG_INSERT;else{const u=this.createCellView(n);u&&(u.graph=this.graph,a=cn.FLAG_INSERT|u.getBootstrapFlag(),l={view:u,flag:a,options:e,state:cn.ViewState.CREATED},this.views[i]=l)}l&&this.requestViewUpdate(l.view,a,e,this.getRenderPriority(l.view),!1)}),this.flush()}renderViewInArea(t,e,n={}){const i=t.cell,s=i.id,a=this.views[s];if(!a)return;let l=0;this.isUpdateable(t)?(l=this.updateView(t,e,n),a.flag=l):a.state===cn.ViewState.MOUNTED?(l=this.updateView(t,e,n),a.flag=l):a.state=cn.ViewState.WAITTING,l&&i.isEdge()&&!(l&t.getFlag(["source","target"]))&&this.queue.queueJob({id:s,priority:xs.RenderEdge,cb:()=>{this.updateView(t,e,n)}})}removeViews(t){t.forEach(e=>{const n=e.id,i=this.views[n];i&&(this.willRemoveViews[n]=i,delete this.views[n],this.queue.queueJob({id:n,priority:this.getRenderPriority(i.view),cb:()=>{this.removeView(i.view)}}))}),this.flush()}flush(){this.graph.options.async?this.queue.queueFlush():this.queue.queueFlushSync()}flushWaittingViews(){Object.values(this.views).forEach(t=>{if(t&&t.state===cn.ViewState.WAITTING){const{view:e,flag:n,options:i}=t;this.requestViewUpdate(e,n,i,this.getRenderPriority(e),!1)}}),this.flush()}updateView(t,e,n={}){if(t==null)return 0;if(ln.isCellView(t)){if(e&cn.FLAG_REMOVE)return this.removeView(t.cell),0;e&cn.FLAG_INSERT&&(this.insertView(t),e^=cn.FLAG_INSERT)}return e?t.confirmUpdate(e,n):0}insertView(t){const e=this.views[t.cell.id];if(e){const n=t.cell.getZIndex(),i=this.addZPivot(n);this.container.insertBefore(t.container,i),t.cell.isVisible()||this.toggleVisible(t.cell,!1),e.state=cn.ViewState.MOUNTED,this.graph.trigger("view:mounted",{view:t})}}resetViews(){this.willRemoveViews=Object.assign(Object.assign({},this.views),this.willRemoveViews),Object.values(this.willRemoveViews).forEach(t=>{t&&this.removeView(t.view)}),this.views={},this.willRemoveViews={}}removeView(t){const e=t.cell,n=this.willRemoveViews[e.id];n&&t&&(n.view.remove(),delete this.willRemoveViews[e.id],this.graph.trigger("view:unmounted",{view:t}))}toggleVisible(t,e){const n=this.model.getConnectedEdges(t);for(let s=0,a=n.length;s<a;s+=1){const l=n[s];if(e){const u=l.getSourceCell(),h=l.getTargetCell();if(u&&!u.isVisible()||h&&!h.isVisible())continue;this.toggleVisible(l,!0)}else this.toggleVisible(l,!1)}const i=this.views[t.id];i&&th(i.view.container,{display:e?"unset":"none"})}addZPivot(t=0){this.zPivots==null&&(this.zPivots={});const e=this.zPivots;let n=e[t];if(n)return n;n=e[t]=document.createComment(`z-index:${t+1}`);let i=-1/0;for(const a in e){const l=+a;l<t&&l>i&&(i=l,t-1)}const s=this.container;if(i!==-1/0){const a=e[i];s.insertBefore(n,a.nextSibling)}else s.insertBefore(n,s.firstChild);return n}removeZPivots(){this.zPivots&&Object.values(this.zPivots).forEach(t=>{t&&t.parentNode&&t.parentNode.removeChild(t)}),this.zPivots={}}createCellView(t){const e={graph:this.graph},n=this.graph.options.createCellView;if(n){const s=xt(n,this.graph,t);if(s)return new s(t,e);if(s===null)return null}const i=t.view;if(i!=null&&typeof i=="string"){const s=ln.registry.get(i);return s?new s(t,e):ln.registry.onNotFound(i)}return t.isNode()?new ai(t,e):t.isEdge()?new bs(t,e):null}getEffectedEdges(t){const e=[],n=t.cell,i=this.model.getConnectedEdges(n);for(let s=0,a=i.length;s<a;s+=1){const l=i[s],u=this.views[l.id];if(!u)continue;const h=u.view;if(!this.isViewMounted(h))continue;const d=["update"];l.getTargetCell()===n&&d.push("target"),l.getSourceCell()===n&&d.push("source"),e.push({id:l.id,view:h,flag:h.getFlag(d)})}return e}isUpdateable(t){if(t.isNodeView()){if(!this.renderArea)return!0;const e=t.cell;return this.renderArea.isIntersectWithRect(e.getBBox())}if(t.isEdgeView()){const e=t.cell,n=e.getSourceCell(),i=e.getTargetCell();if(n){const s=this.views[n.id];if(s&&!this.isViewMounted(s.view))return!1}if(i){const s=this.views[i.id];if(s&&!this.isViewMounted(s.view))return!1}}return!0}getRenderPriority(t){return t.cell.isNode()?xs.RenderNode:xs.RenderEdge}dispose(){this.stopListening()}}oC([ge.dispose()],cn.prototype,"dispose",null),function(r){r.FLAG_INSERT=1<<30,r.FLAG_REMOVE=1<<29,r.FLAG_RENDER=(1<<26)-1}(cn||(cn={})),function(r){let t;(function(e){e[e.CREATED=0]="CREATED",e[e.MOUNTED=1]="MOUNTED",e[e.WAITTING=2]="WAITTING"})(t=r.ViewState||(r.ViewState={}))}(cn||(cn={}));var aC=function(r,t,e,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(a=r[l])&&(s=(i<3?a(s):i>3?a(t,e,s):a(t,e))||s);return i>3&&s&&Object.defineProperty(t,e,s),s};class fb extends wn{constructor(){super(...arguments),this.schedule=new cn(this.graph)}requestViewUpdate(t,e,n={}){this.schedule.requestViewUpdate(t,e,n)}isViewMounted(t){return this.schedule.isViewMounted(t)}setRenderArea(t){this.schedule.setRenderArea(t)}findViewByElem(t){if(t==null)return null;const e=this.options.container,n=typeof t=="string"?e.querySelector(t):t instanceof Element?t:t[0];if(n){const i=this.graph.view.findAttr("data-cell-id",n);if(i){const s=this.schedule.views;if(s[i])return s[i].view}}return null}findViewByCell(t){if(t==null)return null;const e=Gt.isCell(t)?t.id:t,n=this.schedule.views;return n[e]?n[e].view:null}findViewsFromPoint(t){const e={x:t.x,y:t.y};return this.model.getCells().map(n=>this.findViewByCell(n)).filter(n=>n!=null?fe.getBBox(n.container,{target:this.view.stage}).containsPoint(e):!1)}findEdgeViewsFromPoint(t,e=5){return this.model.getEdges().map(n=>this.findViewByCell(n)).filter(n=>{if(n!=null){const i=n.getClosestPoint(t);if(i)return i.distance(t)<=e}return!1})}findViewsInArea(t,e={}){const n=st.create(t);return this.model.getCells().map(i=>this.findViewByCell(i)).filter(i=>{if(i){if(e.nodeOnly&&!i.isNodeView())return!1;const s=fe.getBBox(i.container,{target:this.view.stage});return s.width===0?s.inflate(1,0):s.height===0&&s.inflate(0,1),e.strict?n.containsRect(s):n.isIntersectWithRect(s)}return!1})}dispose(){this.schedule.dispose()}}aC([wn.dispose()],fb.prototype,"dispose",null);var bx=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e};class xx extends wn{get cid(){return this.graph.view.cid}get svg(){return this.view.svg}get defs(){return this.view.defs}isDefined(t){return this.svg.getElementById(t)!=null}filter(t){let e=t.id;const n=t.name;if(e||(e=`filter-${n}-${this.cid}-${Iv(JSON.stringify(t))}`),!this.isDefined(e)){const i=kl.registry.get(n);if(i==null)return kl.registry.onNotFound(n);const s=i(t.args||{}),a=Object.assign(Object.assign({x:-1,y:-1,width:3,height:3,filterUnits:"objectBoundingBox"},t.attrs),{id:e});_t.create(Oe.sanitize(s),a).appendTo(this.defs)}return e}gradient(t){let e=t.id;const n=t.type;if(e||(e=`gradient-${n}-${this.cid}-${Iv(JSON.stringify(t))}`),!this.isDefined(e)){const s=t.stops.map(u=>{const h=u.opacity!=null&&Number.isFinite(u.opacity)?u.opacity:1;return`<stop offset="${u.offset}" stop-color="${u.color}" stop-opacity="${h}"/>`}),a=`<${n}>${s.join("")}</${n}>`,l=Object.assign({id:e},t.attrs);_t.create(a,l).appendTo(this.defs)}return e}marker(t){const{id:e,refX:n,refY:i,markerUnits:s,markerOrient:a,tagName:l,children:u}=t,h=bx(t,["id","refX","refY","markerUnits","markerOrient","tagName","children"]);let d=e;if(d||(d=`marker-${this.cid}-${Iv(JSON.stringify(t))}`),!this.isDefined(d)){l!=="path"&&delete h.d;const g=_t.create("marker",{refX:n,refY:i,id:d,overflow:"visible",orient:a!=null?a:"auto",markerUnits:s||"userSpaceOnUse"},u?u.map(p=>{var{tagName:m}=p,x=bx(p,["tagName"]);return _t.create(`${m}`||"path",Qu(Object.assign(Object.assign({},h),x)))}):[_t.create(l||"path",Qu(h))]);this.defs.appendChild(g.node)}return d}remove(t){const e=this.svg.getElementById(t);e&&e.parentNode&&e.parentNode.removeChild(e)}}class wx extends wn{getClientMatrix(){return bn(this.view.stage.getScreenCTM())}getClientOffset(){const t=this.view.svg.getBoundingClientRect();return new B(t.left,t.top)}getPageOffset(){return this.getClientOffset().translate(window.scrollX,window.scrollY)}snapToGrid(t,e){return(typeof t=="number"?this.clientToLocalPoint(t,e):this.clientToLocalPoint(t.x,t.y)).snapToGrid(this.graph.getGridSize())}localToGraphPoint(t,e){const n=B.create(t,e);return fe.transformPoint(n,this.graph.matrix())}localToClientPoint(t,e){const n=B.create(t,e);return fe.transformPoint(n,this.getClientMatrix())}localToPagePoint(t,e){return(typeof t=="number"?this.localToGraphPoint(t,e):this.localToGraphPoint(t)).translate(this.getPageOffset())}localToGraphRect(t,e,n,i){const s=st.create(t,e,n,i);return fe.transformRectangle(s,this.graph.matrix())}localToClientRect(t,e,n,i){const s=st.create(t,e,n,i);return fe.transformRectangle(s,this.getClientMatrix())}localToPageRect(t,e,n,i){return(typeof t=="number"?this.localToGraphRect(t,e,n,i):this.localToGraphRect(t)).translate(this.getPageOffset())}graphToLocalPoint(t,e){const n=B.create(t,e);return fe.transformPoint(n,this.graph.matrix().inverse())}clientToLocalPoint(t,e){const n=B.create(t,e);return fe.transformPoint(n,this.getClientMatrix().inverse())}clientToGraphPoint(t,e){const n=B.create(t,e);return fe.transformPoint(n,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalPoint(t,e){const i=B.create(t,e).diff(this.getPageOffset());return this.graphToLocalPoint(i)}graphToLocalRect(t,e,n,i){const s=st.create(t,e,n,i);return fe.transformRectangle(s,this.graph.matrix().inverse())}clientToLocalRect(t,e,n,i){const s=st.create(t,e,n,i);return fe.transformRectangle(s,this.getClientMatrix().inverse())}clientToGraphRect(t,e,n,i){const s=st.create(t,e,n,i);return fe.transformRectangle(s,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalRect(t,e,n,i){const s=st.create(t,e,n,i),a=this.getPageOffset();return s.x-=a.x,s.y-=a.y,this.graphToLocalRect(s)}}var lC=function(r,t,e,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(a=r[l])&&(s=(i<3?a(s):i>3?a(t,e,s):a(t,e))||s);return i>3&&s&&Object.defineProperty(t,e,s),s};class gg extends wn{constructor(){super(...arguments),this.highlights={}}init(){this.startListening()}startListening(){this.graph.on("cell:highlight",this.onCellHighlight,this),this.graph.on("cell:unhighlight",this.onCellUnhighlight,this)}stopListening(){this.graph.off("cell:highlight",this.onCellHighlight,this),this.graph.off("cell:unhighlight",this.onCellUnhighlight,this)}onCellHighlight({view:t,magnet:e,options:n={}}){const i=this.resolveHighlighter(n);if(!i)return;const s=this.getHighlighterId(e,i);if(!this.highlights[s]){const a=i.highlighter;a.highlight(t,e,Object.assign({},i.args)),this.highlights[s]={cellView:t,magnet:e,highlighter:a,args:i.args}}}onCellUnhighlight({magnet:t,options:e={}}){const n=this.resolveHighlighter(e);if(!n)return;const i=this.getHighlighterId(t,n);this.unhighlight(i)}resolveHighlighter(t){const e=this.options;let n=t.highlighter;if(n==null){const l=t.type;n=l&&e.highlighting[l]||e.highlighting.default}if(n==null)return null;const i=typeof n=="string"?{name:n}:n,s=i.name,a=ms.registry.get(s);return a==null?ms.registry.onNotFound(s):(ms.check(s,a),{name:s,highlighter:a,args:i.args||{}})}getHighlighterId(t,e){return kv(t),e.name+t.id+JSON.stringify(e.args)}unhighlight(t){const e=this.highlights[t];e&&(e.highlighter.unhighlight(e.cellView,e.magnet,e.args),delete this.highlights[t])}dispose(){Object.keys(this.highlights).forEach(t=>this.unhighlight(t)),this.stopListening()}}lC([gg.dispose()],gg.prototype,"dispose",null);var cC=function(r,t,e,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(a=r[l])&&(s=(i<3?a(s):i>3?a(t,e,s):a(t,e))||s);return i>3&&s&&Object.defineProperty(t,e,s),s};class Sx extends wn{getScroller(){const t=this.graph.getPlugin("scroller");return t&&t.options.enabled?t:null}getContainer(){const t=this.getScroller();return t?t.container.parentElement:this.graph.container.parentElement}getSensorTarget(){const t=this.options.autoResize;if(t)return typeof t=="boolean"?this.getContainer():t}init(){if(this.options.autoResize){const e=this.getSensorTarget();e&&Jd.bind(e,()=>{const n=e.offsetWidth,i=e.offsetHeight;this.resize(n,i)})}}resize(t,e){const n=this.getScroller();n?n.resize(t,e):this.graph.transform.resize(t,e)}dispose(){Jd.clear(this.graph.container)}}cC([wn.dispose()],Sx.prototype,"dispose",null);var uC=function(r,t,e,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(a=r[l])&&(s=(i<3?a(s):i>3?a(t,e,s):a(t,e))||s);return i>3&&s&&Object.defineProperty(t,e,s),s};class Zn extends ar{get container(){return this.options.container}get[Symbol.toStringTag](){return Zn.toStringTag}constructor(t){super(),this.installedPlugins=new Set,this.options=bh.get(t),this.css=new lb(this),this.view=new Bi(this),this.defs=new xx(this),this.coord=new wx(this),this.transform=new mx(this),this.highlight=new gg(this),this.grid=new cb(this),this.background=new ub(this),this.options.model?this.model=this.options.model:(this.model=new vs,this.model.graph=this),this.renderer=new fb(this),this.panning=new yx(this),this.mousewheel=new hb(this),this.virtualRender=new vx(this),this.size=new Sx(this)}isNode(t){return t.isNode()}isEdge(t){return t.isEdge()}resetCells(t,e={}){return this.model.resetCells(t,e),this}clearCells(t={}){return this.model.clear(t),this}toJSON(t={}){return this.model.toJSON(t)}parseJSON(t){return this.model.parseJSON(t)}fromJSON(t,e={}){return this.model.fromJSON(t,e),this}getCellById(t){return this.model.getCell(t)}addNode(t,e={}){return this.model.addNode(t,e)}addNodes(t,e={}){return this.addCell(t.map(n=>Ke.isNode(n)?n:this.createNode(n)),e)}createNode(t){return this.model.createNode(t)}removeNode(t,e={}){return this.model.removeCell(t,e)}addEdge(t,e={}){return this.model.addEdge(t,e)}addEdges(t,e={}){return this.addCell(t.map(n=>Ie.isEdge(n)?n:this.createEdge(n)),e)}removeEdge(t,e={}){return this.model.removeCell(t,e)}createEdge(t){return this.model.createEdge(t)}addCell(t,e={}){return this.model.addCell(t,e),this}removeCell(t,e={}){return this.model.removeCell(t,e)}removeCells(t,e={}){return this.model.removeCells(t,e)}removeConnectedEdges(t,e={}){return this.model.removeConnectedEdges(t,e)}disconnectConnectedEdges(t,e={}){return this.model.disconnectConnectedEdges(t,e),this}hasCell(t){return this.model.has(t)}getCells(){return this.model.getCells()}getCellCount(){return this.model.total()}getNodes(){return this.model.getNodes()}getEdges(){return this.model.getEdges()}getOutgoingEdges(t){return this.model.getOutgoingEdges(t)}getIncomingEdges(t){return this.model.getIncomingEdges(t)}getConnectedEdges(t,e={}){return this.model.getConnectedEdges(t,e)}getRootNodes(){return this.model.getRoots()}getLeafNodes(){return this.model.getLeafs()}isRootNode(t){return this.model.isRoot(t)}isLeafNode(t){return this.model.isLeaf(t)}getNeighbors(t,e={}){return this.model.getNeighbors(t,e)}isNeighbor(t,e,n={}){return this.model.isNeighbor(t,e,n)}getSuccessors(t,e={}){return this.model.getSuccessors(t,e)}isSuccessor(t,e,n={}){return this.model.isSuccessor(t,e,n)}getPredecessors(t,e={}){return this.model.getPredecessors(t,e)}isPredecessor(t,e,n={}){return this.model.isPredecessor(t,e,n)}getCommonAncestor(...t){return this.model.getCommonAncestor(...t)}getSubGraph(t,e={}){return this.model.getSubGraph(t,e)}cloneSubGraph(t,e={}){return this.model.cloneSubGraph(t,e)}cloneCells(t){return this.model.cloneCells(t)}getNodesFromPoint(t,e){return this.model.getNodesFromPoint(t,e)}getNodesInArea(t,e,n,i,s){return this.model.getNodesInArea(t,e,n,i,s)}getNodesUnderNode(t,e={}){return this.model.getNodesUnderNode(t,e)}searchCell(t,e,n={}){return this.model.search(t,e,n),this}getShortestPath(t,e,n={}){return this.model.getShortestPath(t,e,n)}getAllCellsBBox(){return this.model.getAllCellsBBox()}getCellsBBox(t,e={}){return this.model.getCellsBBox(t,e)}startBatch(t,e={}){this.model.startBatch(t,e)}stopBatch(t,e={}){this.model.stopBatch(t,e)}batchUpdate(t,e,n){const i=typeof t=="string"?t:"update",s=typeof t=="string"?e:t,a=typeof e=="function"?n:e;this.startBatch(i,a);const l=s();return this.stopBatch(i,a),l}updateCellId(t,e){return this.model.updateCellId(t,e)}findView(t){return Gt.isCell(t)?this.findViewByCell(t):this.findViewByElem(t)}findViews(t){return st.isRectangleLike(t)?this.findViewsInArea(t):B.isPointLike(t)?this.findViewsFromPoint(t):[]}findViewByCell(t){return this.renderer.findViewByCell(t)}findViewByElem(t){return this.renderer.findViewByElem(t)}findViewsFromPoint(t,e){const n=typeof t=="number"?{x:t,y:e}:t;return this.renderer.findViewsFromPoint(n)}findViewsInArea(t,e,n,i,s){const a=typeof t=="number"?{x:t,y:e,width:n,height:i}:t,l=typeof t=="number"?s:e;return this.renderer.findViewsInArea(a,l)}matrix(t){return typeof t=="undefined"?this.transform.getMatrix():(this.transform.setMatrix(t),this)}resize(t,e){const n=this.getPlugin("scroller");return n?n.resize(t,e):this.transform.resize(t,e),this}scale(t,e=t,n=0,i=0){return typeof t=="undefined"?this.transform.getScale():(this.transform.scale(t,e,n,i),this)}zoom(t,e){const n=this.getPlugin("scroller");if(n){if(typeof t=="undefined")return n.zoom();n.zoom(t,e)}else{if(typeof t=="undefined")return this.transform.getZoom();this.transform.zoom(t,e)}return this}zoomTo(t,e={}){const n=this.getPlugin("scroller");return n?n.zoom(t,Object.assign(Object.assign({},e),{absolute:!0})):this.transform.zoom(t,Object.assign(Object.assign({},e),{absolute:!0})),this}zoomToRect(t,e={}){const n=this.getPlugin("scroller");return n?n.zoomToRect(t,e):this.transform.zoomToRect(t,e),this}zoomToFit(t={}){const e=this.getPlugin("scroller");return e?e.zoomToFit(t):this.transform.zoomToFit(t),this}rotate(t,e,n){return typeof t=="undefined"?this.transform.getRotation():(this.transform.rotate(t,e,n),this)}translate(t,e){return typeof t=="undefined"?this.transform.getTranslation():(this.transform.translate(t,e),this)}translateBy(t,e){const n=this.translate(),i=n.tx+t,s=n.ty+e;return this.translate(i,s)}getGraphArea(){return this.transform.getGraphArea()}getContentArea(t={}){return this.transform.getContentArea(t)}getContentBBox(t={}){return this.transform.getContentBBox(t)}fitToContent(t,e,n,i){return this.transform.fitToContent(t,e,n,i)}scaleContentToFit(t={}){return this.transform.scaleContentToFit(t),this}center(t){return this.centerPoint(t)}centerPoint(t,e,n){const i=this.getPlugin("scroller");return i?i.centerPoint(t,e,n):this.transform.centerPoint(t,e),this}centerContent(t){const e=this.getPlugin("scroller");return e?e.centerContent(t):this.transform.centerContent(t),this}centerCell(t,e){const n=this.getPlugin("scroller");return n?n.centerCell(t,e):this.transform.centerCell(t),this}positionPoint(t,e,n,i={}){const s=this.getPlugin("scroller");return s?s.positionPoint(t,e,n,i):this.transform.positionPoint(t,e,n),this}positionRect(t,e,n){const i=this.getPlugin("scroller");return i?i.positionRect(t,e,n):this.transform.positionRect(t,e),this}positionCell(t,e,n){const i=this.getPlugin("scroller");return i?i.positionCell(t,e,n):this.transform.positionCell(t,e),this}positionContent(t,e){const n=this.getPlugin("scroller");return n?n.positionContent(t,e):this.transform.positionContent(t,e),this}snapToGrid(t,e){return this.coord.snapToGrid(t,e)}pageToLocal(t,e,n,i){return st.isRectangleLike(t)?this.coord.pageToLocalRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof i=="number"?this.coord.pageToLocalRect(t,e,n,i):this.coord.pageToLocalPoint(t,e)}localToPage(t,e,n,i){return st.isRectangleLike(t)?this.coord.localToPageRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof i=="number"?this.coord.localToPageRect(t,e,n,i):this.coord.localToPagePoint(t,e)}clientToLocal(t,e,n,i){return st.isRectangleLike(t)?this.coord.clientToLocalRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof i=="number"?this.coord.clientToLocalRect(t,e,n,i):this.coord.clientToLocalPoint(t,e)}localToClient(t,e,n,i){return st.isRectangleLike(t)?this.coord.localToClientRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof i=="number"?this.coord.localToClientRect(t,e,n,i):this.coord.localToClientPoint(t,e)}localToGraph(t,e,n,i){return st.isRectangleLike(t)?this.coord.localToGraphRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof i=="number"?this.coord.localToGraphRect(t,e,n,i):this.coord.localToGraphPoint(t,e)}graphToLocal(t,e,n,i){return st.isRectangleLike(t)?this.coord.graphToLocalRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof i=="number"?this.coord.graphToLocalRect(t,e,n,i):this.coord.graphToLocalPoint(t,e)}clientToGraph(t,e,n,i){return st.isRectangleLike(t)?this.coord.clientToGraphRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof i=="number"?this.coord.clientToGraphRect(t,e,n,i):this.coord.clientToGraphPoint(t,e)}defineFilter(t){return this.defs.filter(t)}defineGradient(t){return this.defs.gradient(t)}defineMarker(t){return this.defs.marker(t)}getGridSize(){return this.grid.getGridSize()}setGridSize(t){return this.grid.setGridSize(t),this}showGrid(){return this.grid.show(),this}hideGrid(){return this.grid.hide(),this}clearGrid(){return this.grid.clear(),this}drawGrid(t){return this.grid.draw(t),this}updateBackground(){return this.background.update(),this}drawBackground(t,e){const n=this.getPlugin("scroller");return n!=null&&(this.options.background==null||!e)?n.drawBackground(t,e):this.background.draw(t),this}clearBackground(t){const e=this.getPlugin("scroller");return e!=null&&(this.options.background==null||!t)?e.clearBackground(t):this.background.clear(),this}enableVirtualRender(){return this.virtualRender.enableVirtualRender(),this}disableVirtualRender(){return this.virtualRender.disableVirtualRender(),this}isMouseWheelEnabled(){return!this.mousewheel.disabled}enableMouseWheel(){return this.mousewheel.enable(),this}disableMouseWheel(){return this.mousewheel.disable(),this}toggleMouseWheel(t){return t==null?this.isMouseWheelEnabled()?this.disableMouseWheel():this.enableMouseWheel():t?this.enableMouseWheel():this.disableMouseWheel(),this}isPannable(){const t=this.getPlugin("scroller");return t?t.isPannable():this.panning.pannable}enablePanning(){const t=this.getPlugin("scroller");return t?t.enablePanning():this.panning.enablePanning(),this}disablePanning(){const t=this.getPlugin("scroller");return t?t.disablePanning():this.panning.disablePanning(),this}togglePanning(t){return t==null?this.isPannable()?this.disablePanning():this.enablePanning():t!==this.isPannable()&&(t?this.enablePanning():this.disablePanning()),this}use(t,...e){return this.installedPlugins.has(t)||(this.installedPlugins.add(t),t.init(this,...e)),this}getPlugin(t){return Array.from(this.installedPlugins).find(e=>e.name===t)}getPlugins(t){return Array.from(this.installedPlugins).filter(e=>t.includes(e.name))}enablePlugins(t){let e=t;Array.isArray(e)||(e=[e]);const n=this.getPlugins(e);return n==null||n.forEach(i=>{var s;(s=i==null?void 0:i.enable)===null||s===void 0||s.call(i)}),this}disablePlugins(t){let e=t;Array.isArray(e)||(e=[e]);const n=this.getPlugins(e);return n==null||n.forEach(i=>{var s;(s=i==null?void 0:i.disable)===null||s===void 0||s.call(i)}),this}isPluginEnabled(t){var e;const n=this.getPlugin(t);return(e=n==null?void 0:n.isEnabled)===null||e===void 0?void 0:e.call(n)}disposePlugins(t){let e=t;Array.isArray(e)||(e=[e]);const n=this.getPlugins(e);return n==null||n.forEach(i=>{i.dispose()}),this}dispose(){this.clearCells(),this.off(),this.css.dispose(),this.defs.dispose(),this.grid.dispose(),this.coord.dispose(),this.transform.dispose(),this.highlight.dispose(),this.background.dispose(),this.mousewheel.dispose(),this.panning.dispose(),this.view.dispose(),this.renderer.dispose(),this.installedPlugins.forEach(t=>{t.dispose()})}}uC([ar.dispose()],Zn.prototype,"dispose",null),function(r){r.View=Bi,r.Renderer=fb,r.MouseWheel=hb,r.DefsManager=xx,r.GridManager=cb,r.CoordManager=wx,r.TransformManager=mx,r.HighlightManager=gg,r.BackgroundManager=ub}(Zn||(Zn={})),function(r){r.toStringTag=`X6.${r.name}`;function t(e){if(e==null)return!1;if(e instanceof r)return!0;const n=e[Symbol.toStringTag];return n==null||n===r.toStringTag}r.isGraph=t}(Zn||(Zn={})),function(r){function t(e,n){const i=e instanceof HTMLElement?new r({container:e}):new r(e);return n!=null&&i.fromJSON(n),i}r.render=t}(Zn||(Zn={})),function(r){r.registerNode=Ke.registry.register,r.registerEdge=Ie.registry.register,r.registerView=ln.registry.register,r.registerAttr=Di.registry.register,r.registerGrid=to.registry.register,r.registerFilter=kl.registry.register,r.registerNodeTool=$l.registry.register,r.registerEdgeTool=Vl.registry.register,r.registerBackground=uh.registry.register,r.registerHighlighter=ms.registry.register,r.registerPortLayout=ua.registry.register,r.registerPortLabelLayout=Fl.registry.register,r.registerMarker=no.registry.register,r.registerRouter=ao.registry.register,r.registerConnector=ha.registry.register,r.registerAnchor=Hl.registry.register,r.registerEdgeAnchor=Wl.registry.register,r.registerConnectionPoint=Gl.registry.register}(Zn||(Zn={})),function(r){r.unregisterNode=Ke.registry.unregister,r.unregisterEdge=Ie.registry.unregister,r.unregisterView=ln.registry.unregister,r.unregisterAttr=Di.registry.unregister,r.unregisterGrid=to.registry.unregister,r.unregisterFilter=kl.registry.unregister,r.unregisterNodeTool=$l.registry.unregister,r.unregisterEdgeTool=Vl.registry.unregister,r.unregisterBackground=uh.registry.unregister,r.unregisterHighlighter=ms.registry.unregister,r.unregisterPortLayout=ua.registry.unregister,r.unregisterPortLabelLayout=Fl.registry.unregister,r.unregisterMarker=no.registry.unregister,r.unregisterRouter=ao.registry.unregister,r.unregisterConnector=ha.registry.unregister,r.unregisterAnchor=Hl.registry.unregister,r.unregisterEdgeAnchor=Wl.registry.unregister,r.unregisterConnectionPoint=Gl.registry.unregister}(Zn||(Zn={}));var hC=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e};class Yl extends Ke{}(function(r){class t extends ai{init(){super.init(),this.cell.on("change:*",({key:n})=>{const i=r.shapeMaps[this.cell.shape];if(i){const{effect:s}=i;(!s||s.includes(n))&&this.renderHTMLComponent()}})}confirmUpdate(n){const i=super.confirmUpdate(n);return this.handleAction(i,t.action,()=>this.renderHTMLComponent())}renderHTMLComponent(){const n=this.selectors&&this.selectors.foContent;if(n){Zu(n);const i=r.shapeMaps[this.cell.shape];if(!i)return;let{html:s}=i;typeof s=="function"&&(s=s(this.cell)),s&&(typeof s=="string"?n.innerHTML=s:Ku(n,s))}}}r.View=t,function(e){e.action="html",e.config({bootstrap:[e.action],actions:{html:e.action}}),ai.registry.register("html-view",e,!0)}(t=r.View||(r.View={}))})(Yl||(Yl={})),function(r){r.config({view:"html-view",markup:[{tagName:"rect",selector:"body"},Object.assign({},Oe.getForeignObjectMarkup()),{tagName:"text",selector:"label"}],attrs:{body:{fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"},fo:{refWidth:"100%",refHeight:"100%"}}}),Ke.registry.register("html",r,!0)}(Yl||(Yl={})),function(r){r.shapeMaps={};function t(e){const{shape:n,html:i,effect:s,inherit:a}=e,l=hC(e,["shape","html","effect","inherit"]);if(!n)throw new Error("should specify shape in config");r.shapeMaps[n]={html:i,effect:s},Zn.registerNode(n,Object.assign({inherit:a||"html"},l),!0)}r.register=t}(Yl||(Yl={}))},96486:function(Sn,An,dt){Sn=dt.nmd(Sn);var ht;(function(){var N,ee="4.17.21",Kn=200,Dr="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",Ce="Expected a function",nn="Invalid `variable` option passed into `_.template`",lt="__lodash_hash_undefined__",J=500,nt="__lodash_placeholder__",yt=1,Dt=2,Bt=4,ne=1,de=2,Zt=1,$e=2,Ge=4,ge=8,De=16,qt=32,Ue=64,wt=128,pe=256,Qn=512,Cn=30,_e="...",le=800,Be=16,ke=1,hn=2,rn=3,oe=1/0,ue=9007199254740991,ce=17976931348623157e292,Wt=0/0,Jt=4294967295,me=Jt-1,Br=Jt>>>1,ki=[["ary",wt],["bind",Zt],["bindKey",$e],["curry",ge],["curryRight",De],["flip",Qn],["partial",qt],["partialRight",Ue],["rearg",pe]],fn="[object Arguments]",$n="[object Array]",kr="[object AsyncFunction]",jr="[object Boolean]",dn="[object Date]",Kl="[object DOMException]",As="[object Error]",Cs="[object Function]",fa="[object GeneratorFunction]",Pn="[object Map]",li="[object Number]",uo="[object Null]",Qe="[object Object]",da="[object Promise]",On="[object Proxy]",ci="[object RegExp]",Vn="[object Set]",gn="[object String]",ji="[object Symbol]",Ql="[object Undefined]",Fi="[object WeakMap]",tc="[object WeakSet]",zi="[object ArrayBuffer]",ui="[object DataView]",Fr="[object Float32Array]",ho="[object Float64Array]",fo="[object Int8Array]",Ps="[object Int16Array]",go="[object Int32Array]",$i="[object Uint8Array]",hi="[object Uint8ClampedArray]",Os="[object Uint16Array]",_s="[object Uint32Array]",po=/\b__p \+= '';/g,xt=/\b(__p \+=) '' \+/g,Es=/(__e\(.*?\)|\b__t\)) \+\n'';/g,fi=/&(?:amp|lt|gt|quot|#39);/g,di=/[&<>"']/g,ec=RegExp(fi.source),Ms=RegExp(di.source),ga=/<%-([\s\S]+?)%>/g,nc=/<%([\s\S]+?)%>/g,pa=/<%=([\s\S]+?)%>/g,rc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ic=/^\w*$/,ma=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ve=/[\\^$.*+?()[\]{}|]/g,sc=RegExp(Ve.source),mo=/^\s+/,oc=/\s/,yo=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ac=/\{\n\/\* \[wrapped with (.+)\] \*/,ya=/,? & /,va=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lc=/[()=,{}\[\]\/\s]/,cc=/\\(\\)?/g,vo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ba=/\w*$/,Vi=/^[-+]0x[0-9a-f]+$/i,bo=/^0b[01]+$/i,xo=/^\[object .+?Constructor\]$/,xa=/^0o[0-7]+$/i,wh=/^(?:0|[1-9]\d*)$/,Sh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Hi=/($^)/,cr=/['\n\r\u2028\u2029\\]/g,gi="\\ud800-\\udfff",uc="\\u0300-\\u036f",hc="\\ufe20-\\ufe2f",wa="\\u20d0-\\u20ff",wo=uc+hc+wa,Sa="\\u2700-\\u27bf",Aa="a-z\\xdf-\\xf6\\xf8-\\xff",fc="\\xac\\xb1\\xd7\\xf7",dc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",gc="\\u2000-\\u206f",pc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ca="A-Z\\xc0-\\xd6\\xd8-\\xde",sn="\\ufe0e\\ufe0f",Ts=fc+dc+gc+pc,zr="['\u2019]",mc="["+gi+"]",Pa="["+Ts+"]",Wi="["+wo+"]",Oa="\\d+",yc="["+Sa+"]",_a="["+Aa+"]",Ea="[^"+gi+Ts+Oa+Sa+Aa+Ca+"]",pi="\\ud83c[\\udffb-\\udfff]",So="(?:"+Wi+"|"+pi+")",Ma="[^"+gi+"]",Ao="(?:\\ud83c[\\udde6-\\uddff]){2}",ur="[\\ud800-\\udbff][\\udc00-\\udfff]",mi="["+Ca+"]",Ta="\\u200d",Co="(?:"+_a+"|"+Ea+")",vc="(?:"+mi+"|"+Ea+")",$r="(?:"+zr+"(?:d|ll|m|re|s|t|ve))?",Po="(?:"+zr+"(?:D|LL|M|RE|S|T|VE))?",Ra=So+"?",Rs="["+sn+"]?",bc="(?:"+Ta+"(?:"+[Ma,Ao,ur].join("|")+")"+Rs+Ra+")*",yi="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Gi=Rs+Ra+bc,Oo="(?:"+[yc,Ao,ur].join("|")+")"+Gi,wc="(?:"+[Ma+Wi+"?",Wi,Ao,ur,mc].join("|")+")",Sc=RegExp(zr,"g"),Ia=RegExp(Wi,"g"),vi=RegExp(pi+"(?="+pi+")|"+wc+Gi,"g"),Ac=RegExp([mi+"?"+_a+"+"+$r+"(?="+[Pa,mi,"$"].join("|")+")",vc+"+"+Po+"(?="+[Pa,mi+Co,"$"].join("|")+")",mi+"?"+Co+"+"+$r,mi+"+"+Po,xc,yi,Oa,Oo].join("|"),"g"),Cc=RegExp("["+Ta+gi+wo+sn+"]"),q=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Is=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bi=-1,Kt={};Kt[Fr]=Kt[ho]=Kt[fo]=Kt[Ps]=Kt[go]=Kt[$i]=Kt[hi]=Kt[Os]=Kt[_s]=!0,Kt[fn]=Kt[$n]=Kt[zi]=Kt[jr]=Kt[ui]=Kt[dn]=Kt[As]=Kt[Cs]=Kt[Pn]=Kt[li]=Kt[Qe]=Kt[ci]=Kt[Vn]=Kt[gn]=Kt[Fi]=!1;var Qt={};Qt[fn]=Qt[$n]=Qt[zi]=Qt[ui]=Qt[jr]=Qt[dn]=Qt[Fr]=Qt[ho]=Qt[fo]=Qt[Ps]=Qt[go]=Qt[Pn]=Qt[li]=Qt[Qe]=Qt[ci]=Qt[Vn]=Qt[gn]=Qt[ji]=Qt[$i]=Qt[hi]=Qt[Os]=Qt[_s]=!0,Qt[As]=Qt[Cs]=Qt[Fi]=!1;var Pc={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},hr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Oc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},_c={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ec=parseFloat,Mc=parseInt,Ui=typeof dt.g=="object"&&dt.g&&dt.g.Object===Object&&dt.g,xi=typeof self=="object"&&self&&self.Object===Object&&self,qe=Ui||xi||Function("return this")(),_o=An&&!An.nodeType&&An,wi=_o&&!0&&Sn&&!Sn.nodeType&&Sn,La=wi&&wi.exports===_o,Vr=La&&Ui.process,In=function(){try{var $=wi&&wi.require&&wi.require("util").types;return $||Vr&&Vr.binding&&Vr.binding("util")}catch(U){}}(),Na=In&&In.isArrayBuffer,Da=In&&In.isDate,Hn=In&&In.isMap,Hr=In&&In.isRegExp,Eo=In&&In.isSet,qi=In&&In.isTypedArray;function _n($,U,W){switch(W.length){case 0:return $.call(U);case 1:return $.call(U,W[0]);case 2:return $.call(U,W[0],W[1]);case 3:return $.call(U,W[0],W[1],W[2])}return $.apply(U,W)}function Mo($,U,W,ut){for(var Ot=-1,Yt=$==null?0:$.length;++Ot<Yt;){var je=$[Ot];U(ut,je,W(je),$)}return ut}function Ln($,U){for(var W=-1,ut=$==null?0:$.length;++W<ut&&U($[W],W,$)!==!1;);return $}function To($,U){for(var W=$==null?0:$.length;W--&&U($[W],W,$)!==!1;);return $}function Ba($,U){for(var W=-1,ut=$==null?0:$.length;++W<ut;)if(!U($[W],W,$))return!1;return!0}function tr($,U){for(var W=-1,ut=$==null?0:$.length,Ot=0,Yt=[];++W<ut;){var je=$[W];U(je,W,$)&&(Yt[Ot++]=je)}return Yt}function Pt($,U){var W=$==null?0:$.length;return!!W&&dr($,U,0)>-1}function Ro($,U,W){for(var ut=-1,Ot=$==null?0:$.length;++ut<Ot;)if(W(U,$[ut]))return!0;return!1}function ye($,U){for(var W=-1,ut=$==null?0:$.length,Ot=Array(ut);++W<ut;)Ot[W]=U($[W],W,$);return Ot}function Nn($,U){for(var W=-1,ut=U.length,Ot=$.length;++W<ut;)$[Ot+W]=U[W];return $}function Io($,U,W,ut){var Ot=-1,Yt=$==null?0:$.length;for(ut&&Yt&&(W=$[++Ot]);++Ot<Yt;)W=U(W,$[Ot],Ot,$);return W}function ka($,U,W,ut){var Ot=$==null?0:$.length;for(ut&&Ot&&(W=$[--Ot]);Ot--;)W=U(W,$[Ot],Ot,$);return W}function Si($,U){for(var W=-1,ut=$==null?0:$.length;++W<ut;)if(U($[W],W,$))return!0;return!1}var fr=Ns("length");function Tc($){return $.split("")}function Rc($){return $.match(va)||[]}function Wr($,U,W){var ut;return W($,function(Ot,Yt,je){if(U(Ot,Yt,je))return ut=Yt,!1}),ut}function Ls($,U,W,ut){for(var Ot=$.length,Yt=W+(ut?1:-1);ut?Yt--:++Yt<Ot;)if(U($[Yt],Yt,$))return Yt;return-1}function dr($,U,W){return U===U?Bc($,U,W):Ls($,ja,W)}function Ic($,U,W,ut){for(var Ot=W-1,Yt=$.length;++Ot<Yt;)if(ut($[Ot],U))return Ot;return-1}function ja($){return $!==$}function Lo($,U){var W=$==null?0:$.length;return W?Sr($,U)/W:Wt}function Ns($){return function(U){return U==null?N:U[$]}}function No($){return function(U){return $==null?N:$[U]}}function Fa($,U,W,ut,Ot){return Ot($,function(Yt,je,re){W=ut?(ut=!1,Yt):U(W,Yt,je,re)}),W}function Lc($,U){var W=$.length;for($.sort(U);W--;)$[W]=$[W].value;return $}function Sr($,U){for(var W,ut=-1,Ot=$.length;++ut<Ot;){var Yt=U($[ut]);Yt!==N&&(W=W===N?Yt:W+Yt)}return W}function Do($,U){for(var W=-1,ut=Array($);++W<$;)ut[W]=U(W);return ut}function za($,U){return ye(U,function(W){return[W,$[W]]})}function $a($){return $&&$.slice(0,Ha($)+1).replace(mo,"")}function tn($){return function(U){return $(U)}}function Bo($,U){return ye(U,function(W){return $[W]})}function Ai($,U){return $.has(U)}function Ji($,U){for(var W=-1,ut=$.length;++W<ut&&dr(U,$[W],0)>-1;);return W}function Va($,U){for(var W=$.length;W--&&dr(U,$[W],0)>-1;);return W}function Xi($,U){for(var W=$.length,ut=0;W--;)$[W]===U&&++ut;return ut}var Wn=No(Pc),ko=No(hr);function Ds($){return"\\"+_c[$]}function jo($,U){return $==null?N:$[U]}function pn($){return Cc.test($)}function Nc($){return q.test($)}function Bs($){for(var U,W=[];!(U=$.next()).done;)W.push(U.value);return W}function er($){var U=-1,W=Array($.size);return $.forEach(function(ut,Ot){W[++U]=[Ot,ut]}),W}function Yi($,U){return function(W){return $(U(W))}}function gr($,U){for(var W=-1,ut=$.length,Ot=0,Yt=[];++W<ut;){var je=$[W];(je===U||je===nt)&&($[W]=nt,Yt[Ot++]=W)}return Yt}function Gr($){var U=-1,W=Array($.size);return $.forEach(function(ut){W[++U]=ut}),W}function Dc($){var U=-1,W=Array($.size);return $.forEach(function(ut){W[++U]=[ut,ut]}),W}function Bc($,U,W){for(var ut=W-1,Ot=$.length;++ut<Ot;)if($[ut]===U)return ut;return-1}function kc($,U,W){for(var ut=W+1;ut--;)if($[ut]===U)return ut;return ut}function Ar($){return pn($)?Fc($):fr($)}function Dn($){return pn($)?Ah($):Tc($)}function Ha($){for(var U=$.length;U--&&oc.test($.charAt(U)););return U}var jc=No(Oc);function Fc($){for(var U=vi.lastIndex=0;vi.test($);)++U;return U}function Ah($){return $.match(vi)||[]}function Ch($){return $.match(Ac)||[]}var zc=function $(U){U=U==null?qe:Zi.defaults(qe.Object(),U,Zi.pick(qe,Is));var W=U.Array,ut=U.Date,Ot=U.Error,Yt=U.Function,je=U.Math,re=U.Object,Cr=U.RegExp,Wa=U.String,mn=U.TypeError,Ki=W.prototype,Ga=Yt.prototype,Ur=re.prototype,Qi=U["__core-js_shared__"],Ci=Ga.toString,ie=Ur.hasOwnProperty,$c=0,Ua=function(){var o=/[^.]+$/.exec(Qi&&Qi.keys&&Qi.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),pr=Ur.toString,Vc=Ci.call(re),Hc=qe._,Wc=Cr("^"+Ci.call(ie).replace(Ve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ks=La?U.Buffer:N,mr=U.Symbol,Pi=U.Uint8Array,js=ks?ks.allocUnsafe:N,Fs=Yi(re.getPrototypeOf,re),qa=re.create,Ja=Ur.propertyIsEnumerable,Fo=Ki.splice,Xa=mr?mr.isConcatSpreadable:N,ts=mr?mr.iterator:N,qr=mr?mr.toStringTag:N,zs=function(){try{var o=sr(re,"defineProperty");return o({},"",{}),o}catch(c){}}(),Ph=U.clearTimeout!==qe.clearTimeout&&U.clearTimeout,Gc=ut&&ut.now!==qe.Date.now&&ut.now,Oh=U.setTimeout!==qe.setTimeout&&U.setTimeout,zo=je.ceil,A=je.floor,b=re.getOwnPropertySymbols,w=ks?ks.isBuffer:N,y=U.isFinite,S=Ki.join,_=Yi(re.keys,re),I=je.max,F=je.min,Z=ut.now,et=U.parseInt,ct=je.random,mt=Ki.reverse,$t=sr(U,"DataView"),Et=sr(U,"Map"),jt=sr(U,"Promise"),Mt=sr(U,"Set"),Xt=sr(U,"WeakMap"),Lt=sr(re,"create"),te=Xt&&new Xt,he={},yr=us($t),on=us(Et),es=us(jt),Pr=us(Mt),$o=us(Xt),Oi=mr?mr.prototype:N,Vo=Oi?Oi.valueOf:N,Uc=Oi?Oi.toString:N;function E(o){if(Te(o)&&!Tt(o)&&!(o instanceof Vt)){if(o instanceof nr)return o;if(ie.call(o,"__wrapped__"))return Of(o)}return new nr(o)}var $s=function(){function o(){}return function(c){if(!Pe(c))return{};if(qa)return qa(c);o.prototype=c;var f=new o;return o.prototype=N,f}}();function Ya(){}function nr(o,c){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=N}E.templateSettings={escape:ga,evaluate:nc,interpolate:pa,variable:"",imports:{_:E}},E.prototype=Ya.prototype,E.prototype.constructor=E,nr.prototype=$s(Ya.prototype),nr.prototype.constructor=nr;function Vt(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Jt,this.__views__=[]}function yg(){var o=new Vt(this.__wrapped__);return o.__actions__=Bn(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=Bn(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=Bn(this.__views__),o}function qc(){if(this.__filtered__){var o=new Vt(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function vg(){var o=this.__wrapped__.value(),c=this.__dir__,f=Tt(o),v=c<0,P=f?o.length:0,T=cp(0,P,this.__views__),D=T.start,j=T.end,V=j-D,X=v?j:D-1,Y=this.__iteratees__,Q=Y.length,at=0,vt=F(V,this.__takeCount__);if(!f||!v&&P==V&&vt==V)return Yh(o,this.__actions__);var Ct=[];t:for(;V--&&at<vt;){X+=c;for(var kt=-1,At=o[X];++kt<Q;){var Ht=Y[kt],zt=Ht.iteratee,qn=Ht.type,yn=zt(At);if(qn==hn)At=yn;else if(!yn){if(qn==ke)continue t;break t}}Ct[at++]=At}return Ct}Vt.prototype=$s(Ya.prototype),Vt.prototype.constructor=Vt;function ns(o){var c=-1,f=o==null?0:o.length;for(this.clear();++c<f;){var v=o[c];this.set(v[0],v[1])}}function Za(){this.__data__=Lt?Lt(null):{},this.size=0}function bg(o){var c=this.has(o)&&delete this.__data__[o];return this.size-=c?1:0,c}function _h(o){var c=this.__data__;if(Lt){var f=c[o];return f===lt?N:f}return ie.call(c,o)?c[o]:N}function xg(o){var c=this.__data__;return Lt?c[o]!==N:ie.call(c,o)}function rs(o,c){var f=this.__data__;return this.size+=this.has(o)?0:1,f[o]=Lt&&c===N?lt:c,this}ns.prototype.clear=Za,ns.prototype.delete=bg,ns.prototype.get=_h,ns.prototype.has=xg,ns.prototype.set=rs;function Jr(o){var c=-1,f=o==null?0:o.length;for(this.clear();++c<f;){var v=o[c];this.set(v[0],v[1])}}function Ka(){this.__data__=[],this.size=0}function wg(o){var c=this.__data__,f=Qa(c,o);if(f<0)return!1;var v=c.length-1;return f==v?c.pop():Fo.call(c,f,1),--this.size,!0}function Sg(o){var c=this.__data__,f=Qa(c,o);return f<0?N:c[f][1]}function Eh(o){return Qa(this.__data__,o)>-1}function Mh(o,c){var f=this.__data__,v=Qa(f,o);return v<0?(++this.size,f.push([o,c])):f[v][1]=c,this}Jr.prototype.clear=Ka,Jr.prototype.delete=wg,Jr.prototype.get=Sg,Jr.prototype.has=Eh,Jr.prototype.set=Mh;function Xr(o){var c=-1,f=o==null?0:o.length;for(this.clear();++c<f;){var v=o[c];this.set(v[0],v[1])}}function Th(){this.size=0,this.__data__={hash:new ns,map:new(Et||Jr),string:new ns}}function Ag(o){var c=yl(this,o).delete(o);return this.size-=c?1:0,c}function Cg(o){return yl(this,o).get(o)}function Vs(o){return yl(this,o).has(o)}function Pg(o,c){var f=yl(this,o),v=f.size;return f.set(o,c),this.size+=f.size==v?0:1,this}Xr.prototype.clear=Th,Xr.prototype.delete=Ag,Xr.prototype.get=Cg,Xr.prototype.has=Vs,Xr.prototype.set=Pg;function is(o){var c=-1,f=o==null?0:o.length;for(this.__data__=new Xr;++c<f;)this.add(o[c])}function Og(o){return this.__data__.set(o,lt),this}function Rh(o){return this.__data__.has(o)}is.prototype.add=is.prototype.push=Og,is.prototype.has=Rh;function vr(o){var c=this.__data__=new Jr(o);this.size=c.size}function _g(){this.__data__=new Jr,this.size=0}function Eg(o){var c=this.__data__,f=c.delete(o);return this.size=c.size,f}function Or(o){return this.__data__.get(o)}function Mg(o){return this.__data__.has(o)}function Tg(o,c){var f=this.__data__;if(f instanceof Jr){var v=f.__data__;if(!Et||v.length<Kn-1)return v.push([o,c]),this.size=++f.size,this;f=this.__data__=new Xr(v)}return f.set(o,c),this.size=f.size,this}vr.prototype.clear=_g,vr.prototype.delete=Eg,vr.prototype.get=Or,vr.prototype.has=Mg,vr.prototype.set=Tg;function Ih(o,c){var f=Tt(o),v=!f&&hs(o),P=!f&&!v&&Li(o),T=!f&&!v&&!P&&fs(o),D=f||v||P||T,j=D?Do(o.length,Wa):[],V=j.length;for(var X in o)(c||ie.call(o,X))&&!(D&&(X=="length"||P&&(X=="offset"||X=="parent")||T&&(X=="buffer"||X=="byteLength"||X=="byteOffset")||ni(X,V)))&&j.push(X);return j}function Lh(o){var c=o.length;return c?o[Ee(0,c-1)]:N}function Rg(o,c){return bl(Bn(o),ss(c,0,o.length))}function Ig(o){return bl(Bn(o))}function Jc(o,c,f){(f!==N&&!xr(o[c],f)||f===N&&!(c in o))&&Yr(o,c,f)}function Ho(o,c,f){var v=o[c];(!(ie.call(o,c)&&xr(v,f))||f===N&&!(c in o))&&Yr(o,c,f)}function Qa(o,c){for(var f=o.length;f--;)if(xr(o[f][0],c))return f;return-1}function Lg(o,c,f,v){return _i(o,function(P,T,D){c(v,P,f(P),D)}),v}function Nh(o,c){return o&&_r(c,en(c),o)}function Ng(o,c){return o&&_r(c,jn(c),o)}function Yr(o,c,f){c=="__proto__"&&zs?zs(o,c,{configurable:!0,enumerable:!0,value:f,writable:!0}):o[c]=f}function Xc(o,c){for(var f=-1,v=c.length,P=W(v),T=o==null;++f<v;)P[f]=T?N:ju(o,c[f]);return P}function ss(o,c,f){return o===o&&(f!==N&&(o=o<=f?o:f),c!==N&&(o=o>=c?o:c)),o}function rr(o,c,f,v,P,T){var D,j=c&yt,V=c&Dt,X=c&Bt;if(f&&(D=P?f(o,v,P,T):f(o)),D!==N)return D;if(!Pe(o))return o;var Y=Tt(o);if(Y){if(D=up(o),!j)return Bn(o,D)}else{var Q=Je(o),at=Q==Cs||Q==fa;if(Li(o))return Qh(o,j);if(Q==Qe||Q==fn||at&&!P){if(D=V||at?{}:vu(o),!j)return V?np(o,Ng(D,o)):sf(o,Nh(D,o))}else{if(!Qt[Q])return P?o:{};D=bu(o,Q,j)}}T||(T=new vr);var vt=T.get(o);if(vt)return vt;T.set(o,D),ld(o)?o.forEach(function(At){D.add(rr(At,c,f,At,o,T))}):od(o)&&o.forEach(function(At,Ht){D.set(Ht,rr(At,c,f,Ht,o,T))});var Ct=X?V?pl:gl:V?jn:en,kt=Y?N:Ct(o);return Ln(kt||o,function(At,Ht){kt&&(Ht=At,At=o[Ht]),Ho(D,Ht,rr(At,c,f,Ht,o,T))}),D}function Dg(o){var c=en(o);return function(f){return Dh(f,o,c)}}function Dh(o,c,f){var v=f.length;if(o==null)return!v;for(o=re(o);v--;){var P=f[v],T=c[P],D=o[P];if(D===N&&!(P in o)||!T(D))return!1}return!0}function Bh(o,c,f){if(typeof o!="function")throw new mn(Ce);return Ko(function(){o.apply(N,f)},c)}function Wo(o,c,f,v){var P=-1,T=Pt,D=!0,j=o.length,V=[],X=c.length;if(!j)return V;f&&(c=ye(c,tn(f))),v?(T=Ro,D=!1):c.length>=Kn&&(T=Ai,D=!1,c=new is(c));t:for(;++P<j;){var Y=o[P],Q=f==null?Y:f(Y);if(Y=v||Y!==0?Y:0,D&&Q===Q){for(var at=X;at--;)if(c[at]===Q)continue t;V.push(Y)}else T(c,Q,v)||V.push(Y)}return V}var _i=of(br),kh=of(os,!0);function Bg(o,c){var f=!0;return _i(o,function(v,P,T){return f=!!c(v,P,T),f}),f}function tl(o,c,f){for(var v=-1,P=o.length;++v<P;){var T=o[v],D=c(T);if(D!=null&&(j===N?D===D&&!Un(D):f(D,j)))var j=D,V=T}return V}function be(o,c,f,v){var P=o.length;for(f=Nt(f),f<0&&(f=-f>P?0:P+f),v=v===N||v>P?P:Nt(v),v<0&&(v+=P),v=f>v?0:cd(v);f<v;)o[f++]=c;return o}function jh(o,c){var f=[];return _i(o,function(v,P,T){c(v,P,T)&&f.push(v)}),f}function an(o,c,f,v,P){var T=-1,D=o.length;for(f||(f=ei),P||(P=[]);++T<D;){var j=o[T];c>0&&f(j)?c>1?an(j,c-1,f,v,P):Nn(P,j):v||(P[P.length]=j)}return P}var Yc=ul(),Hs=ul(!0);function br(o,c){return o&&Yc(o,c,en)}function os(o,c){return o&&Hs(o,c,en)}function el(o,c){return tr(c,function(f){return ri(o[f])})}function Zr(o,c){c=Ti(c,o);for(var f=0,v=c.length;o!=null&&f<v;)o=o[Mr(c[f++])];return f&&f==v?o:N}function Fh(o,c,f){var v=c(o);return Tt(o)?v:Nn(v,f(o))}function He(o){return o==null?o===N?Ql:uo:qr&&qr in re(o)?lp(o):yp(o)}function nl(o,c){return o>c}function kg(o,c){return o!=null&&ie.call(o,c)}function rl(o,c){return o!=null&&c in re(o)}function jg(o,c,f){return o>=F(c,f)&&o<I(c,f)}function Go(o,c,f){for(var v=f?Ro:Pt,P=o[0].length,T=o.length,D=T,j=W(T),V=1/0,X=[];D--;){var Y=o[D];D&&c&&(Y=ye(Y,tn(c))),V=F(Y.length,V),j[D]=!f&&(c||P>=120&&Y.length>=120)?new is(D&&Y):N}Y=o[0];var Q=-1,at=j[0];t:for(;++Q<P&&X.length<V;){var vt=Y[Q],Ct=c?c(vt):vt;if(vt=f||vt!==0?vt:0,!(at?Ai(at,Ct):v(X,Ct,f))){for(D=T;--D;){var kt=j[D];if(!(kt?Ai(kt,Ct):v(o[D],Ct,f)))continue t}at&&at.push(Ct),X.push(vt)}}return X}function Fg(o,c,f,v){return br(o,function(P,T,D){c(v,f(P),T,D)}),v}function Kr(o,c,f){c=Ti(c,o),o=xf(o,c);var v=o==null?o:o[Mr(or(c))];return v==null?N:_n(v,o,f)}function zh(o){return Te(o)&&He(o)==fn}function zg(o){return Te(o)&&He(o)==zi}function $g(o){return Te(o)&&He(o)==dn}function Uo(o,c,f,v,P){return o===c?!0:o==null||c==null||!Te(o)&&!Te(c)?o!==o&&c!==c:Vg(o,c,f,v,Uo,P)}function Vg(o,c,f,v,P,T){var D=Tt(o),j=Tt(c),V=D?$n:Je(o),X=j?$n:Je(c);V=V==fn?Qe:V,X=X==fn?Qe:X;var Y=V==Qe,Q=X==Qe,at=V==X;if(at&&Li(o)){if(!Li(c))return!1;D=!0,Y=!1}if(at&&!Y)return T||(T=new vr),D||fs(o)?pu(o,c,f,v,P,T):ap(o,c,V,f,v,P,T);if(!(f&ne)){var vt=Y&&ie.call(o,"__wrapped__"),Ct=Q&&ie.call(c,"__wrapped__");if(vt||Ct){var kt=vt?o.value():o,At=Ct?c.value():c;return T||(T=new vr),P(kt,At,f,v,T)}}return at?(T||(T=new vr),df(o,c,f,v,P,T)):!1}function $h(o){return Te(o)&&Je(o)==Pn}function Zc(o,c,f,v){var P=f.length,T=P,D=!v;if(o==null)return!T;for(o=re(o);P--;){var j=f[P];if(D&&j[2]?j[1]!==o[j[0]]:!(j[0]in o))return!1}for(;++P<T;){j=f[P];var V=j[0],X=o[V],Y=j[1];if(D&&j[2]){if(X===N&&!(V in o))return!1}else{var Q=new vr;if(v)var at=v(X,Y,V,o,c,Q);if(!(at===N?Uo(Y,X,ne|de,v,Q):at))return!1}}return!0}function Vh(o){if(!Pe(o)||mf(o))return!1;var c=ri(o)?Wc:xo;return c.test(us(o))}function Hg(o){return Te(o)&&He(o)==ci}function Wg(o){return Te(o)&&Je(o)==Vn}function Gg(o){return Te(o)&&Pl(o.length)&&!!Kt[He(o)]}function Hh(o){return typeof o=="function"?o:o==null?Mn:typeof o=="object"?Tt(o)?Uh(o[0],o[1]):Gh(o):Dd(o)}function Kc(o){if(!Zo(o))return _(o);var c=[];for(var f in re(o))ie.call(o,f)&&f!="constructor"&&c.push(f);return c}function Ws(o){if(!Pe(o))return mp(o);var c=Zo(o),f=[];for(var v in o)v=="constructor"&&(c||!ie.call(o,v))||f.push(v);return f}function Qc(o,c){return o<c}function Wh(o,c){var f=-1,v=kn(o)?W(o.length):[];return _i(o,function(P,T,D){v[++f]=c(P,T,D)}),v}function Gh(o){var c=ti(o);return c.length==1&&c[0][2]?vf(c[0][0],c[0][1]):function(f){return f===o||Zc(f,o,c)}}function Uh(o,c){return xu(o)&&yf(c)?vf(Mr(o),c):function(f){var v=ju(f,o);return v===N&&v===c?Fu(f,o):Uo(c,v,ne|de)}}function qo(o,c,f,v,P){o!==c&&Yc(c,function(T,D){if(P||(P=new vr),Pe(T))tu(o,c,D,f,qo,v,P);else{var j=v?v(Su(o,D),T,D+"",o,c,P):N;j===N&&(j=T),Jc(o,D,j)}},jn)}function tu(o,c,f,v,P,T,D){var j=Su(o,f),V=Su(c,f),X=D.get(V);if(X){Jc(o,f,X);return}var Y=T?T(j,V,f+"",o,c,D):N,Q=Y===N;if(Q){var at=Tt(V),vt=!at&&Li(V),Ct=!at&&!vt&&fs(V);Y=V,at||vt||Ct?Tt(j)?Y=j:Fe(j)?Y=Bn(j):vt?(Q=!1,Y=Qh(V,!0)):Ct?(Q=!1,Y=ef(V,!0)):Y=[]:ea(V)||hs(V)?(Y=j,hs(j)?Y=ud(j):(!Pe(j)||ri(j))&&(Y=vu(V))):Q=!1}Q&&(D.set(V,Y),P(Y,V,v,T,D),D.delete(V)),Jc(o,f,Y)}function qh(o,c){var f=o.length;if(f)return c+=c<0?f:0,ni(c,f)?o[c]:N}function as(o,c,f){c.length?c=ye(c,function(T){return Tt(T)?function(D){return Zr(D,T.length===1?T[0]:T)}:T}):c=[Mn];var v=-1;c=ye(c,tn(St()));var P=Wh(o,function(T,D,j){var V=ye(c,function(X){return X(T)});return{criteria:V,index:++v,value:T}});return Lc(P,function(T,D){return ep(T,D,f)})}function Ug(o,c){return Jo(o,c,function(f,v){return Fu(o,v)})}function Jo(o,c,f){for(var v=-1,P=c.length,T={};++v<P;){var D=c[v],j=Zr(o,D);f(j,D)&&Ei(T,Ti(D,o),j)}return T}function qg(o){return function(c){return Zr(c,o)}}function il(o,c,f,v){var P=v?Ic:dr,T=-1,D=c.length,j=o;for(o===c&&(c=Bn(c)),f&&(j=ye(o,tn(f)));++T<D;)for(var V=0,X=c[T],Y=f?f(X):X;(V=P(j,Y,V,v))>-1;)j!==o&&Fo.call(j,V,1),Fo.call(o,V,1);return o}function Jh(o,c){for(var f=o?c.length:0,v=f-1;f--;){var P=c[f];if(f==v||P!==T){var T=P;ni(P)?Fo.call(o,P,1):su(o,P)}}return o}function Ee(o,c){return o+A(ct()*(c-o+1))}function Jg(o,c,f,v){for(var P=-1,T=I(zo((c-o)/(f||1)),0),D=W(T);T--;)D[v?T:++P]=o,o+=f;return D}function eu(o,c){var f="";if(!o||c<1||c>ue)return f;do c%2&&(f+=o),c=A(c/2),c&&(o+=o);while(c);return f}function Ft(o,c){return Au(bf(o,c,Mn),o+"")}function Xg(o){return Lh(Xs(o))}function Yg(o,c){var f=Xs(o);return bl(f,ss(c,0,f.length))}function Ei(o,c,f,v){if(!Pe(o))return o;c=Ti(c,o);for(var P=-1,T=c.length,D=T-1,j=o;j!=null&&++P<T;){var V=Mr(c[P]),X=f;if(V==="__proto__"||V==="constructor"||V==="prototype")return o;if(P!=D){var Y=j[V];X=v?v(Y,V,j):N,X===N&&(X=Pe(Y)?Y:ni(c[P+1])?[]:{})}Ho(j,V,X),j=j[V]}return o}var sl=te?function(o,c){return te.set(o,c),o}:Mn,Zg=zs?function(o,c){return zs(o,"toString",{configurable:!0,enumerable:!1,value:Hu(c),writable:!0})}:Mn;function Kg(o){return bl(Xs(o))}function ir(o,c,f){var v=-1,P=o.length;c<0&&(c=-c>P?0:P+c),f=f>P?P:f,f<0&&(f+=P),P=c>f?0:f-c>>>0,c>>>=0;for(var T=W(P);++v<P;)T[v]=o[v+c];return T}function nu(o,c){var f;return _i(o,function(v,P,T){return f=c(v,P,T),!f}),!!f}function ol(o,c,f){var v=0,P=o==null?v:o.length;if(typeof c=="number"&&c===c&&P<=Br){for(;v<P;){var T=v+P>>>1,D=o[T];D!==null&&!Un(D)&&(f?D<=c:D<c)?v=T+1:P=T}return P}return ru(o,c,Mn,f)}function ru(o,c,f,v){var P=0,T=o==null?0:o.length;if(T===0)return 0;c=f(c);for(var D=c!==c,j=c===null,V=Un(c),X=c===N;P<T;){var Y=A((P+T)/2),Q=f(o[Y]),at=Q!==N,vt=Q===null,Ct=Q===Q,kt=Un(Q);if(D)var At=v||Ct;else X?At=Ct&&(v||at):j?At=Ct&&at&&(v||!vt):V?At=Ct&&at&&!vt&&(v||!kt):vt||kt?At=!1:At=v?Q<=c:Q<c;At?P=Y+1:T=Y}return F(T,me)}function Xh(o,c){for(var f=-1,v=o.length,P=0,T=[];++f<v;){var D=o[f],j=c?c(D):D;if(!f||!xr(j,V)){var V=j;T[P++]=D===0?0:D}}return T}function iu(o){return typeof o=="number"?o:Un(o)?Wt:+o}function Gn(o){if(typeof o=="string")return o;if(Tt(o))return ye(o,Gn)+"";if(Un(o))return Uc?Uc.call(o):"";var c=o+"";return c=="0"&&1/o==-oe?"-0":c}function Mi(o,c,f){var v=-1,P=Pt,T=o.length,D=!0,j=[],V=j;if(f)D=!1,P=Ro;else if(T>=Kn){var X=c?null:op(o);if(X)return Gr(X);D=!1,P=Ai,V=new is}else V=c?[]:j;t:for(;++v<T;){var Y=o[v],Q=c?c(Y):Y;if(Y=f||Y!==0?Y:0,D&&Q===Q){for(var at=V.length;at--;)if(V[at]===Q)continue t;c&&V.push(Q),j.push(Y)}else P(V,Q,f)||(V!==j&&V.push(Q),j.push(Y))}return j}function su(o,c){return c=Ti(c,o),o=xf(o,c),o==null||delete o[Mr(or(c))]}function al(o,c,f,v){return Ei(o,c,f(Zr(o,c)),v)}function ll(o,c,f,v){for(var P=o.length,T=v?P:-1;(v?T--:++T<P)&&c(o[T],T,o););return f?ir(o,v?0:T,v?T+1:P):ir(o,v?T+1:0,v?P:T)}function Yh(o,c){var f=o;return f instanceof Vt&&(f=f.value()),Io(c,function(v,P){return P.func.apply(P.thisArg,Nn([v],P.args))},f)}function ou(o,c,f){var v=o.length;if(v<2)return v?Mi(o[0]):[];for(var P=-1,T=W(v);++P<v;)for(var D=o[P],j=-1;++j<v;)j!=P&&(T[P]=Wo(T[P]||D,o[j],c,f));return Mi(an(T,1),c,f)}function Zh(o,c,f){for(var v=-1,P=o.length,T=c.length,D={};++v<P;){var j=v<T?c[v]:N;f(D,o[v],j)}return D}function au(o){return Fe(o)?o:[]}function lu(o){return typeof o=="function"?o:Mn}function Ti(o,c){return Tt(o)?o:xu(o,c)?[o]:Pf(ae(o))}var Qg=Ft;function Ri(o,c,f){var v=o.length;return f=f===N?v:f,!c&&f>=v?o:ir(o,c,f)}var Kh=Ph||function(o){return qe.clearTimeout(o)};function Qh(o,c){if(c)return o.slice();var f=o.length,v=js?js(f):new o.constructor(f);return o.copy(v),v}function cu(o){var c=new o.constructor(o.byteLength);return new Pi(c).set(new Pi(o)),c}function tp(o,c){var f=c?cu(o.buffer):o.buffer;return new o.constructor(f,o.byteOffset,o.byteLength)}function tf(o){var c=new o.constructor(o.source,ba.exec(o));return c.lastIndex=o.lastIndex,c}function uu(o){return Vo?re(Vo.call(o)):{}}function ef(o,c){var f=c?cu(o.buffer):o.buffer;return new o.constructor(f,o.byteOffset,o.length)}function nf(o,c){if(o!==c){var f=o!==N,v=o===null,P=o===o,T=Un(o),D=c!==N,j=c===null,V=c===c,X=Un(c);if(!j&&!X&&!T&&o>c||T&&D&&V&&!j&&!X||v&&D&&V||!f&&V||!P)return 1;if(!v&&!T&&!X&&o<c||X&&f&&P&&!v&&!T||j&&f&&P||!D&&P||!V)return-1}return 0}function ep(o,c,f){for(var v=-1,P=o.criteria,T=c.criteria,D=P.length,j=f.length;++v<D;){var V=nf(P[v],T[v]);if(V){if(v>=j)return V;var X=f[v];return V*(X=="desc"?-1:1)}}return o.index-c.index}function hu(o,c,f,v){for(var P=-1,T=o.length,D=f.length,j=-1,V=c.length,X=I(T-D,0),Y=W(V+X),Q=!v;++j<V;)Y[j]=c[j];for(;++P<D;)(Q||P<T)&&(Y[f[P]]=o[P]);for(;X--;)Y[j++]=o[P++];return Y}function rf(o,c,f,v){for(var P=-1,T=o.length,D=-1,j=f.length,V=-1,X=c.length,Y=I(T-j,0),Q=W(Y+X),at=!v;++P<Y;)Q[P]=o[P];for(var vt=P;++V<X;)Q[vt+V]=c[V];for(;++D<j;)(at||P<T)&&(Q[vt+f[D]]=o[P++]);return Q}function Bn(o,c){var f=-1,v=o.length;for(c||(c=W(v));++f<v;)c[f]=o[f];return c}function _r(o,c,f,v){var P=!f;f||(f={});for(var T=-1,D=c.length;++T<D;){var j=c[T],V=v?v(f[j],o[j],j,f,o):N;V===N&&(V=o[j]),P?Yr(f,j,V):Ho(f,j,V)}return f}function sf(o,c){return _r(o,vl(o),c)}function np(o,c){return _r(o,yu(o),c)}function cl(o,c){return function(f,v){var P=Tt(f)?Mo:Lg,T=c?c():{};return P(f,o,St(v,2),T)}}function ls(o){return Ft(function(c,f){var v=-1,P=f.length,T=P>1?f[P-1]:N,D=P>2?f[2]:N;for(T=o.length>3&&typeof T=="function"?(P--,T):N,D&&En(f[0],f[1],D)&&(T=P<3?N:T,P=1),c=re(c);++v<P;){var j=f[v];j&&o(c,j,v,T)}return c})}function of(o,c){return function(f,v){if(f==null)return f;if(!kn(f))return o(f,v);for(var P=f.length,T=c?P:-1,D=re(f);(c?T--:++T<P)&&v(D[T],T,D)!==!1;);return f}}function ul(o){return function(c,f,v){for(var P=-1,T=re(c),D=v(c),j=D.length;j--;){var V=D[o?j:++P];if(f(T[V],V,T)===!1)break}return c}}function rp(o,c,f){var v=c&Zt,P=Xo(o);function T(){var D=this&&this!==qe&&this instanceof T?P:o;return D.apply(v?f:this,arguments)}return T}function af(o){return function(c){c=ae(c);var f=pn(c)?Dn(c):N,v=f?f[0]:c.charAt(0),P=f?Ri(f,1).join(""):c.slice(1);return v[o]()+P}}function Gs(o){return function(c){return Io($u(xd(c).replace(Sc,"")),o,"")}}function Xo(o){return function(){var c=arguments;switch(c.length){case 0:return new o;case 1:return new o(c[0]);case 2:return new o(c[0],c[1]);case 3:return new o(c[0],c[1],c[2]);case 4:return new o(c[0],c[1],c[2],c[3]);case 5:return new o(c[0],c[1],c[2],c[3],c[4]);case 6:return new o(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new o(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var f=$s(o.prototype),v=o.apply(f,c);return Pe(v)?v:f}}function ip(o,c,f){var v=Xo(o);function P(){for(var T=arguments.length,D=W(T),j=T,V=qs(P);j--;)D[j]=arguments[j];var X=T<3&&D[0]!==V&&D[T-1]!==V?[]:gr(D,V);if(T-=X.length,T<f)return hf(o,c,Ii,P.placeholder,N,D,X,N,N,f-T);var Y=this&&this!==qe&&this instanceof P?v:o;return _n(Y,this,D)}return P}function fu(o){return function(c,f,v){var P=re(c);if(!kn(c)){var T=St(f,3);c=en(c),f=function(j){return T(P[j],j,P)}}var D=o(c,f,v);return D>-1?P[T?c[D]:D]:N}}function lf(o){return Er(function(c){var f=c.length,v=f,P=nr.prototype.thru;for(o&&c.reverse();v--;){var T=c[v];if(typeof T!="function")throw new mn(Ce);if(P&&!D&&ml(T)=="wrapper")var D=new nr([],!0)}for(v=D?v:f;++v<f;){T=c[v];var j=ml(T),V=j=="wrapper"?mu(T):N;V&&wu(V[0])&&V[1]==(wt|ge|qt|pe)&&!V[4].length&&V[9]==1?D=D[ml(V[0])].apply(D,V[3]):D=T.length==1&&wu(T)?D[j]():D.thru(T)}return function(){var X=arguments,Y=X[0];if(D&&X.length==1&&Tt(Y))return D.plant(Y).value();for(var Q=0,at=f?c[Q].apply(this,X):Y;++Q<f;)at=c[Q].call(this,at);return at}})}function Ii(o,c,f,v,P,T,D,j,V,X){var Y=c&wt,Q=c&Zt,at=c&$e,vt=c&(ge|De),Ct=c&Qn,kt=at?N:Xo(o);function At(){for(var Ht=arguments.length,zt=W(Ht),qn=Ht;qn--;)zt[qn]=arguments[qn];if(vt)var yn=qs(At),Jn=Xi(zt,yn);if(v&&(zt=hu(zt,v,P,vt)),T&&(zt=rf(zt,T,D,vt)),Ht-=Jn,vt&&Ht<X){var ze=gr(zt,yn);return hf(o,c,Ii,At.placeholder,f,zt,ze,j,V,X-Ht)}var wr=Q?f:this,Xn=at?wr[o]:o;return Ht=zt.length,j?zt=wf(zt,j):Ct&&Ht>1&&zt.reverse(),Y&&V<Ht&&(zt.length=V),this&&this!==qe&&this instanceof At&&(Xn=kt||Xo(Xn)),Xn.apply(wr,zt)}return At}function cf(o,c){return function(f,v){return Fg(f,o,c(v),{})}}function Us(o,c){return function(f,v){var P;if(f===N&&v===N)return c;if(f!==N&&(P=f),v!==N){if(P===N)return v;typeof f=="string"||typeof v=="string"?(f=Gn(f),v=Gn(v)):(f=iu(f),v=iu(v)),P=o(f,v)}return P}}function du(o){return Er(function(c){return c=ye(c,tn(St())),Ft(function(f){var v=this;return o(c,function(P){return _n(P,v,f)})})})}function hl(o,c){c=c===N?" ":Gn(c);var f=c.length;if(f<2)return f?eu(c,o):c;var v=eu(c,zo(o/Ar(c)));return pn(c)?Ri(Dn(v),0,o).join(""):v.slice(0,o)}function sp(o,c,f,v){var P=c&Zt,T=Xo(o);function D(){for(var j=-1,V=arguments.length,X=-1,Y=v.length,Q=W(Y+V),at=this&&this!==qe&&this instanceof D?T:o;++X<Y;)Q[X]=v[X];for(;V--;)Q[X++]=arguments[++j];return _n(at,P?f:this,Q)}return D}function uf(o){return function(c,f,v){return v&&typeof v!="number"&&En(c,f,v)&&(f=v=N),c=ii(c),f===N?(f=c,c=0):f=ii(f),v=v===N?c<f?1:-1:ii(v),Jg(c,f,v,o)}}function fl(o){return function(c,f){return typeof c=="string"&&typeof f=="string"||(c=lr(c),f=lr(f)),o(c,f)}}function hf(o,c,f,v,P,T,D,j,V,X){var Y=c&ge,Q=Y?D:N,at=Y?N:D,vt=Y?T:N,Ct=Y?N:T;c|=Y?qt:Ue,c&=~(Y?Ue:qt),c&Ge||(c&=~(Zt|$e));var kt=[o,c,P,vt,Q,Ct,at,j,V,X],At=f.apply(N,kt);return wu(o)&&Sf(At,kt),At.placeholder=v,Af(At,o,c)}function Yo(o){var c=je[o];return function(f,v){if(f=lr(f),v=v==null?0:F(Nt(v),292),v&&y(f)){var P=(ae(f)+"e").split("e"),T=c(P[0]+"e"+(+P[1]+v));return P=(ae(T)+"e").split("e"),+(P[0]+"e"+(+P[1]-v))}return c(f)}}var op=Mt&&1/Gr(new Mt([,-0]))[1]==oe?function(o){return new Mt(o)}:Uu;function dl(o){return function(c){var f=Je(c);return f==Pn?er(c):f==Vn?Dc(c):za(c,o(c))}}function Qr(o,c,f,v,P,T,D,j){var V=c&$e;if(!V&&typeof o!="function")throw new mn(Ce);var X=v?v.length:0;if(X||(c&=~(qt|Ue),v=P=N),D=D===N?D:I(Nt(D),0),j=j===N?j:Nt(j),X-=P?P.length:0,c&Ue){var Y=v,Q=P;v=P=N}var at=V?N:mu(o),vt=[o,c,f,v,P,Y,Q,T,D,j];if(at&&pp(vt,at),o=vt[0],c=vt[1],f=vt[2],v=vt[3],P=vt[4],j=vt[9]=vt[9]===N?V?0:o.length:I(vt[9]-X,0),!j&&c&(ge|De)&&(c&=~(ge|De)),!c||c==Zt)var Ct=rp(o,c,f);else c==ge||c==De?Ct=ip(o,c,j):(c==qt||c==(Zt|qt))&&!P.length?Ct=sp(o,c,f,v):Ct=Ii.apply(N,vt);var kt=at?sl:Sf;return Af(kt(Ct,vt),o,c)}function cs(o,c,f,v){return o===N||xr(o,Ur[f])&&!ie.call(v,f)?c:o}function ff(o,c,f,v,P,T){return Pe(o)&&Pe(c)&&(T.set(c,o),qo(o,c,N,ff,T),T.delete(c)),o}function gu(o){return ea(o)?N:o}function pu(o,c,f,v,P,T){var D=f&ne,j=o.length,V=c.length;if(j!=V&&!(D&&V>j))return!1;var X=T.get(o),Y=T.get(c);if(X&&Y)return X==c&&Y==o;var Q=-1,at=!0,vt=f&de?new is:N;for(T.set(o,c),T.set(c,o);++Q<j;){var Ct=o[Q],kt=c[Q];if(v)var At=D?v(kt,Ct,Q,c,o,T):v(Ct,kt,Q,o,c,T);if(At!==N){if(At)continue;at=!1;break}if(vt){if(!Si(c,function(Ht,zt){if(!Ai(vt,zt)&&(Ct===Ht||P(Ct,Ht,f,v,T)))return vt.push(zt)})){at=!1;break}}else if(!(Ct===kt||P(Ct,kt,f,v,T))){at=!1;break}}return T.delete(o),T.delete(c),at}function ap(o,c,f,v,P,T,D){switch(f){case ui:if(o.byteLength!=c.byteLength||o.byteOffset!=c.byteOffset)return!1;o=o.buffer,c=c.buffer;case zi:return!(o.byteLength!=c.byteLength||!T(new Pi(o),new Pi(c)));case jr:case dn:case li:return xr(+o,+c);case As:return o.name==c.name&&o.message==c.message;case ci:case gn:return o==c+"";case Pn:var j=er;case Vn:var V=v&ne;if(j||(j=Gr),o.size!=c.size&&!V)return!1;var X=D.get(o);if(X)return X==c;v|=de,D.set(o,c);var Y=pu(j(o),j(c),v,P,T,D);return D.delete(o),Y;case ji:if(Vo)return Vo.call(o)==Vo.call(c)}return!1}function df(o,c,f,v,P,T){var D=f&ne,j=gl(o),V=j.length,X=gl(c),Y=X.length;if(V!=Y&&!D)return!1;for(var Q=V;Q--;){var at=j[Q];if(!(D?at in c:ie.call(c,at)))return!1}var vt=T.get(o),Ct=T.get(c);if(vt&&Ct)return vt==c&&Ct==o;var kt=!0;T.set(o,c),T.set(c,o);for(var At=D;++Q<V;){at=j[Q];var Ht=o[at],zt=c[at];if(v)var qn=D?v(zt,Ht,at,c,o,T):v(Ht,zt,at,o,c,T);if(!(qn===N?Ht===zt||P(Ht,zt,f,v,T):qn)){kt=!1;break}At||(At=at=="constructor")}if(kt&&!At){var yn=o.constructor,Jn=c.constructor;yn!=Jn&&"constructor"in o&&"constructor"in c&&!(typeof yn=="function"&&yn instanceof yn&&typeof Jn=="function"&&Jn instanceof Jn)&&(kt=!1)}return T.delete(o),T.delete(c),kt}function Er(o){return Au(bf(o,N,Rf),o+"")}function gl(o){return Fh(o,en,vl)}function pl(o){return Fh(o,jn,yu)}var mu=te?function(o){return te.get(o)}:Uu;function ml(o){for(var c=o.name+"",f=he[c],v=ie.call(he,c)?f.length:0;v--;){var P=f[v],T=P.func;if(T==null||T==o)return P.name}return c}function qs(o){var c=ie.call(E,"placeholder")?E:o;return c.placeholder}function St(){var o=E.iteratee||Wu;return o=o===Wu?Hh:o,arguments.length?o(arguments[0],arguments[1]):o}function yl(o,c){var f=o.__data__;return fp(c)?f[typeof c=="string"?"string":"hash"]:f.map}function ti(o){for(var c=en(o),f=c.length;f--;){var v=c[f],P=o[v];c[f]=[v,P,yf(P)]}return c}function sr(o,c){var f=jo(o,c);return Vh(f)?f:N}function lp(o){var c=ie.call(o,qr),f=o[qr];try{o[qr]=N;var v=!0}catch(T){}var P=pr.call(o);return v&&(c?o[qr]=f:delete o[qr]),P}var vl=b?function(o){return o==null?[]:(o=re(o),tr(b(o),function(c){return Ja.call(o,c)}))}:qu,yu=b?function(o){for(var c=[];o;)Nn(c,vl(o)),o=Fs(o);return c}:qu,Je=He;($t&&Je(new $t(new ArrayBuffer(1)))!=ui||Et&&Je(new Et)!=Pn||jt&&Je(jt.resolve())!=da||Mt&&Je(new Mt)!=Vn||Xt&&Je(new Xt)!=Fi)&&(Je=function(o){var c=He(o),f=c==Qe?o.constructor:N,v=f?us(f):"";if(v)switch(v){case yr:return ui;case on:return Pn;case es:return da;case Pr:return Vn;case $o:return Fi}return c});function cp(o,c,f){for(var v=-1,P=f.length;++v<P;){var T=f[v],D=T.size;switch(T.type){case"drop":o+=D;break;case"dropRight":c-=D;break;case"take":c=F(c,o+D);break;case"takeRight":o=I(o,c-D);break}}return{start:o,end:c}}function gf(o){var c=o.match(ac);return c?c[1].split(ya):[]}function pf(o,c,f){c=Ti(c,o);for(var v=-1,P=c.length,T=!1;++v<P;){var D=Mr(c[v]);if(!(T=o!=null&&f(o,D)))break;o=o[D]}return T||++v!=P?T:(P=o==null?0:o.length,!!P&&Pl(P)&&ni(D,P)&&(Tt(o)||hs(o)))}function up(o){var c=o.length,f=new o.constructor(c);return c&&typeof o[0]=="string"&&ie.call(o,"index")&&(f.index=o.index,f.input=o.input),f}function vu(o){return typeof o.constructor=="function"&&!Zo(o)?$s(Fs(o)):{}}function bu(o,c,f){var v=o.constructor;switch(c){case zi:return cu(o);case jr:case dn:return new v(+o);case ui:return tp(o,f);case Fr:case ho:case fo:case Ps:case go:case $i:case hi:case Os:case _s:return ef(o,f);case Pn:return new v;case li:case gn:return new v(o);case ci:return tf(o);case Vn:return new v;case ji:return uu(o)}}function hp(o,c){var f=c.length;if(!f)return o;var v=f-1;return c[v]=(f>1?"& ":"")+c[v],c=c.join(f>2?", ":" "),o.replace(yo,`{
/* [wrapped with `+c+`] */
`)}function ei(o){return Tt(o)||hs(o)||!!(Xa&&o&&o[Xa])}function ni(o,c){var f=typeof o;return c=c==null?ue:c,!!c&&(f=="number"||f!="symbol"&&wh.test(o))&&o>-1&&o%1==0&&o<c}function En(o,c,f){if(!Pe(f))return!1;var v=typeof c;return(v=="number"?kn(f)&&ni(c,f.length):v=="string"&&c in f)?xr(f[c],o):!1}function xu(o,c){if(Tt(o))return!1;var f=typeof o;return f=="number"||f=="symbol"||f=="boolean"||o==null||Un(o)?!0:ic.test(o)||!rc.test(o)||c!=null&&o in re(c)}function fp(o){var c=typeof o;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?o!=="__proto__":o===null}function wu(o){var c=ml(o),f=E[c];if(typeof f!="function"||!(c in Vt.prototype))return!1;if(o===f)return!0;var v=mu(f);return!!v&&o===v[0]}function mf(o){return!!Ua&&Ua in o}var dp=Qi?ri:Ju;function Zo(o){var c=o&&o.constructor,f=typeof c=="function"&&c.prototype||Ur;return o===f}function yf(o){return o===o&&!Pe(o)}function vf(o,c){return function(f){return f==null?!1:f[o]===c&&(c!==N||o in re(f))}}function gp(o){var c=ta(o,function(v){return f.size===J&&f.clear(),v}),f=c.cache;return c}function pp(o,c){var f=o[1],v=c[1],P=f|v,T=P<(Zt|$e|wt),D=v==wt&&f==ge||v==wt&&f==pe&&o[7].length<=c[8]||v==(wt|pe)&&c[7].length<=c[8]&&f==ge;if(!(T||D))return o;v&Zt&&(o[2]=c[2],P|=f&Zt?0:Ge);var j=c[3];if(j){var V=o[3];o[3]=V?hu(V,j,c[4]):j,o[4]=V?gr(o[3],nt):c[4]}return j=c[5],j&&(V=o[5],o[5]=V?rf(V,j,c[6]):j,o[6]=V?gr(o[5],nt):c[6]),j=c[7],j&&(o[7]=j),v&wt&&(o[8]=o[8]==null?c[8]:F(o[8],c[8])),o[9]==null&&(o[9]=c[9]),o[0]=c[0],o[1]=P,o}function mp(o){var c=[];if(o!=null)for(var f in re(o))c.push(f);return c}function yp(o){return pr.call(o)}function bf(o,c,f){return c=I(c===N?o.length-1:c,0),function(){for(var v=arguments,P=-1,T=I(v.length-c,0),D=W(T);++P<T;)D[P]=v[c+P];P=-1;for(var j=W(c+1);++P<c;)j[P]=v[P];return j[c]=f(D),_n(o,this,j)}}function xf(o,c){return c.length<2?o:Zr(o,ir(c,0,-1))}function wf(o,c){for(var f=o.length,v=F(c.length,f),P=Bn(o);v--;){var T=c[v];o[v]=ni(T,f)?P[T]:N}return o}function Su(o,c){if(!(c==="constructor"&&typeof o[c]=="function")&&c!="__proto__")return o[c]}var Sf=Cf(sl),Ko=Oh||function(o,c){return qe.setTimeout(o,c)},Au=Cf(Zg);function Af(o,c,f){var v=c+"";return Au(o,hp(v,vp(gf(v),f)))}function Cf(o){var c=0,f=0;return function(){var v=Z(),P=Be-(v-f);if(f=v,P>0){if(++c>=le)return arguments[0]}else c=0;return o.apply(N,arguments)}}function bl(o,c){var f=-1,v=o.length,P=v-1;for(c=c===N?v:c;++f<c;){var T=Ee(f,P),D=o[T];o[T]=o[f],o[f]=D}return o.length=c,o}var Pf=gp(function(o){var c=[];return o.charCodeAt(0)===46&&c.push(""),o.replace(ma,function(f,v,P,T){c.push(P?T.replace(cc,"$1"):v||f)}),c});function Mr(o){if(typeof o=="string"||Un(o))return o;var c=o+"";return c=="0"&&1/o==-oe?"-0":c}function us(o){if(o!=null){try{return Ci.call(o)}catch(c){}try{return o+""}catch(c){}}return""}function vp(o,c){return Ln(ki,function(f){var v="_."+f[0];c&f[1]&&!Pt(o,v)&&o.push(v)}),o.sort()}function Of(o){if(o instanceof Vt)return o.clone();var c=new nr(o.__wrapped__,o.__chain__);return c.__actions__=Bn(o.__actions__),c.__index__=o.__index__,c.__values__=o.__values__,c}function bp(o,c,f){(f?En(o,c,f):c===N)?c=1:c=I(Nt(c),0);var v=o==null?0:o.length;if(!v||c<1)return[];for(var P=0,T=0,D=W(zo(v/c));P<v;)D[T++]=ir(o,P,P+=c);return D}function _f(o){for(var c=-1,f=o==null?0:o.length,v=0,P=[];++c<f;){var T=o[c];T&&(P[v++]=T)}return P}function Ef(){var o=arguments.length;if(!o)return[];for(var c=W(o-1),f=arguments[0],v=o;v--;)c[v-1]=arguments[v];return Nn(Tt(f)?Bn(f):[f],an(c,1))}var xp=Ft(function(o,c){return Fe(o)?Wo(o,an(c,1,Fe,!0)):[]}),wp=Ft(function(o,c){var f=or(c);return Fe(f)&&(f=N),Fe(o)?Wo(o,an(c,1,Fe,!0),St(f,2)):[]}),Sp=Ft(function(o,c){var f=or(c);return Fe(f)&&(f=N),Fe(o)?Wo(o,an(c,1,Fe,!0),N,f):[]});function Ap(o,c,f){var v=o==null?0:o.length;return v?(c=f||c===N?1:Nt(c),ir(o,c<0?0:c,v)):[]}function Cp(o,c,f){var v=o==null?0:o.length;return v?(c=f||c===N?1:Nt(c),c=v-c,ir(o,0,c<0?0:c)):[]}function Pp(o,c){return o&&o.length?ll(o,St(c,3),!0,!0):[]}function Op(o,c){return o&&o.length?ll(o,St(c,3),!0):[]}function _p(o,c,f,v){var P=o==null?0:o.length;return P?(f&&typeof f!="number"&&En(o,c,f)&&(f=0,v=P),be(o,c,f,v)):[]}function Mf(o,c,f){var v=o==null?0:o.length;if(!v)return-1;var P=f==null?0:Nt(f);return P<0&&(P=I(v+P,0)),Ls(o,St(c,3),P)}function Tf(o,c,f){var v=o==null?0:o.length;if(!v)return-1;var P=v-1;return f!==N&&(P=Nt(f),P=f<0?I(v+P,0):F(P,v-1)),Ls(o,St(c,3),P,!0)}function Rf(o){var c=o==null?0:o.length;return c?an(o,1):[]}function Ep(o){var c=o==null?0:o.length;return c?an(o,oe):[]}function Mp(o,c){var f=o==null?0:o.length;return f?(c=c===N?1:Nt(c),an(o,c)):[]}function Tp(o){for(var c=-1,f=o==null?0:o.length,v={};++c<f;){var P=o[c];v[P[0]]=P[1]}return v}function If(o){return o&&o.length?o[0]:N}function Rp(o,c,f){var v=o==null?0:o.length;if(!v)return-1;var P=f==null?0:Nt(f);return P<0&&(P=I(v+P,0)),dr(o,c,P)}function Ip(o){var c=o==null?0:o.length;return c?ir(o,0,-1):[]}var Lp=Ft(function(o){var c=ye(o,au);return c.length&&c[0]===o[0]?Go(c):[]}),Np=Ft(function(o){var c=or(o),f=ye(o,au);return c===or(f)?c=N:f.pop(),f.length&&f[0]===o[0]?Go(f,St(c,2)):[]}),Dp=Ft(function(o){var c=or(o),f=ye(o,au);return c=typeof c=="function"?c:N,c&&f.pop(),f.length&&f[0]===o[0]?Go(f,N,c):[]});function Bp(o,c){return o==null?"":S.call(o,c)}function or(o){var c=o==null?0:o.length;return c?o[c-1]:N}function kp(o,c,f){var v=o==null?0:o.length;if(!v)return-1;var P=v;return f!==N&&(P=Nt(f),P=P<0?I(v+P,0):F(P,v-1)),c===c?kc(o,c,P):Ls(o,ja,P,!0)}function jp(o,c){return o&&o.length?qh(o,Nt(c)):N}var Fp=Ft(Lf);function Lf(o,c){return o&&o.length&&c&&c.length?il(o,c):o}function Nf(o,c,f){return o&&o.length&&c&&c.length?il(o,c,St(f,2)):o}function zp(o,c,f){return o&&o.length&&c&&c.length?il(o,c,N,f):o}var $p=Er(function(o,c){var f=o==null?0:o.length,v=Xc(o,c);return Jh(o,ye(c,function(P){return ni(P,f)?+P:P}).sort(nf)),v});function Vp(o,c){var f=[];if(!(o&&o.length))return f;var v=-1,P=[],T=o.length;for(c=St(c,3);++v<T;){var D=o[v];c(D,v,o)&&(f.push(D),P.push(v))}return Jh(o,P),f}function Cu(o){return o==null?o:mt.call(o)}function Hp(o,c,f){var v=o==null?0:o.length;return v?(f&&typeof f!="number"&&En(o,c,f)?(c=0,f=v):(c=c==null?0:Nt(c),f=f===N?v:Nt(f)),ir(o,c,f)):[]}function Df(o,c){return ol(o,c)}function Wp(o,c,f){return ru(o,c,St(f,2))}function Gp(o,c){var f=o==null?0:o.length;if(f){var v=ol(o,c);if(v<f&&xr(o[v],c))return v}return-1}function Up(o,c){return ol(o,c,!0)}function qp(o,c,f){return ru(o,c,St(f,2),!0)}function Jp(o,c){var f=o==null?0:o.length;if(f){var v=ol(o,c,!0)-1;if(xr(o[v],c))return v}return-1}function Bf(o){return o&&o.length?Xh(o):[]}function Xp(o,c){return o&&o.length?Xh(o,St(c,2)):[]}function Yp(o){var c=o==null?0:o.length;return c?ir(o,1,c):[]}function Zp(o,c,f){return o&&o.length?(c=f||c===N?1:Nt(c),ir(o,0,c<0?0:c)):[]}function Kp(o,c,f){var v=o==null?0:o.length;return v?(c=f||c===N?1:Nt(c),c=v-c,ir(o,c<0?0:c,v)):[]}function kf(o,c){return o&&o.length?ll(o,St(c,3),!1,!0):[]}function Qp(o,c){return o&&o.length?ll(o,St(c,3)):[]}var tm=Ft(function(o){return Mi(an(o,1,Fe,!0))}),em=Ft(function(o){var c=or(o);return Fe(c)&&(c=N),Mi(an(o,1,Fe,!0),St(c,2))}),jf=Ft(function(o){var c=or(o);return c=typeof c=="function"?c:N,Mi(an(o,1,Fe,!0),N,c)});function nm(o){return o&&o.length?Mi(o):[]}function rm(o,c){return o&&o.length?Mi(o,St(c,2)):[]}function im(o,c){return c=typeof c=="function"?c:N,o&&o.length?Mi(o,N,c):[]}function Pu(o){if(!(o&&o.length))return[];var c=0;return o=tr(o,function(f){if(Fe(f))return c=I(f.length,c),!0}),Do(c,function(f){return ye(o,Ns(f))})}function Ff(o,c){if(!(o&&o.length))return[];var f=Pu(o);return c==null?f:ye(f,function(v){return _n(c,N,v)})}var sm=Ft(function(o,c){return Fe(o)?Wo(o,c):[]}),om=Ft(function(o){return ou(tr(o,Fe))}),am=Ft(function(o){var c=or(o);return Fe(c)&&(c=N),ou(tr(o,Fe),St(c,2))}),lm=Ft(function(o){var c=or(o);return c=typeof c=="function"?c:N,ou(tr(o,Fe),N,c)}),cm=Ft(Pu);function um(o,c){return Zh(o||[],c||[],Ho)}function hm(o,c){return Zh(o||[],c||[],Ei)}var fm=Ft(function(o){var c=o.length,f=c>1?o[c-1]:N;return f=typeof f=="function"?(o.pop(),f):N,Ff(o,f)});function zf(o){var c=E(o);return c.__chain__=!0,c}function dm(o,c){return c(o),o}function xl(o,c){return c(o)}var ve=Er(function(o){var c=o.length,f=c?o[0]:0,v=this.__wrapped__,P=function(T){return Xc(T,o)};return c>1||this.__actions__.length||!(v instanceof Vt)||!ni(f)?this.thru(P):(v=v.slice(f,+f+(c?1:0)),v.__actions__.push({func:xl,args:[P],thisArg:N}),new nr(v,this.__chain__).thru(function(T){return c&&!T.length&&T.push(N),T}))});function wl(){return zf(this)}function $f(){return new nr(this.value(),this.__chain__)}function gm(){this.__values__===N&&(this.__values__=Bu(this.value()));var o=this.__index__>=this.__values__.length,c=o?N:this.__values__[this.__index__++];return{done:o,value:c}}function pm(){return this}function Ou(o){for(var c,f=this;f instanceof Ya;){var v=Of(f);v.__index__=0,v.__values__=N,c?P.__wrapped__=v:c=v;var P=v;f=f.__wrapped__}return P.__wrapped__=o,c}function mm(){var o=this.__wrapped__;if(o instanceof Vt){var c=o;return this.__actions__.length&&(c=new Vt(this)),c=c.reverse(),c.__actions__.push({func:xl,args:[Cu],thisArg:N}),new nr(c,this.__chain__)}return this.thru(Cu)}function ym(){return Yh(this.__wrapped__,this.__actions__)}var vm=cl(function(o,c,f){ie.call(o,f)?++o[f]:Yr(o,f,1)});function Me(o,c,f){var v=Tt(o)?Ba:Bg;return f&&En(o,c,f)&&(c=N),v(o,St(c,3))}function Vf(o,c){var f=Tt(o)?tr:jh;return f(o,St(c,3))}var bm=fu(Mf),xm=fu(Tf);function wm(o,c){return an(Sl(o,c),1)}function Hf(o,c){return an(Sl(o,c),oe)}function Sm(o,c,f){return f=f===N?1:Nt(f),an(Sl(o,c),f)}function Wf(o,c){var f=Tt(o)?Ln:_i;return f(o,St(c,3))}function Gf(o,c){var f=Tt(o)?To:kh;return f(o,St(c,3))}var Am=cl(function(o,c,f){ie.call(o,f)?o[f].push(c):Yr(o,f,[c])});function Uf(o,c,f,v){o=kn(o)?o:Xs(o),f=f&&!v?Nt(f):0;var P=o.length;return f<0&&(f=I(P+f,0)),Js(o)?f<=P&&o.indexOf(c,f)>-1:!!P&&dr(o,c,f)>-1}var Cm=Ft(function(o,c,f){var v=-1,P=typeof c=="function",T=kn(o)?W(o.length):[];return _i(o,function(D){T[++v]=P?_n(c,D,f):Kr(D,c,f)}),T}),Pm=cl(function(o,c,f){Yr(o,f,c)});function Sl(o,c){var f=Tt(o)?ye:Wh;return f(o,St(c,3))}function Om(o,c,f,v){return o==null?[]:(Tt(c)||(c=c==null?[]:[c]),f=v?N:f,Tt(f)||(f=f==null?[]:[f]),as(o,c,f))}var _m=cl(function(o,c,f){o[f?0:1].push(c)},function(){return[[],[]]});function _u(o,c,f){var v=Tt(o)?Io:Fa,P=arguments.length<3;return v(o,St(c,4),f,P,_i)}function Em(o,c,f){var v=Tt(o)?ka:Fa,P=arguments.length<3;return v(o,St(c,4),f,P,kh)}function db(o,c){var f=Tt(o)?tr:jh;return f(o,Cl(St(c,3)))}function gb(o){var c=Tt(o)?Lh:Xg;return c(o)}function pb(o,c,f){(f?En(o,c,f):c===N)?c=1:c=Nt(c);var v=Tt(o)?Rg:Yg;return v(o,c)}function qf(o){var c=Tt(o)?Ig:Kg;return c(o)}function Eu(o){if(o==null)return 0;if(kn(o))return Js(o)?Ar(o):o.length;var c=Je(o);return c==Pn||c==Vn?o.size:Kc(o).length}function Qo(o,c,f){var v=Tt(o)?Si:nu;return f&&En(o,c,f)&&(c=N),v(o,St(c,3))}var Jf=Ft(function(o,c){if(o==null)return[];var f=c.length;return f>1&&En(o,c[0],c[1])?c=[]:f>2&&En(c[0],c[1],c[2])&&(c=[c[0]]),as(o,an(c,1),[])}),Al=Gc||function(){return qe.Date.now()};function ar(o,c){if(typeof c!="function")throw new mn(Ce);return o=Nt(o),function(){if(--o<1)return c.apply(this,arguments)}}function Mm(o,c,f){return c=f?N:c,c=o&&c==null?o.length:c,Qr(o,wt,N,N,N,N,c)}function Xf(o,c){var f;if(typeof c!="function")throw new mn(Ce);return o=Nt(o),function(){return--o>0&&(f=c.apply(this,arguments)),o<=1&&(c=N),f}}var Mu=Ft(function(o,c,f){var v=Zt;if(f.length){var P=gr(f,qs(Mu));v|=qt}return Qr(o,v,c,f,P)}),Yf=Ft(function(o,c,f){var v=Zt|$e;if(f.length){var P=gr(f,qs(Yf));v|=qt}return Qr(c,v,o,f,P)});function Zf(o,c,f){c=f?N:c;var v=Qr(o,ge,N,N,N,N,N,c);return v.placeholder=Zf.placeholder,v}function Kf(o,c,f){c=f?N:c;var v=Qr(o,De,N,N,N,N,N,c);return v.placeholder=Kf.placeholder,v}function Qf(o,c,f){var v,P,T,D,j,V,X=0,Y=!1,Q=!1,at=!0;if(typeof o!="function")throw new mn(Ce);c=lr(c)||0,Pe(f)&&(Y=!!f.leading,Q="maxWait"in f,T=Q?I(lr(f.maxWait)||0,c):T,at="trailing"in f?!!f.trailing:at);function vt(ze){var wr=v,Xn=P;return v=P=N,X=ze,D=o.apply(Xn,wr),D}function Ct(ze){return X=ze,j=Ko(Ht,c),Y?vt(ze):D}function kt(ze){var wr=ze-V,Xn=ze-X,jd=c-wr;return Q?F(jd,T-Xn):jd}function At(ze){var wr=ze-V,Xn=ze-X;return V===N||wr>=c||wr<0||Q&&Xn>=T}function Ht(){var ze=Al();if(At(ze))return zt(ze);j=Ko(Ht,kt(ze))}function zt(ze){return j=N,at&&v?vt(ze):(v=P=N,D)}function qn(){j!==N&&Kh(j),X=0,v=V=P=j=N}function yn(){return j===N?D:zt(Al())}function Jn(){var ze=Al(),wr=At(ze);if(v=arguments,P=this,V=ze,wr){if(j===N)return Ct(V);if(Q)return Kh(j),j=Ko(Ht,c),vt(V)}return j===N&&(j=Ko(Ht,c)),D}return Jn.cancel=qn,Jn.flush=yn,Jn}var Tm=Ft(function(o,c){return Bh(o,1,c)}),Rm=Ft(function(o,c,f){return Bh(o,lr(c)||0,f)});function Im(o){return Qr(o,Qn)}function ta(o,c){if(typeof o!="function"||c!=null&&typeof c!="function")throw new mn(Ce);var f=function(){var v=arguments,P=c?c.apply(this,v):v[0],T=f.cache;if(T.has(P))return T.get(P);var D=o.apply(this,v);return f.cache=T.set(P,D)||T,D};return f.cache=new(ta.Cache||Xr),f}ta.Cache=Xr;function Cl(o){if(typeof o!="function")throw new mn(Ce);return function(){var c=arguments;switch(c.length){case 0:return!o.call(this);case 1:return!o.call(this,c[0]);case 2:return!o.call(this,c[0],c[1]);case 3:return!o.call(this,c[0],c[1],c[2])}return!o.apply(this,c)}}function td(o){return Xf(2,o)}var Lm=Qg(function(o,c){c=c.length==1&&Tt(c[0])?ye(c[0],tn(St())):ye(an(c,1),tn(St()));var f=c.length;return Ft(function(v){for(var P=-1,T=F(v.length,f);++P<T;)v[P]=c[P].call(this,v[P]);return _n(o,this,v)})}),Tu=Ft(function(o,c){var f=gr(c,qs(Tu));return Qr(o,qt,N,c,f)}),ed=Ft(function(o,c){var f=gr(c,qs(ed));return Qr(o,Ue,N,c,f)}),Nm=Er(function(o,c){return Qr(o,pe,N,N,N,c)});function Dm(o,c){if(typeof o!="function")throw new mn(Ce);return c=c===N?c:Nt(c),Ft(o,c)}function Bm(o,c){if(typeof o!="function")throw new mn(Ce);return c=c==null?0:I(Nt(c),0),Ft(function(f){var v=f[c],P=Ri(f,0,c);return v&&Nn(P,v),_n(o,this,P)})}function km(o,c,f){var v=!0,P=!0;if(typeof o!="function")throw new mn(Ce);return Pe(f)&&(v="leading"in f?!!f.leading:v,P="trailing"in f?!!f.trailing:P),Qf(o,c,{leading:v,maxWait:c,trailing:P})}function nd(o){return Mm(o,1)}function jm(o,c){return Tu(lu(c),o)}function Ru(){if(!arguments.length)return[];var o=arguments[0];return Tt(o)?o:[o]}function Fm(o){return rr(o,Bt)}function Iu(o,c){return c=typeof c=="function"?c:N,rr(o,Bt,c)}function zm(o){return rr(o,yt|Bt)}function $m(o,c){return c=typeof c=="function"?c:N,rr(o,yt|Bt,c)}function Vm(o,c){return c==null||Dh(o,c,en(c))}function xr(o,c){return o===c||o!==o&&c!==c}var Hm=fl(nl),rd=fl(function(o,c){return o>=c}),hs=zh(function(){return arguments}())?zh:function(o){return Te(o)&&ie.call(o,"callee")&&!Ja.call(o,"callee")},Tt=W.isArray,Wm=Na?tn(Na):zg;function kn(o){return o!=null&&Pl(o.length)&&!ri(o)}function Fe(o){return Te(o)&&kn(o)}function id(o){return o===!0||o===!1||Te(o)&&He(o)==jr}var Li=w||Ju,Gm=Da?tn(Da):$g;function Um(o){return Te(o)&&o.nodeType===1&&!ea(o)}function qm(o){if(o==null)return!0;if(kn(o)&&(Tt(o)||typeof o=="string"||typeof o.splice=="function"||Li(o)||fs(o)||hs(o)))return!o.length;var c=Je(o);if(c==Pn||c==Vn)return!o.size;if(Zo(o))return!Kc(o).length;for(var f in o)if(ie.call(o,f))return!1;return!0}function Jm(o,c){return Uo(o,c)}function sd(o,c,f){f=typeof f=="function"?f:N;var v=f?f(o,c):N;return v===N?Uo(o,c,N,f):!!v}function Lu(o){if(!Te(o))return!1;var c=He(o);return c==As||c==Kl||typeof o.message=="string"&&typeof o.name=="string"&&!ea(o)}function Xm(o){return typeof o=="number"&&y(o)}function ri(o){if(!Pe(o))return!1;var c=He(o);return c==Cs||c==fa||c==kr||c==On}function Nu(o){return typeof o=="number"&&o==Nt(o)}function Pl(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=ue}function Pe(o){var c=typeof o;return o!=null&&(c=="object"||c=="function")}function Te(o){return o!=null&&typeof o=="object"}var od=Hn?tn(Hn):$h;function Ym(o,c){return o===c||Zc(o,c,ti(c))}function Zm(o,c,f){return f=typeof f=="function"?f:N,Zc(o,c,ti(c),f)}function Km(o){return ad(o)&&o!=+o}function Qm(o){if(dp(o))throw new Ot(Dr);return Vh(o)}function ty(o){return o===null}function ey(o){return o==null}function ad(o){return typeof o=="number"||Te(o)&&He(o)==li}function ea(o){if(!Te(o)||He(o)!=Qe)return!1;var c=Fs(o);if(c===null)return!0;var f=ie.call(c,"constructor")&&c.constructor;return typeof f=="function"&&f instanceof f&&Ci.call(f)==Vc}var Du=Hr?tn(Hr):Hg;function ny(o){return Nu(o)&&o>=-ue&&o<=ue}var ld=Eo?tn(Eo):Wg;function Js(o){return typeof o=="string"||!Tt(o)&&Te(o)&&He(o)==gn}function Un(o){return typeof o=="symbol"||Te(o)&&He(o)==ji}var fs=qi?tn(qi):Gg;function ry(o){return o===N}function iy(o){return Te(o)&&Je(o)==Fi}function sy(o){return Te(o)&&He(o)==tc}var oy=fl(Qc),ay=fl(function(o,c){return o<=c});function Bu(o){if(!o)return[];if(kn(o))return Js(o)?Dn(o):Bn(o);if(ts&&o[ts])return Bs(o[ts]());var c=Je(o),f=c==Pn?er:c==Vn?Gr:Xs;return f(o)}function ii(o){if(!o)return o===0?o:0;if(o=lr(o),o===oe||o===-oe){var c=o<0?-1:1;return c*ce}return o===o?o:0}function Nt(o){var c=ii(o),f=c%1;return c===c?f?c-f:c:0}function cd(o){return o?ss(Nt(o),0,Jt):0}function lr(o){if(typeof o=="number")return o;if(Un(o))return Wt;if(Pe(o)){var c=typeof o.valueOf=="function"?o.valueOf():o;o=Pe(c)?c+"":c}if(typeof o!="string")return o===0?o:+o;o=$a(o);var f=bo.test(o);return f||xa.test(o)?Mc(o.slice(2),f?2:8):Vi.test(o)?Wt:+o}function ud(o){return _r(o,jn(o))}function ly(o){return o?ss(Nt(o),-ue,ue):o===0?o:0}function ae(o){return o==null?"":Gn(o)}var cy=ls(function(o,c){if(Zo(c)||kn(c)){_r(c,en(c),o);return}for(var f in c)ie.call(c,f)&&Ho(o,f,c[f])}),hd=ls(function(o,c){_r(c,jn(c),o)}),Ol=ls(function(o,c,f,v){_r(c,jn(c),o,v)}),uy=ls(function(o,c,f,v){_r(c,en(c),o,v)}),fd=Er(Xc);function hy(o,c){var f=$s(o);return c==null?f:Nh(f,c)}var fy=Ft(function(o,c){o=re(o);var f=-1,v=c.length,P=v>2?c[2]:N;for(P&&En(c[0],c[1],P)&&(v=1);++f<v;)for(var T=c[f],D=jn(T),j=-1,V=D.length;++j<V;){var X=D[j],Y=o[X];(Y===N||xr(Y,Ur[X])&&!ie.call(o,X))&&(o[X]=T[X])}return o}),dy=Ft(function(o){return o.push(N,ff),_n(pd,N,o)});function gy(o,c){return Wr(o,St(c,3),br)}function py(o,c){return Wr(o,St(c,3),os)}function my(o,c){return o==null?o:Yc(o,St(c,3),jn)}function yy(o,c){return o==null?o:Hs(o,St(c,3),jn)}function vy(o,c){return o&&br(o,St(c,3))}function by(o,c){return o&&os(o,St(c,3))}function ku(o){return o==null?[]:el(o,en(o))}function xy(o){return o==null?[]:el(o,jn(o))}function ju(o,c,f){var v=o==null?N:Zr(o,c);return v===N?f:v}function wy(o,c){return o!=null&&pf(o,c,kg)}function Fu(o,c){return o!=null&&pf(o,c,rl)}var dd=cf(function(o,c,f){c!=null&&typeof c.toString!="function"&&(c=pr.call(c)),o[c]=f},Hu(Mn)),Sy=cf(function(o,c,f){c!=null&&typeof c.toString!="function"&&(c=pr.call(c)),ie.call(o,c)?o[c].push(f):o[c]=[f]},St),Ay=Ft(Kr);function en(o){return kn(o)?Ih(o):Kc(o)}function jn(o){return kn(o)?Ih(o,!0):Ws(o)}function Cy(o,c){var f={};return c=St(c,3),br(o,function(v,P,T){Yr(f,c(v,P,T),v)}),f}function gd(o,c){var f={};return c=St(c,3),br(o,function(v,P,T){Yr(f,P,c(v,P,T))}),f}var Py=ls(function(o,c,f){qo(o,c,f)}),pd=ls(function(o,c,f,v){qo(o,c,f,v)}),mb=Er(function(o,c){var f={};if(o==null)return f;var v=!1;c=ye(c,function(T){return T=Ti(T,o),v||(v=T.length>1),T}),_r(o,pl(o),f),v&&(f=rr(f,yt|Dt|Bt,gu));for(var P=c.length;P--;)su(f,c[P]);return f});function Oy(o,c){return md(o,Cl(St(c)))}var _y=Er(function(o,c){return o==null?{}:Ug(o,c)});function md(o,c){if(o==null)return{};var f=ye(pl(o),function(v){return[v]});return c=St(c),Jo(o,f,function(v,P){return c(v,P[0])})}function Ey(o,c,f){c=Ti(c,o);var v=-1,P=c.length;for(P||(P=1,o=N);++v<P;){var T=o==null?N:o[Mr(c[v])];T===N&&(v=P,T=f),o=ri(T)?T.call(o):T}return o}function My(o,c,f){return o==null?o:Ei(o,c,f)}function Ty(o,c,f,v){return v=typeof v=="function"?v:N,o==null?o:Ei(o,c,f,v)}var yd=dl(en),vd=dl(jn);function Ry(o,c,f){var v=Tt(o),P=v||Li(o)||fs(o);if(c=St(c,4),f==null){var T=o&&o.constructor;P?f=v?new T:[]:Pe(o)?f=ri(T)?$s(Fs(o)):{}:f={}}return(P?Ln:br)(o,function(D,j,V){return c(f,D,j,V)}),f}function Iy(o,c){return o==null?!0:su(o,c)}function Ly(o,c,f){return o==null?o:al(o,c,lu(f))}function Ny(o,c,f,v){return v=typeof v=="function"?v:N,o==null?o:al(o,c,lu(f),v)}function Xs(o){return o==null?[]:Bo(o,en(o))}function Dy(o){return o==null?[]:Bo(o,jn(o))}function By(o,c,f){return f===N&&(f=c,c=N),f!==N&&(f=lr(f),f=f===f?f:0),c!==N&&(c=lr(c),c=c===c?c:0),ss(lr(o),c,f)}function ky(o,c,f){return c=ii(c),f===N?(f=c,c=0):f=ii(f),o=lr(o),jg(o,c,f)}function jy(o,c,f){if(f&&typeof f!="boolean"&&En(o,c,f)&&(c=f=N),f===N&&(typeof c=="boolean"?(f=c,c=N):typeof o=="boolean"&&(f=o,o=N)),o===N&&c===N?(o=0,c=1):(o=ii(o),c===N?(c=o,o=0):c=ii(c)),o>c){var v=o;o=c,c=v}if(f||o%1||c%1){var P=ct();return F(o+P*(c-o+Ec("1e-"+((P+"").length-1))),c)}return Ee(o,c)}var Fy=Gs(function(o,c,f){return c=c.toLowerCase(),o+(f?bd(c):c)});function bd(o){return zu(ae(o).toLowerCase())}function xd(o){return o=ae(o),o&&o.replace(Sh,Wn).replace(Ia,"")}function zy(o,c,f){o=ae(o),c=Gn(c);var v=o.length;f=f===N?v:ss(Nt(f),0,v);var P=f;return f-=c.length,f>=0&&o.slice(f,P)==c}function $y(o){return o=ae(o),o&&Ms.test(o)?o.replace(di,ko):o}function wd(o){return o=ae(o),o&&sc.test(o)?o.replace(Ve,"\\$&"):o}var Vy=Gs(function(o,c,f){return o+(f?"-":"")+c.toLowerCase()}),Hy=Gs(function(o,c,f){return o+(f?" ":"")+c.toLowerCase()}),Wy=af("toLowerCase");function Gy(o,c,f){o=ae(o),c=Nt(c);var v=c?Ar(o):0;if(!c||v>=c)return o;var P=(c-v)/2;return hl(A(P),f)+o+hl(zo(P),f)}function Sd(o,c,f){o=ae(o),c=Nt(c);var v=c?Ar(o):0;return c&&v<c?o+hl(c-v,f):o}function Ad(o,c,f){o=ae(o),c=Nt(c);var v=c?Ar(o):0;return c&&v<c?hl(c-v,f)+o:o}function Uy(o,c,f){return f||c==null?c=0:c&&(c=+c),et(ae(o).replace(mo,""),c||0)}function qy(o,c,f){return(f?En(o,c,f):c===N)?c=1:c=Nt(c),eu(ae(o),c)}function Jy(){var o=arguments,c=ae(o[0]);return o.length<3?c:c.replace(o[1],o[2])}var Xy=Gs(function(o,c,f){return o+(f?"_":"")+c.toLowerCase()});function Cd(o,c,f){return f&&typeof f!="number"&&En(o,c,f)&&(c=f=N),f=f===N?Jt:f>>>0,f?(o=ae(o),o&&(typeof c=="string"||c!=null&&!Du(c))&&(c=Gn(c),!c&&pn(o))?Ri(Dn(o),0,f):o.split(c,f)):[]}var Yy=Gs(function(o,c,f){return o+(f?" ":"")+zu(c)});function Pd(o,c,f){return o=ae(o),f=f==null?0:ss(Nt(f),0,o.length),c=Gn(c),o.slice(f,f+c.length)==c}function Od(o,c,f){var v=E.templateSettings;f&&En(o,c,f)&&(c=N),o=ae(o),c=Ol({},c,v,cs);var P=Ol({},c.imports,v.imports,cs),T=en(P),D=Bo(P,T),j,V,X=0,Y=c.interpolate||Hi,Q="__p += '",at=Cr((c.escape||Hi).source+"|"+Y.source+"|"+(Y===pa?vo:Hi).source+"|"+(c.evaluate||Hi).source+"|$","g"),vt="//# sourceURL="+(ie.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++bi+"]")+`
`;o.replace(at,function(At,Ht,zt,qn,yn,Jn){return zt||(zt=qn),Q+=o.slice(X,Jn).replace(cr,Ds),Ht&&(j=!0,Q+=`' +
__e(`+Ht+`) +
'`),yn&&(V=!0,Q+=`';
`+yn+`;
__p += '`),zt&&(Q+=`' +
((__t = (`+zt+`)) == null ? '' : __t) +
'`),X=Jn+At.length,At}),Q+=`';
`;var Ct=ie.call(c,"variable")&&c.variable;if(!Ct)Q=`with (obj) {
`+Q+`
}
`;else if(lc.test(Ct))throw new Ot(nn);Q=(V?Q.replace(po,""):Q).replace(xt,"$1").replace(Es,"$1;"),Q="function("+(Ct||"obj")+`) {
`+(Ct?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(j?", __e = _.escape":"")+(V?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Q+`return __p
}`;var kt=Vu(function(){return Yt(T,vt+"return "+Q).apply(N,D)});if(kt.source=Q,Lu(kt))throw kt;return kt}function _d(o){return ae(o).toLowerCase()}function Zy(o){return ae(o).toUpperCase()}function Ed(o,c,f){if(o=ae(o),o&&(f||c===N))return $a(o);if(!o||!(c=Gn(c)))return o;var v=Dn(o),P=Dn(c),T=Ji(v,P),D=Va(v,P)+1;return Ri(v,T,D).join("")}function Ky(o,c,f){if(o=ae(o),o&&(f||c===N))return o.slice(0,Ha(o)+1);if(!o||!(c=Gn(c)))return o;var v=Dn(o),P=Va(v,Dn(c))+1;return Ri(v,0,P).join("")}function Md(o,c,f){if(o=ae(o),o&&(f||c===N))return o.replace(mo,"");if(!o||!(c=Gn(c)))return o;var v=Dn(o),P=Ji(v,Dn(c));return Ri(v,P).join("")}function Td(o,c){var f=Cn,v=_e;if(Pe(c)){var P="separator"in c?c.separator:P;f="length"in c?Nt(c.length):f,v="omission"in c?Gn(c.omission):v}o=ae(o);var T=o.length;if(pn(o)){var D=Dn(o);T=D.length}if(f>=T)return o;var j=f-Ar(v);if(j<1)return v;var V=D?Ri(D,0,j).join(""):o.slice(0,j);if(P===N)return V+v;if(D&&(j+=V.length-j),Du(P)){if(o.slice(j).search(P)){var X,Y=V;for(P.global||(P=Cr(P.source,ae(ba.exec(P))+"g")),P.lastIndex=0;X=P.exec(Y);)var Q=X.index;V=V.slice(0,Q===N?j:Q)}}else if(o.indexOf(Gn(P),j)!=j){var at=V.lastIndexOf(P);at>-1&&(V=V.slice(0,at))}return V+v}function Qy(o){return o=ae(o),o&&ec.test(o)?o.replace(fi,jc):o}var tv=Gs(function(o,c,f){return o+(f?" ":"")+c.toUpperCase()}),zu=af("toUpperCase");function $u(o,c,f){return o=ae(o),c=f?N:c,c===N?Nc(o)?Ch(o):Rc(o):o.match(c)||[]}var Vu=Ft(function(o,c){try{return _n(o,N,c)}catch(f){return Lu(f)?f:new Ot(f)}}),Ys=Er(function(o,c){return Ln(c,function(f){f=Mr(f),Yr(o,f,Mu(o[f],o))}),o});function ev(o){var c=o==null?0:o.length,f=St();return o=c?ye(o,function(v){if(typeof v[1]!="function")throw new mn(Ce);return[f(v[0]),v[1]]}):[],Ft(function(v){for(var P=-1;++P<c;){var T=o[P];if(_n(T[0],this,v))return _n(T[1],this,v)}})}function Rd(o){return Dg(rr(o,yt))}function Hu(o){return function(){return o}}function Id(o,c){return o==null||o!==o?c:o}var Ld=lf(),Nd=lf(!0);function Mn(o){return o}function Wu(o){return Hh(typeof o=="function"?o:rr(o,yt))}function nv(o){return Gh(rr(o,yt))}function rv(o,c){return Uh(o,rr(c,yt))}var iv=Ft(function(o,c){return function(f){return Kr(f,o,c)}}),sv=Ft(function(o,c){return function(f){return Kr(o,f,c)}});function Gu(o,c,f){var v=en(c),P=el(c,v);f==null&&!(Pe(c)&&(P.length||!v.length))&&(f=c,c=o,o=this,P=el(c,en(c)));var T=!(Pe(f)&&"chain"in f)||!!f.chain,D=ri(o);return Ln(P,function(j){var V=c[j];o[j]=V,D&&(o.prototype[j]=function(){var X=this.__chain__;if(T||X){var Y=o(this.__wrapped__),Q=Y.__actions__=Bn(this.__actions__);return Q.push({func:V,args:arguments,thisArg:o}),Y.__chain__=X,Y}return V.apply(o,Nn([this.value()],arguments))})}),o}function ov(){return qe._===this&&(qe._=Hc),this}function Uu(){}function av(o){return o=Nt(o),Ft(function(c){return qh(c,o)})}var lv=du(ye),cv=du(Ba),uv=du(Si);function Dd(o){return xu(o)?Ns(Mr(o)):qg(o)}function _l(o){return function(c){return o==null?N:Zr(o,c)}}var hv=uf(),fv=uf(!0);function qu(){return[]}function Ju(){return!1}function dv(){return{}}function gv(){return""}function pv(){return!0}function mv(o,c){if(o=Nt(o),o<1||o>ue)return[];var f=Jt,v=F(o,Jt);c=St(c),o-=Jt;for(var P=Do(v,c);++f<o;)c(f);return P}function yv(o){return Tt(o)?ye(o,Mr):Un(o)?[o]:Bn(Pf(ae(o)))}function vv(o){var c=++$c;return ae(o)+c}var bv=Us(function(o,c){return o+c},0),xv=Yo("ceil"),wv=Us(function(o,c){return o/c},1),Bd=Yo("floor");function Sv(o){return o&&o.length?tl(o,Mn,nl):N}function Av(o,c){return o&&o.length?tl(o,St(c,2),nl):N}function kd(o){return Lo(o,Mn)}function Cv(o,c){return Lo(o,St(c,2))}function Pv(o){return o&&o.length?tl(o,Mn,Qc):N}function Ov(o,c){return o&&o.length?tl(o,St(c,2),Qc):N}var _v=Us(function(o,c){return o*c},1),Ev=Yo("round"),Mv=Us(function(o,c){return o-c},0);function Xu(o){return o&&o.length?Sr(o,Mn):0}function Yu(o,c){return o&&o.length?Sr(o,St(c,2)):0}return E.after=ar,E.ary=Mm,E.assign=cy,E.assignIn=hd,E.assignInWith=Ol,E.assignWith=uy,E.at=fd,E.before=Xf,E.bind=Mu,E.bindAll=Ys,E.bindKey=Yf,E.castArray=Ru,E.chain=zf,E.chunk=bp,E.compact=_f,E.concat=Ef,E.cond=ev,E.conforms=Rd,E.constant=Hu,E.countBy=vm,E.create=hy,E.curry=Zf,E.curryRight=Kf,E.debounce=Qf,E.defaults=fy,E.defaultsDeep=dy,E.defer=Tm,E.delay=Rm,E.difference=xp,E.differenceBy=wp,E.differenceWith=Sp,E.drop=Ap,E.dropRight=Cp,E.dropRightWhile=Pp,E.dropWhile=Op,E.fill=_p,E.filter=Vf,E.flatMap=wm,E.flatMapDeep=Hf,E.flatMapDepth=Sm,E.flatten=Rf,E.flattenDeep=Ep,E.flattenDepth=Mp,E.flip=Im,E.flow=Ld,E.flowRight=Nd,E.fromPairs=Tp,E.functions=ku,E.functionsIn=xy,E.groupBy=Am,E.initial=Ip,E.intersection=Lp,E.intersectionBy=Np,E.intersectionWith=Dp,E.invert=dd,E.invertBy=Sy,E.invokeMap=Cm,E.iteratee=Wu,E.keyBy=Pm,E.keys=en,E.keysIn=jn,E.map=Sl,E.mapKeys=Cy,E.mapValues=gd,E.matches=nv,E.matchesProperty=rv,E.memoize=ta,E.merge=Py,E.mergeWith=pd,E.method=iv,E.methodOf=sv,E.mixin=Gu,E.negate=Cl,E.nthArg=av,E.omit=mb,E.omitBy=Oy,E.once=td,E.orderBy=Om,E.over=lv,E.overArgs=Lm,E.overEvery=cv,E.overSome=uv,E.partial=Tu,E.partialRight=ed,E.partition=_m,E.pick=_y,E.pickBy=md,E.property=Dd,E.propertyOf=_l,E.pull=Fp,E.pullAll=Lf,E.pullAllBy=Nf,E.pullAllWith=zp,E.pullAt=$p,E.range=hv,E.rangeRight=fv,E.rearg=Nm,E.reject=db,E.remove=Vp,E.rest=Dm,E.reverse=Cu,E.sampleSize=pb,E.set=My,E.setWith=Ty,E.shuffle=qf,E.slice=Hp,E.sortBy=Jf,E.sortedUniq=Bf,E.sortedUniqBy=Xp,E.split=Cd,E.spread=Bm,E.tail=Yp,E.take=Zp,E.takeRight=Kp,E.takeRightWhile=kf,E.takeWhile=Qp,E.tap=dm,E.throttle=km,E.thru=xl,E.toArray=Bu,E.toPairs=yd,E.toPairsIn=vd,E.toPath=yv,E.toPlainObject=ud,E.transform=Ry,E.unary=nd,E.union=tm,E.unionBy=em,E.unionWith=jf,E.uniq=nm,E.uniqBy=rm,E.uniqWith=im,E.unset=Iy,E.unzip=Pu,E.unzipWith=Ff,E.update=Ly,E.updateWith=Ny,E.values=Xs,E.valuesIn=Dy,E.without=sm,E.words=$u,E.wrap=jm,E.xor=om,E.xorBy=am,E.xorWith=lm,E.zip=cm,E.zipObject=um,E.zipObjectDeep=hm,E.zipWith=fm,E.entries=yd,E.entriesIn=vd,E.extend=hd,E.extendWith=Ol,Gu(E,E),E.add=bv,E.attempt=Vu,E.camelCase=Fy,E.capitalize=bd,E.ceil=xv,E.clamp=By,E.clone=Fm,E.cloneDeep=zm,E.cloneDeepWith=$m,E.cloneWith=Iu,E.conformsTo=Vm,E.deburr=xd,E.defaultTo=Id,E.divide=wv,E.endsWith=zy,E.eq=xr,E.escape=$y,E.escapeRegExp=wd,E.every=Me,E.find=bm,E.findIndex=Mf,E.findKey=gy,E.findLast=xm,E.findLastIndex=Tf,E.findLastKey=py,E.floor=Bd,E.forEach=Wf,E.forEachRight=Gf,E.forIn=my,E.forInRight=yy,E.forOwn=vy,E.forOwnRight=by,E.get=ju,E.gt=Hm,E.gte=rd,E.has=wy,E.hasIn=Fu,E.head=If,E.identity=Mn,E.includes=Uf,E.indexOf=Rp,E.inRange=ky,E.invoke=Ay,E.isArguments=hs,E.isArray=Tt,E.isArrayBuffer=Wm,E.isArrayLike=kn,E.isArrayLikeObject=Fe,E.isBoolean=id,E.isBuffer=Li,E.isDate=Gm,E.isElement=Um,E.isEmpty=qm,E.isEqual=Jm,E.isEqualWith=sd,E.isError=Lu,E.isFinite=Xm,E.isFunction=ri,E.isInteger=Nu,E.isLength=Pl,E.isMap=od,E.isMatch=Ym,E.isMatchWith=Zm,E.isNaN=Km,E.isNative=Qm,E.isNil=ey,E.isNull=ty,E.isNumber=ad,E.isObject=Pe,E.isObjectLike=Te,E.isPlainObject=ea,E.isRegExp=Du,E.isSafeInteger=ny,E.isSet=ld,E.isString=Js,E.isSymbol=Un,E.isTypedArray=fs,E.isUndefined=ry,E.isWeakMap=iy,E.isWeakSet=sy,E.join=Bp,E.kebabCase=Vy,E.last=or,E.lastIndexOf=kp,E.lowerCase=Hy,E.lowerFirst=Wy,E.lt=oy,E.lte=ay,E.max=Sv,E.maxBy=Av,E.mean=kd,E.meanBy=Cv,E.min=Pv,E.minBy=Ov,E.stubArray=qu,E.stubFalse=Ju,E.stubObject=dv,E.stubString=gv,E.stubTrue=pv,E.multiply=_v,E.nth=jp,E.noConflict=ov,E.noop=Uu,E.now=Al,E.pad=Gy,E.padEnd=Sd,E.padStart=Ad,E.parseInt=Uy,E.random=jy,E.reduce=_u,E.reduceRight=Em,E.repeat=qy,E.replace=Jy,E.result=Ey,E.round=Ev,E.runInContext=$,E.sample=gb,E.size=Eu,E.snakeCase=Xy,E.some=Qo,E.sortedIndex=Df,E.sortedIndexBy=Wp,E.sortedIndexOf=Gp,E.sortedLastIndex=Up,E.sortedLastIndexBy=qp,E.sortedLastIndexOf=Jp,E.startCase=Yy,E.startsWith=Pd,E.subtract=Mv,E.sum=Xu,E.sumBy=Yu,E.template=Od,E.times=mv,E.toFinite=ii,E.toInteger=Nt,E.toLength=cd,E.toLower=_d,E.toNumber=lr,E.toSafeInteger=ly,E.toString=ae,E.toUpper=Zy,E.trim=Ed,E.trimEnd=Ky,E.trimStart=Md,E.truncate=Td,E.unescape=Qy,E.uniqueId=vv,E.upperCase=tv,E.upperFirst=zu,E.each=Wf,E.eachRight=Gf,E.first=If,Gu(E,function(){var o={};return br(E,function(c,f){ie.call(E.prototype,f)||(o[f]=c)}),o}(),{chain:!1}),E.VERSION=ee,Ln(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){E[o].placeholder=E}),Ln(["drop","take"],function(o,c){Vt.prototype[o]=function(f){f=f===N?1:I(Nt(f),0);var v=this.__filtered__&&!c?new Vt(this):this.clone();return v.__filtered__?v.__takeCount__=F(f,v.__takeCount__):v.__views__.push({size:F(f,Jt),type:o+(v.__dir__<0?"Right":"")}),v},Vt.prototype[o+"Right"]=function(f){return this.reverse()[o](f).reverse()}}),Ln(["filter","map","takeWhile"],function(o,c){var f=c+1,v=f==ke||f==rn;Vt.prototype[o]=function(P){var T=this.clone();return T.__iteratees__.push({iteratee:St(P,3),type:f}),T.__filtered__=T.__filtered__||v,T}}),Ln(["head","last"],function(o,c){var f="take"+(c?"Right":"");Vt.prototype[o]=function(){return this[f](1).value()[0]}}),Ln(["initial","tail"],function(o,c){var f="drop"+(c?"":"Right");Vt.prototype[o]=function(){return this.__filtered__?new Vt(this):this[f](1)}}),Vt.prototype.compact=function(){return this.filter(Mn)},Vt.prototype.find=function(o){return this.filter(o).head()},Vt.prototype.findLast=function(o){return this.reverse().find(o)},Vt.prototype.invokeMap=Ft(function(o,c){return typeof o=="function"?new Vt(this):this.map(function(f){return Kr(f,o,c)})}),Vt.prototype.reject=function(o){return this.filter(Cl(St(o)))},Vt.prototype.slice=function(o,c){o=Nt(o);var f=this;return f.__filtered__&&(o>0||c<0)?new Vt(f):(o<0?f=f.takeRight(-o):o&&(f=f.drop(o)),c!==N&&(c=Nt(c),f=c<0?f.dropRight(-c):f.take(c-o)),f)},Vt.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},Vt.prototype.toArray=function(){return this.take(Jt)},br(Vt.prototype,function(o,c){var f=/^(?:filter|find|map|reject)|While$/.test(c),v=/^(?:head|last)$/.test(c),P=E[v?"take"+(c=="last"?"Right":""):c],T=v||/^find/.test(c);P&&(E.prototype[c]=function(){var D=this.__wrapped__,j=v?[1]:arguments,V=D instanceof Vt,X=j[0],Y=V||Tt(D),Q=function(Ht){var zt=P.apply(E,Nn([Ht],j));return v&&at?zt[0]:zt};Y&&f&&typeof X=="function"&&X.length!=1&&(V=Y=!1);var at=this.__chain__,vt=!!this.__actions__.length,Ct=T&&!at,kt=V&&!vt;if(!T&&Y){D=kt?D:new Vt(this);var At=o.apply(D,j);return At.__actions__.push({func:xl,args:[Q],thisArg:N}),new nr(At,at)}return Ct&&kt?o.apply(this,j):(At=this.thru(Q),Ct?v?At.value()[0]:At.value():At)})}),Ln(["pop","push","shift","sort","splice","unshift"],function(o){var c=Ki[o],f=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",v=/^(?:pop|shift)$/.test(o);E.prototype[o]=function(){var P=arguments;if(v&&!this.__chain__){var T=this.value();return c.apply(Tt(T)?T:[],P)}return this[f](function(D){return c.apply(Tt(D)?D:[],P)})}}),br(Vt.prototype,function(o,c){var f=E[c];if(f){var v=f.name+"";ie.call(he,v)||(he[v]=[]),he[v].push({name:c,func:f})}}),he[Ii(N,$e).name]=[{name:"wrapper",func:N}],Vt.prototype.clone=yg,Vt.prototype.reverse=qc,Vt.prototype.value=vg,E.prototype.at=ve,E.prototype.chain=wl,E.prototype.commit=$f,E.prototype.next=gm,E.prototype.plant=Ou,E.prototype.reverse=mm,E.prototype.toJSON=E.prototype.valueOf=E.prototype.value=ym,E.prototype.first=E.prototype.head,ts&&(E.prototype[ts]=pm),E},Zi=zc();qe._=Zi,ht=function(){return Zi}.call(An,dt,An,Sn),ht!==N&&(Sn.exports=ht)}).call(this)},11914:function(Sn,An){"use strict";var dt;dt={value:!0},dt=ht;function ht(N){return N.displayName||N.name||(typeof N=="string"&&N.length>0?N:"Unknown")}},40818:function(Sn,An,dt){"use strict";dt.d(An,{QM:function(){return js}});var ht=dt(87462),N=dt(63366),ee=dt(67294),Kn=dt(8679),Dr=dt.n(Kn),Ce=dt(11914);function nn(A,b,w){return b in A?Object.defineProperty(A,b,{value:w,enumerable:!0,configurable:!0,writable:!0}):A[b]=w,A}function lt(){return lt=Object.assign||function(A){for(var b=1;b<arguments.length;b++){var w=arguments[b];for(var y in w)Object.prototype.hasOwnProperty.call(w,y)&&(A[y]=w[y])}return A},lt.apply(this,arguments)}function J(A,b){A.prototype=Object.create(b.prototype),A.prototype.constructor=A,A.__proto__=b}function nt(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function yt(A){return A!==null&&typeof A=="object"&&!Array.isArray(A)}function Dt(A){var b=function(w){J(y,w);function y(){for(var _,I=arguments.length,F=new Array(I),Z=0;Z<I;Z++)F[Z]=arguments[Z];return _=w.call.apply(w,[this].concat(F))||this,nn(nt(nt(_)),"cachedTheme",void 0),nn(nt(nt(_)),"lastOuterTheme",void 0),nn(nt(nt(_)),"lastTheme",void 0),nn(nt(nt(_)),"renderProvider",function(et){var ct=_.props.children;return ee.createElement(A.Provider,{value:_.getTheme(et)},ct)}),_}var S=y.prototype;return S.getTheme=function(I){if(this.props.theme!==this.lastTheme||I!==this.lastOuterTheme||!this.cachedTheme)if(this.lastOuterTheme=I,this.lastTheme=this.props.theme,typeof this.lastTheme=="function"){var F=this.props.theme;this.cachedTheme=F(I)}else{var Z=this.props.theme;this.cachedTheme=I?lt({},I,Z):Z}return this.cachedTheme},S.render=function(){var I=this.props.children;return I?ee.createElement(A.Consumer,null,this.renderProvider):null},y}(ee.Component);return b}function Bt(A){return function(w){var y=ee.forwardRef(function(S,_){return ee.createElement(A.Consumer,null,function(I){return ee.createElement(w,lt({theme:I,ref:_},S))})});return Dr()(y,w),y}}function ne(A){var b=function(){var y=ee.useContext(A);return y};return b}function de(A){return{context:A,withTheme:Bt(A),useTheme:ne(A),ThemeProvider:Dt(A)}}var Zt=(0,ee.createContext)(),$e=de(Zt),Ge=$e.withTheme,ge=$e.ThemeProvider,De=$e.useTheme,qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},Ue=(typeof window=="undefined"?"undefined":qt(window))==="object"&&(typeof document=="undefined"?"undefined":qt(document))==="object"&&document.nodeType===9,wt=Ue,pe=!0;function Qn(A,b){if(!pe){if(A)return;var w="Warning: "+b;typeof console!="undefined"&&console.warn(w);try{throw Error(w)}catch(y){}}}var Cn=Qn,_e=dt(43144),le=dt(89611);function Be(A,b){A.prototype=Object.create(b.prototype),A.prototype.constructor=A,(0,le.Z)(A,b)}var ke=dt(97326),hn={}.constructor;function rn(A){if(A==null||typeof A!="object")return A;if(Array.isArray(A))return A.map(rn);if(A.constructor!==hn)return A;var b={};for(var w in A)b[w]=rn(A[w]);return b}function oe(A,b,w){A===void 0&&(A="unnamed");var y=w.jss,S=rn(b),_=y.plugins.onCreateRule(A,S,w);return _||(A[0],null)}var ue=function(b,w){for(var y="",S=0;S<b.length&&b[S]!=="!important";S++)y&&(y+=w),y+=b[S];return y},ce=function(b){if(!Array.isArray(b))return b;var w="";if(Array.isArray(b[0]))for(var y=0;y<b.length&&b[y]!=="!important";y++)w&&(w+=", "),w+=ue(b[y]," ");else w=ue(b,", ");return b[b.length-1]==="!important"&&(w+=" !important"),w};function Wt(A){return A&&A.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function Jt(A,b){for(var w="",y=0;y<b;y++)w+="  ";return w+A}function me(A,b,w){w===void 0&&(w={});var y="";if(!b)return y;var S=w,_=S.indent,I=_===void 0?0:_,F=b.fallbacks;w.format===!1&&(I=-1/0);var Z=Wt(w),et=Z.linebreak,ct=Z.space;if(A&&I++,F)if(Array.isArray(F))for(var mt=0;mt<F.length;mt++){var $t=F[mt];for(var Et in $t){var jt=$t[Et];jt!=null&&(y&&(y+=et),y+=Jt(Et+":"+ct+ce(jt)+";",I))}}else for(var Mt in F){var Xt=F[Mt];Xt!=null&&(y&&(y+=et),y+=Jt(Mt+":"+ct+ce(Xt)+";",I))}for(var Lt in b){var te=b[Lt];te!=null&&Lt!=="fallbacks"&&(y&&(y+=et),y+=Jt(Lt+":"+ct+ce(te)+";",I))}return!y&&!w.allowEmpty||!A?y:(I--,y&&(y=""+et+y+et),Jt(""+A+ct+"{"+y,I)+Jt("}",I))}var Br=/([[\].#*$><+~=|^:(),"'`\s])/g,ki=typeof CSS!="undefined"&&CSS.escape,fn=function(A){return ki?ki(A):A.replace(Br,"\\$1")},$n=function(){function A(w,y,S){this.type="style",this.isProcessed=!1;var _=S.sheet,I=S.Renderer;this.key=w,this.options=S,this.style=y,_?this.renderer=_.renderer:I&&(this.renderer=new I)}var b=A.prototype;return b.prop=function(y,S,_){if(S===void 0)return this.style[y];var I=_?_.force:!1;if(!I&&this.style[y]===S)return this;var F=S;(!_||_.process!==!1)&&(F=this.options.jss.plugins.onChangeValue(S,y,this));var Z=F==null||F===!1,et=y in this.style;if(Z&&!et&&!I)return this;var ct=Z&&et;if(ct?delete this.style[y]:this.style[y]=F,this.renderable&&this.renderer)return ct?this.renderer.removeProperty(this.renderable,y):this.renderer.setProperty(this.renderable,y,F),this;var mt=this.options.sheet;return mt&&mt.attached,this},A}(),kr=function(A){Be(b,A);function b(y,S,_){var I;I=A.call(this,y,S,_)||this;var F=_.selector,Z=_.scoped,et=_.sheet,ct=_.generateId;return F?I.selectorText=F:Z!==!1&&(I.id=ct((0,ke.Z)((0,ke.Z)(I)),et),I.selectorText="."+fn(I.id)),I}var w=b.prototype;return w.applyTo=function(S){var _=this.renderer;if(_){var I=this.toJSON();for(var F in I)_.setProperty(S,F,I[F])}return this},w.toJSON=function(){var S={};for(var _ in this.style){var I=this.style[_];typeof I!="object"?S[_]=I:Array.isArray(I)&&(S[_]=ce(I))}return S},w.toString=function(S){var _=this.options.sheet,I=_?_.options.link:!1,F=I?(0,ht.Z)({},S,{allowEmpty:!0}):S;return me(this.selectorText,this.style,F)},(0,_e.Z)(b,[{key:"selector",set:function(S){if(S!==this.selectorText){this.selectorText=S;var _=this.renderer,I=this.renderable;if(!(!I||!_)){var F=_.setSelector(I,S);F||_.replaceRule(I,this)}}},get:function(){return this.selectorText}}]),b}($n),jr={onCreateRule:function(b,w,y){return b[0]==="@"||y.parent&&y.parent.type==="keyframes"?null:new kr(b,w,y)}},dn={indent:1,children:!0},Kl=/@([\w-]+)/,As=function(){function A(w,y,S){this.type="conditional",this.isProcessed=!1,this.key=w;var _=w.match(Kl);this.at=_?_[1]:"unknown",this.query=S.name||"@"+this.at,this.options=S,this.rules=new hi((0,ht.Z)({},S,{parent:this}));for(var I in y)this.rules.add(I,y[I]);this.rules.process()}var b=A.prototype;return b.getRule=function(y){return this.rules.get(y)},b.indexOf=function(y){return this.rules.indexOf(y)},b.addRule=function(y,S,_){var I=this.rules.add(y,S,_);return I?(this.options.jss.plugins.onProcessRule(I),I):null},b.replaceRule=function(y,S,_){var I=this.rules.replace(y,S,_);return I&&this.options.jss.plugins.onProcessRule(I),I},b.toString=function(y){y===void 0&&(y=dn);var S=Wt(y),_=S.linebreak;if(y.indent==null&&(y.indent=dn.indent),y.children==null&&(y.children=dn.children),y.children===!1)return this.query+" {}";var I=this.rules.toString(y);return I?this.query+" {"+_+I+_+"}":""},A}(),Cs=/@container|@media|@supports\s+/,fa={onCreateRule:function(b,w,y){return Cs.test(b)?new As(b,w,y):null}},Pn={indent:1,children:!0},li=/@keyframes\s+([\w-]+)/,uo=function(){function A(w,y,S){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var _=w.match(li);_&&_[1]?this.name=_[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=S;var I=S.scoped,F=S.sheet,Z=S.generateId;this.id=I===!1?this.name:fn(Z(this,F)),this.rules=new hi((0,ht.Z)({},S,{parent:this}));for(var et in y)this.rules.add(et,y[et],(0,ht.Z)({},S,{parent:this}));this.rules.process()}var b=A.prototype;return b.toString=function(y){y===void 0&&(y=Pn);var S=Wt(y),_=S.linebreak;if(y.indent==null&&(y.indent=Pn.indent),y.children==null&&(y.children=Pn.children),y.children===!1)return this.at+" "+this.id+" {}";var I=this.rules.toString(y);return I&&(I=""+_+I+_),this.at+" "+this.id+" {"+I+"}"},A}(),Qe=/@keyframes\s+/,da=/\$([\w-]+)/g,On=function(b,w){return typeof b=="string"?b.replace(da,function(y,S){return S in w?w[S]:y}):b},ci=function(b,w,y){var S=b[w],_=On(S,y);_!==S&&(b[w]=_)},Vn={onCreateRule:function(b,w,y){return typeof b=="string"&&Qe.test(b)?new uo(b,w,y):null},onProcessStyle:function(b,w,y){return w.type!=="style"||!y||("animation-name"in b&&ci(b,"animation-name",y.keyframes),"animation"in b&&ci(b,"animation",y.keyframes)),b},onChangeValue:function(b,w,y){var S=y.options.sheet;if(!S)return b;switch(w){case"animation":return On(b,S.keyframes);case"animation-name":return On(b,S.keyframes);default:return b}}},gn=function(A){Be(b,A);function b(){return A.apply(this,arguments)||this}var w=b.prototype;return w.toString=function(S){var _=this.options.sheet,I=_?_.options.link:!1,F=I?(0,ht.Z)({},S,{allowEmpty:!0}):S;return me(this.key,this.style,F)},b}($n),ji={onCreateRule:function(b,w,y){return y.parent&&y.parent.type==="keyframes"?new gn(b,w,y):null}},Ql=function(){function A(w,y,S){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=w,this.style=y,this.options=S}var b=A.prototype;return b.toString=function(y){var S=Wt(y),_=S.linebreak;if(Array.isArray(this.style)){for(var I="",F=0;F<this.style.length;F++)I+=me(this.at,this.style[F]),this.style[F+1]&&(I+=_);return I}return me(this.at,this.style,y)},A}(),Fi=/@font-face/,tc={onCreateRule:function(b,w,y){return Fi.test(b)?new Ql(b,w,y):null}},zi=function(){function A(w,y,S){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=w,this.style=y,this.options=S}var b=A.prototype;return b.toString=function(y){return me(this.key,this.style,y)},A}(),ui={onCreateRule:function(b,w,y){return b==="@viewport"||b==="@-ms-viewport"?new zi(b,w,y):null}},Fr=function(){function A(w,y,S){this.type="simple",this.isProcessed=!1,this.key=w,this.value=y,this.options=S}var b=A.prototype;return b.toString=function(y){if(Array.isArray(this.value)){for(var S="",_=0;_<this.value.length;_++)S+=this.key+" "+this.value[_]+";",this.value[_+1]&&(S+=`
`);return S}return this.key+" "+this.value+";"},A}(),ho={"@charset":!0,"@import":!0,"@namespace":!0},fo={onCreateRule:function(b,w,y){return b in ho?new Fr(b,w,y):null}},Ps=[jr,fa,Vn,ji,tc,ui,fo],go={process:!0},$i={force:!0,process:!0},hi=function(){function A(w){this.map={},this.raw={},this.index=[],this.counter=0,this.options=w,this.classes=w.classes,this.keyframes=w.keyframes}var b=A.prototype;return b.add=function(y,S,_){var I=this.options,F=I.parent,Z=I.sheet,et=I.jss,ct=I.Renderer,mt=I.generateId,$t=I.scoped,Et=(0,ht.Z)({classes:this.classes,parent:F,sheet:Z,jss:et,Renderer:ct,generateId:mt,scoped:$t,name:y,keyframes:this.keyframes,selector:void 0},_),jt=y;y in this.raw&&(jt=y+"-d"+this.counter++),this.raw[jt]=S,jt in this.classes&&(Et.selector="."+fn(this.classes[jt]));var Mt=oe(jt,S,Et);if(!Mt)return null;this.register(Mt);var Xt=Et.index===void 0?this.index.length:Et.index;return this.index.splice(Xt,0,Mt),Mt},b.replace=function(y,S,_){var I=this.get(y),F=this.index.indexOf(I);I&&this.remove(I);var Z=_;return F!==-1&&(Z=(0,ht.Z)({},_,{index:F})),this.add(y,S,Z)},b.get=function(y){return this.map[y]},b.remove=function(y){this.unregister(y),delete this.raw[y.key],this.index.splice(this.index.indexOf(y),1)},b.indexOf=function(y){return this.index.indexOf(y)},b.process=function(){var y=this.options.jss.plugins;this.index.slice(0).forEach(y.onProcessRule,y)},b.register=function(y){this.map[y.key]=y,y instanceof kr?(this.map[y.selector]=y,y.id&&(this.classes[y.key]=y.id)):y instanceof uo&&this.keyframes&&(this.keyframes[y.name]=y.id)},b.unregister=function(y){delete this.map[y.key],y instanceof kr?(delete this.map[y.selector],delete this.classes[y.key]):y instanceof uo&&delete this.keyframes[y.name]},b.update=function(){var y,S,_;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(y=arguments.length<=0?void 0:arguments[0],S=arguments.length<=1?void 0:arguments[1],_=arguments.length<=2?void 0:arguments[2]):(S=arguments.length<=0?void 0:arguments[0],_=arguments.length<=1?void 0:arguments[1],y=null),y)this.updateOne(this.get(y),S,_);else for(var I=0;I<this.index.length;I++)this.updateOne(this.index[I],S,_)},b.updateOne=function(y,S,_){_===void 0&&(_=go);var I=this.options,F=I.jss.plugins,Z=I.sheet;if(y.rules instanceof A){y.rules.update(S,_);return}var et=y.style;if(F.onUpdate(S,y,Z,_),_.process&&et&&et!==y.style){F.onProcessStyle(y.style,y,Z);for(var ct in y.style){var mt=y.style[ct],$t=et[ct];mt!==$t&&y.prop(ct,mt,$i)}for(var Et in et){var jt=y.style[Et],Mt=et[Et];jt==null&&jt!==Mt&&y.prop(Et,null,$i)}}},b.toString=function(y){for(var S="",_=this.options.sheet,I=_?_.options.link:!1,F=Wt(y),Z=F.linebreak,et=0;et<this.index.length;et++){var ct=this.index[et],mt=ct.toString(y);!mt&&!I||(S&&(S+=Z),S+=mt)}return S},A}(),Os=function(){function A(w,y){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,ht.Z)({},y,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),y.Renderer&&(this.renderer=new y.Renderer(this)),this.rules=new hi(this.options);for(var S in w)this.rules.add(S,w[S]);this.rules.process()}var b=A.prototype;return b.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},b.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},b.addRule=function(y,S,_){var I=this.queue;this.attached&&!I&&(this.queue=[]);var F=this.rules.add(y,S,_);return F?(this.options.jss.plugins.onProcessRule(F),this.attached?(this.deployed&&(I?I.push(F):(this.insertRule(F),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),F):(this.deployed=!1,F)):null},b.replaceRule=function(y,S,_){var I=this.rules.get(y);if(!I)return this.addRule(y,S,_);var F=this.rules.replace(y,S,_);return F&&this.options.jss.plugins.onProcessRule(F),this.attached?(this.deployed&&this.renderer&&(F?I.renderable&&this.renderer.replaceRule(I.renderable,F):this.renderer.deleteRule(I)),F):(this.deployed=!1,F)},b.insertRule=function(y){this.renderer&&this.renderer.insertRule(y)},b.addRules=function(y,S){var _=[];for(var I in y){var F=this.addRule(I,y[I],S);F&&_.push(F)}return _},b.getRule=function(y){return this.rules.get(y)},b.deleteRule=function(y){var S=typeof y=="object"?y:this.rules.get(y);return!S||this.attached&&!S.renderable?!1:(this.rules.remove(S),this.attached&&S.renderable&&this.renderer?this.renderer.deleteRule(S.renderable):!0)},b.indexOf=function(y){return this.rules.indexOf(y)},b.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},b.update=function(){var y;return(y=this.rules).update.apply(y,arguments),this},b.updateOne=function(y,S,_){return this.rules.updateOne(y,S,_),this},b.toString=function(y){return this.rules.toString(y)},A}(),_s=function(){function A(){this.plugins={internal:[],external:[]},this.registry={}}var b=A.prototype;return b.onCreateRule=function(y,S,_){for(var I=0;I<this.registry.onCreateRule.length;I++){var F=this.registry.onCreateRule[I](y,S,_);if(F)return F}return null},b.onProcessRule=function(y){if(!y.isProcessed){for(var S=y.options.sheet,_=0;_<this.registry.onProcessRule.length;_++)this.registry.onProcessRule[_](y,S);y.style&&this.onProcessStyle(y.style,y,S),y.isProcessed=!0}},b.onProcessStyle=function(y,S,_){for(var I=0;I<this.registry.onProcessStyle.length;I++)S.style=this.registry.onProcessStyle[I](S.style,S,_)},b.onProcessSheet=function(y){for(var S=0;S<this.registry.onProcessSheet.length;S++)this.registry.onProcessSheet[S](y)},b.onUpdate=function(y,S,_,I){for(var F=0;F<this.registry.onUpdate.length;F++)this.registry.onUpdate[F](y,S,_,I)},b.onChangeValue=function(y,S,_){for(var I=y,F=0;F<this.registry.onChangeValue.length;F++)I=this.registry.onChangeValue[F](I,S,_);return I},b.use=function(y,S){S===void 0&&(S={queue:"external"});var _=this.plugins[S.queue];_.indexOf(y)===-1&&(_.push(y),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(I,F){for(var Z in F)Z in I&&I[Z].push(F[Z]);return I},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},A}(),po=function(){function A(){this.registry=[]}var b=A.prototype;return b.add=function(y){var S=this.registry,_=y.options.index;if(S.indexOf(y)===-1){if(S.length===0||_>=this.index){S.push(y);return}for(var I=0;I<S.length;I++)if(S[I].options.index>_){S.splice(I,0,y);return}}},b.reset=function(){this.registry=[]},b.remove=function(y){var S=this.registry.indexOf(y);this.registry.splice(S,1)},b.toString=function(y){for(var S=y===void 0?{}:y,_=S.attached,I=(0,N.Z)(S,["attached"]),F=Wt(I),Z=F.linebreak,et="",ct=0;ct<this.registry.length;ct++){var mt=this.registry[ct];_!=null&&mt.attached!==_||(et&&(et+=Z),et+=mt.toString(I))}return et},(0,_e.Z)(A,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),A}(),xt=new po,Es=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"&&window.Math===Math?window:typeof self!="undefined"&&self.Math===Math?self:Function("return this")(),fi="2f1acc6c3a606b082e5eef5e54414ffb";Es[fi]==null&&(Es[fi]=0);var di=Es[fi]++,ec=1e10,Ms=function(b){b===void 0&&(b={});var w=0,y=function(_,I){w+=1,w>ec;var F="",Z="";return I&&(I.options.classNamePrefix&&(Z=I.options.classNamePrefix),I.options.jss.id!=null&&(F=String(I.options.jss.id))),b.minify?""+(Z||"c")+di+F+w:Z+_.key+"-"+di+(F?"-"+F:"")+"-"+w};return y},ga=function(b){var w;return function(){return w||(w=b()),w}},nc=function(b,w){try{return b.attributeStyleMap?b.attributeStyleMap.get(w):b.style.getPropertyValue(w)}catch(y){return""}},pa=function(b,w,y){try{var S=y;if(Array.isArray(y)&&(S=ce(y)),b.attributeStyleMap)b.attributeStyleMap.set(w,S);else{var _=S?S.indexOf("!important"):-1,I=_>-1?S.substr(0,_-1):S;b.style.setProperty(w,I,_>-1?"important":"")}}catch(F){return!1}return!0},rc=function(b,w){try{b.attributeStyleMap?b.attributeStyleMap.delete(w):b.style.removeProperty(w)}catch(y){}},ic=function(b,w){return b.selectorText=w,b.selectorText===w},ma=ga(function(){return document.querySelector("head")});function Ve(A,b){for(var w=0;w<A.length;w++){var y=A[w];if(y.attached&&y.options.index>b.index&&y.options.insertionPoint===b.insertionPoint)return y}return null}function sc(A,b){for(var w=A.length-1;w>=0;w--){var y=A[w];if(y.attached&&y.options.insertionPoint===b.insertionPoint)return y}return null}function mo(A){for(var b=ma(),w=0;w<b.childNodes.length;w++){var y=b.childNodes[w];if(y.nodeType===8&&y.nodeValue.trim()===A)return y}return null}function oc(A){var b=xt.registry;if(b.length>0){var w=Ve(b,A);if(w&&w.renderer)return{parent:w.renderer.element.parentNode,node:w.renderer.element};if(w=sc(b,A),w&&w.renderer)return{parent:w.renderer.element.parentNode,node:w.renderer.element.nextSibling}}var y=A.insertionPoint;if(y&&typeof y=="string"){var S=mo(y);if(S)return{parent:S.parentNode,node:S.nextSibling}}return!1}function yo(A,b){var w=b.insertionPoint,y=oc(b);if(y!==!1&&y.parent){y.parent.insertBefore(A,y.node);return}if(w&&typeof w.nodeType=="number"){var S=w,_=S.parentNode;_&&_.insertBefore(A,S.nextSibling);return}ma().appendChild(A)}var ac=ga(function(){var A=document.querySelector('meta[property="csp-nonce"]');return A?A.getAttribute("content"):null}),ya=function(b,w,y){try{"insertRule"in b?b.insertRule(w,y):"appendRule"in b&&b.appendRule(w)}catch(S){return!1}return b.cssRules[y]},va=function(b,w){var y=b.cssRules.length;return w===void 0||w>y?y:w},lc=function(){var b=document.createElement("style");return b.textContent=`
`,b},cc=function(){function A(w){this.getPropertyValue=nc,this.setProperty=pa,this.removeProperty=rc,this.setSelector=ic,this.hasInsertedRules=!1,this.cssRules=[],w&&xt.add(w),this.sheet=w;var y=this.sheet?this.sheet.options:{},S=y.media,_=y.meta,I=y.element;this.element=I||lc(),this.element.setAttribute("data-jss",""),S&&this.element.setAttribute("media",S),_&&this.element.setAttribute("data-meta",_);var F=ac();F&&this.element.setAttribute("nonce",F)}var b=A.prototype;return b.attach=function(){if(!(this.element.parentNode||!this.sheet)){yo(this.element,this.sheet.options);var y=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&y&&(this.hasInsertedRules=!1,this.deploy())}},b.detach=function(){if(this.sheet){var y=this.element.parentNode;y&&y.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},b.deploy=function(){var y=this.sheet;if(y){if(y.options.link){this.insertRules(y.rules);return}this.element.textContent=`
`+y.toString()+`
`}},b.insertRules=function(y,S){for(var _=0;_<y.index.length;_++)this.insertRule(y.index[_],_,S)},b.insertRule=function(y,S,_){if(_===void 0&&(_=this.element.sheet),y.rules){var I=y,F=_;if(y.type==="conditional"||y.type==="keyframes"){var Z=va(_,S);if(F=ya(_,I.toString({children:!1}),Z),F===!1)return!1;this.refCssRule(y,Z,F)}return this.insertRules(I.rules,F),F}var et=y.toString();if(!et)return!1;var ct=va(_,S),mt=ya(_,et,ct);return mt===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(y,ct,mt),mt)},b.refCssRule=function(y,S,_){y.renderable=_,y.options.parent instanceof Os&&this.cssRules.splice(S,0,_)},b.deleteRule=function(y){var S=this.element.sheet,_=this.indexOf(y);return _===-1?!1:(S.deleteRule(_),this.cssRules.splice(_,1),!0)},b.indexOf=function(y){return this.cssRules.indexOf(y)},b.replaceRule=function(y,S){var _=this.indexOf(y);return _===-1?!1:(this.element.sheet.deleteRule(_),this.cssRules.splice(_,1),this.insertRule(S,_))},b.getRules=function(){return this.element.sheet.cssRules},A}(),vo=0,ba=function(){function A(w){this.id=vo++,this.version="10.10.0",this.plugins=new _s,this.options={id:{minify:!1},createGenerateId:Ms,Renderer:wt?cc:null,plugins:[]},this.generateId=Ms({minify:!1});for(var y=0;y<Ps.length;y++)this.plugins.use(Ps[y],{queue:"internal"});this.setup(w)}var b=A.prototype;return b.setup=function(y){return y===void 0&&(y={}),y.createGenerateId&&(this.options.createGenerateId=y.createGenerateId),y.id&&(this.options.id=(0,ht.Z)({},this.options.id,y.id)),(y.createGenerateId||y.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),y.insertionPoint!=null&&(this.options.insertionPoint=y.insertionPoint),"Renderer"in y&&(this.options.Renderer=y.Renderer),y.plugins&&this.use.apply(this,y.plugins),this},b.createStyleSheet=function(y,S){S===void 0&&(S={});var _=S,I=_.index;typeof I!="number"&&(I=xt.index===0?0:xt.index+1);var F=new Os(y,(0,ht.Z)({},S,{jss:this,generateId:S.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:I}));return this.plugins.onProcessSheet(F),F},b.removeStyleSheet=function(y){return y.detach(),xt.remove(y),this},b.createRule=function(y,S,_){if(S===void 0&&(S={}),_===void 0&&(_={}),typeof y=="object")return this.createRule(void 0,y,S);var I=(0,ht.Z)({},_,{name:y,jss:this,Renderer:this.options.Renderer});I.generateId||(I.generateId=this.generateId),I.classes||(I.classes={}),I.keyframes||(I.keyframes={});var F=oe(y,S,I);return F&&this.plugins.onProcessRule(F),F},b.use=function(){for(var y=this,S=arguments.length,_=new Array(S),I=0;I<S;I++)_[I]=arguments[I];return _.forEach(function(F){y.plugins.use(F)}),this},A}(),Vi=function(b){return new ba(b)},bo=function(){function A(){this.length=0,this.sheets=new WeakMap}var b=A.prototype;return b.get=function(y){var S=this.sheets.get(y);return S&&S.sheet},b.add=function(y,S){this.sheets.has(y)||(this.length++,this.sheets.set(y,{sheet:S,refs:0}))},b.manage=function(y){var S=this.sheets.get(y);if(S)return S.refs===0&&S.sheet.attach(),S.refs++,S.sheet;Cn(!1,"[JSS] SheetsManager: can't find sheet to manage")},b.unmanage=function(y){var S=this.sheets.get(y);S?S.refs>0&&(S.refs--,S.refs===0&&S.sheet.detach()):Cn(!1,"SheetsManager: can't find sheet to unmanage")},(0,_e.Z)(A,[{key:"size",get:function(){return this.length}}]),A}(),xo=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function xa(A){var b=null;for(var w in A){var y=A[w],S=typeof y;if(S==="function")b||(b={}),b[w]=y;else if(S==="object"&&y!==null&&!Array.isArray(y)){var _=xa(y);_&&(b||(b={}),b[w]=_)}}return b}var wh=Vi(),Sh=null,Hi=Date.now(),cr="fnValues"+Hi,gi="fnStyle"+ ++Hi,uc=function(){return{onCreateRule:function(w,y,S){if(typeof y!="function")return null;var _=oe(w,{},S);return _[gi]=y,_},onProcessStyle:function(w,y){if(cr in y||gi in y)return w;var S={};for(var _ in w){var I=w[_];typeof I=="function"&&(delete w[_],S[_]=I)}return y[cr]=S,w},onUpdate:function(w,y,S,_){var I=y,F=I[gi];if(F&&(I.style=F(w)||{},!1))var Z;var et=I[cr];if(et)for(var ct in et)I.prop(ct,et[ct](w),_)}}},hc=uc,wa=dt(98123),wo=function(b){return b&&b[wa.Z]&&b===b[wa.Z]()},Sa=function(b){return{onCreateRule:function(y,S,_){if(!wo(S))return null;var I=S,F=oe(y,{},_);return I.subscribe(function(Z){for(var et in Z)F.prop(et,Z[et],b)}),F},onProcessRule:function(y){if(!(y&&y.type!=="style")){var S=y,_=S.style,I=function(ct){var mt=_[ct];if(!wo(mt))return"continue";delete _[ct],mt.subscribe({next:function(Et){S.prop(ct,Et,b)}})};for(var F in _)var Z=I(F)}}}},Aa=Sa,fc=/;\n/,dc=function(b){for(var w={},y=b.split(fc),S=0;S<y.length;S++){var _=(y[S]||"").trim();if(_){var I=_.indexOf(":");if(I!==-1){var F=_.substr(0,I).trim(),Z=_.substr(I+1).trim();w[F]=Z}}}return w},gc=function(b){typeof b.style=="string"&&(b.style=dc(b.style))};function pc(){return{onProcessRule:gc}}var Ca=pc,sn="@global",Ts="@global ",zr=function(){function A(w,y,S){this.type="global",this.at=sn,this.isProcessed=!1,this.key=w,this.options=S,this.rules=new hi((0,ht.Z)({},S,{parent:this}));for(var _ in y)this.rules.add(_,y[_]);this.rules.process()}var b=A.prototype;return b.getRule=function(y){return this.rules.get(y)},b.addRule=function(y,S,_){var I=this.rules.add(y,S,_);return I&&this.options.jss.plugins.onProcessRule(I),I},b.replaceRule=function(y,S,_){var I=this.rules.replace(y,S,_);return I&&this.options.jss.plugins.onProcessRule(I),I},b.indexOf=function(y){return this.rules.indexOf(y)},b.toString=function(y){return this.rules.toString(y)},A}(),mc=function(){function A(w,y,S){this.type="global",this.at=sn,this.isProcessed=!1,this.key=w,this.options=S;var _=w.substr(Ts.length);this.rule=S.jss.createRule(_,y,(0,ht.Z)({},S,{parent:this}))}var b=A.prototype;return b.toString=function(y){return this.rule?this.rule.toString(y):""},A}(),Pa=/\s*,\s*/g;function Wi(A,b){for(var w=A.split(Pa),y="",S=0;S<w.length;S++)y+=b+" "+w[S].trim(),w[S+1]&&(y+=", ");return y}function Oa(A,b){var w=A.options,y=A.style,S=y?y[sn]:null;if(S){for(var _ in S)b.addRule(_,S[_],(0,ht.Z)({},w,{selector:Wi(_,A.selector)}));delete y[sn]}}function yc(A,b){var w=A.options,y=A.style;for(var S in y)if(!(S[0]!=="@"||S.substr(0,sn.length)!==sn)){var _=Wi(S.substr(sn.length),A.selector);b.addRule(_,y[S],(0,ht.Z)({},w,{selector:_})),delete y[S]}}function _a(){function A(w,y,S){if(!w)return null;if(w===sn)return new zr(w,y,S);if(w[0]==="@"&&w.substr(0,Ts.length)===Ts)return new mc(w,y,S);var _=S.parent;return _&&(_.type==="global"||_.options.parent&&_.options.parent.type==="global")&&(S.scoped=!1),!S.selector&&S.scoped===!1&&(S.selector=w),null}function b(w,y){w.type!=="style"||!y||(Oa(w,y),yc(w,y))}return{onCreateRule:A,onProcessRule:b}}var Ea=_a,pi=function(b){return b&&typeof b=="object"&&!Array.isArray(b)},So="extendCurrValue"+Date.now();function Ma(A,b,w,y){var S=typeof A.extend;if(S==="string"){if(!w)return;var _=w.getRule(A.extend);if(!_||_===b)return;var I=_.options.parent;if(I){var F=I.rules.raw[A.extend];ur(F,b,w,y)}return}if(Array.isArray(A.extend)){for(var Z=0;Z<A.extend.length;Z++){var et=A.extend[Z],ct=typeof et=="string"?(0,ht.Z)({},A,{extend:et}):A.extend[Z];ur(ct,b,w,y)}return}for(var mt in A.extend){if(mt==="extend"){ur(A.extend.extend,b,w,y);continue}if(pi(A.extend[mt])){mt in y||(y[mt]={}),ur(A.extend[mt],b,w,y[mt]);continue}y[mt]=A.extend[mt]}}function Ao(A,b,w,y){for(var S in A)if(S!=="extend"){if(pi(y[S])&&pi(A[S])){ur(A[S],b,w,y[S]);continue}if(pi(A[S])){y[S]=ur(A[S],b,w);continue}y[S]=A[S]}}function ur(A,b,w,y){return y===void 0&&(y={}),Ma(A,b,w,y),Ao(A,b,w,y),y}function mi(){function A(w,y,S){return"extend"in w?ur(w,y,S):w}function b(w,y,S){if(y!=="extend")return w;if(w==null||w===!1){for(var _ in S[So])S.prop(_,null);return S[So]=null,null}if(typeof w=="object"){for(var I in w)S.prop(I,w[I]);S[So]=w}return null}return{onProcessStyle:A,onChangeValue:b}}var Ta=mi,Co=/\s*,\s*/g,vc=/&/g,$r=/\$([\w-]+)/g;function Po(){function A(S,_){return function(I,F){var Z=S.getRule(F)||_&&_.getRule(F);return Z?Z.selector:F}}function b(S,_){for(var I=_.split(Co),F=S.split(Co),Z="",et=0;et<I.length;et++)for(var ct=I[et],mt=0;mt<F.length;mt++){var $t=F[mt];Z&&(Z+=", "),Z+=$t.indexOf("&")!==-1?$t.replace(vc,ct):ct+" "+$t}return Z}function w(S,_,I){if(I)return(0,ht.Z)({},I,{index:I.index+1});var F=S.options.nestingLevel;F=F===void 0?1:F+1;var Z=(0,ht.Z)({},S.options,{nestingLevel:F,index:_.indexOf(S)+1});return delete Z.name,Z}function y(S,_,I){if(_.type!=="style")return S;var F=_,Z=F.options.parent,et,ct;for(var mt in S){var $t=mt.indexOf("&")!==-1,Et=mt[0]==="@";if(!(!$t&&!Et)){if(et=w(F,Z,et),$t){var jt=b(mt,F.selector);ct||(ct=A(Z,I)),jt=jt.replace($r,ct);var Mt=F.key+"-"+mt;"replaceRule"in Z?Z.replaceRule(Mt,S[mt],(0,ht.Z)({},et,{selector:jt})):Z.addRule(Mt,S[mt],(0,ht.Z)({},et,{selector:jt}))}else Et&&Z.addRule(mt,{},et).addRule(F.key,S[mt],{selector:F.selector});delete S[mt]}}return S}return{onProcessStyle:y}}var Ra=Po;function Rs(A,b){if(!b)return!0;if(Array.isArray(b)){for(var w=0;w<b.length;w++){var y=Rs(A,b[w]);if(!y)return!1}return!0}if(b.indexOf(" ")>-1)return Rs(A,b.split(" "));var S=A.options.parent;if(b[0]==="$"){var _=S.getRule(b.substr(1));return!_||_===A?!1:(S.classes[A.key]+=" "+S.classes[_.key],!0)}return S.classes[A.key]+=" "+b,!0}function bc(){function A(b,w){return"composes"in b&&(Rs(w,b.composes),delete b.composes),b}return{onProcessStyle:A}}var yi=bc,xc=/[A-Z]/g,Gi=/^ms-/,Oo={};function wc(A){return"-"+A.toLowerCase()}function Sc(A){if(Oo.hasOwnProperty(A))return Oo[A];var b=A.replace(xc,wc);return Oo[A]=Gi.test(b)?"-"+b:b}var Ia=Sc;function vi(A){var b={};for(var w in A){var y=w.indexOf("--")===0?w:Ia(w);b[y]=A[w]}return A.fallbacks&&(Array.isArray(A.fallbacks)?b.fallbacks=A.fallbacks.map(vi):b.fallbacks=vi(A.fallbacks)),b}function Ac(){function A(w){if(Array.isArray(w)){for(var y=0;y<w.length;y++)w[y]=vi(w[y]);return w}return vi(w)}function b(w,y,S){if(y.indexOf("--")===0)return w;var _=Ia(y);return y===_?w:(S.prop(_,w),null)}return{onProcessStyle:A,onChangeValue:b}}var Cc=Ac,q=xo&&CSS?CSS.px:"px",Is=xo&&CSS?CSS.ms:"ms",bi=xo&&CSS?CSS.percent:"%",Kt={"animation-delay":Is,"animation-duration":Is,"background-position":q,"background-position-x":q,"background-position-y":q,"background-size":q,border:q,"border-bottom":q,"border-bottom-left-radius":q,"border-bottom-right-radius":q,"border-bottom-width":q,"border-left":q,"border-left-width":q,"border-radius":q,"border-right":q,"border-right-width":q,"border-top":q,"border-top-left-radius":q,"border-top-right-radius":q,"border-top-width":q,"border-width":q,"border-block":q,"border-block-end":q,"border-block-end-width":q,"border-block-start":q,"border-block-start-width":q,"border-block-width":q,"border-inline":q,"border-inline-end":q,"border-inline-end-width":q,"border-inline-start":q,"border-inline-start-width":q,"border-inline-width":q,"border-start-start-radius":q,"border-start-end-radius":q,"border-end-start-radius":q,"border-end-end-radius":q,margin:q,"margin-bottom":q,"margin-left":q,"margin-right":q,"margin-top":q,"margin-block":q,"margin-block-end":q,"margin-block-start":q,"margin-inline":q,"margin-inline-end":q,"margin-inline-start":q,padding:q,"padding-bottom":q,"padding-left":q,"padding-right":q,"padding-top":q,"padding-block":q,"padding-block-end":q,"padding-block-start":q,"padding-inline":q,"padding-inline-end":q,"padding-inline-start":q,"mask-position-x":q,"mask-position-y":q,"mask-size":q,height:q,width:q,"min-height":q,"max-height":q,"min-width":q,"max-width":q,bottom:q,left:q,top:q,right:q,inset:q,"inset-block":q,"inset-block-end":q,"inset-block-start":q,"inset-inline":q,"inset-inline-end":q,"inset-inline-start":q,"box-shadow":q,"text-shadow":q,"column-gap":q,"column-rule":q,"column-rule-width":q,"column-width":q,"font-size":q,"font-size-delta":q,"letter-spacing":q,"text-decoration-thickness":q,"text-indent":q,"text-stroke":q,"text-stroke-width":q,"word-spacing":q,motion:q,"motion-offset":q,outline:q,"outline-offset":q,"outline-width":q,perspective:q,"perspective-origin-x":bi,"perspective-origin-y":bi,"transform-origin":bi,"transform-origin-x":bi,"transform-origin-y":bi,"transform-origin-z":bi,"transition-delay":Is,"transition-duration":Is,"vertical-align":q,"flex-basis":q,"shape-margin":q,size:q,gap:q,grid:q,"grid-gap":q,"row-gap":q,"grid-row-gap":q,"grid-column-gap":q,"grid-template-rows":q,"grid-template-columns":q,"grid-auto-rows":q,"grid-auto-columns":q,"box-shadow-x":q,"box-shadow-y":q,"box-shadow-blur":q,"box-shadow-spread":q,"font-line-height":q,"text-shadow-x":q,"text-shadow-y":q,"text-shadow-blur":q};function Qt(A){var b=/(-[a-z])/g,w=function(I){return I[1].toUpperCase()},y={};for(var S in A)y[S]=A[S],y[S.replace(b,w)]=A[S];return y}var Pc=Qt(Kt);function hr(A,b,w){if(b==null)return b;if(Array.isArray(b))for(var y=0;y<b.length;y++)b[y]=hr(A,b[y],w);else if(typeof b=="object")if(A==="fallbacks")for(var S in b)b[S]=hr(S,b[S],w);else for(var _ in b)b[_]=hr(A+"-"+_,b[_],w);else if(typeof b=="number"&&isNaN(b)===!1){var I=w[A]||Pc[A];return I&&!(b===0&&I===q)?typeof I=="function"?I(b).toString():""+b+I:b.toString()}return b}function Oc(A){A===void 0&&(A={});var b=Qt(A);function w(S,_){if(_.type!=="style")return S;for(var I in S)S[I]=hr(I,S[I],b);return S}function y(S,_){return hr(_,S,b)}return{onProcessStyle:w,onChangeValue:y}}var _c=Oc,Ec={"background-size":!0,"background-position":!0,border:!0,"border-bottom":!0,"border-left":!0,"border-top":!0,"border-right":!0,"border-radius":!0,"border-image":!0,"border-width":!0,"border-style":!0,"border-color":!0,"box-shadow":!0,flex:!0,margin:!0,padding:!0,outline:!0,"transform-origin":!0,transform:!0,transition:!0},Mc={position:!0,size:!0},Ui={padding:{top:0,right:0,bottom:0,left:0},margin:{top:0,right:0,bottom:0,left:0},background:{attachment:null,color:null,image:null,position:null,repeat:null},border:{width:null,style:null,color:null},"border-top":{width:null,style:null,color:null},"border-right":{width:null,style:null,color:null},"border-bottom":{width:null,style:null,color:null},"border-left":{width:null,style:null,color:null},outline:{width:null,style:null,color:null},"list-style":{type:null,position:null,image:null},transition:{property:null,duration:null,"timing-function":null,timingFunction:null,delay:null},animation:{name:null,duration:null,"timing-function":null,timingFunction:null,delay:null,"iteration-count":null,iterationCount:null,direction:null,"fill-mode":null,fillMode:null,"play-state":null,playState:null},"box-shadow":{x:0,y:0,blur:0,spread:0,color:null,inset:null},"text-shadow":{x:0,y:0,blur:null,color:null}},xi={border:{radius:"border-radius",image:"border-image",width:"border-width",style:"border-style",color:"border-color"},"border-bottom":{width:"border-bottom-width",style:"border-bottom-style",color:"border-bottom-color"},"border-top":{width:"border-top-width",style:"border-top-style",color:"border-top-color"},"border-left":{width:"border-left-width",style:"border-left-style",color:"border-left-color"},"border-right":{width:"border-right-width",style:"border-right-style",color:"border-right-color"},background:{size:"background-size",image:"background-image"},font:{style:"font-style",variant:"font-variant",weight:"font-weight",stretch:"font-stretch",size:"font-size",family:"font-family",lineHeight:"line-height","line-height":"line-height"},flex:{grow:"flex-grow",basis:"flex-basis",direction:"flex-direction",wrap:"flex-wrap",flow:"flex-flow",shrink:"flex-shrink"},align:{self:"align-self",items:"align-items",content:"align-content"},grid:{"template-columns":"grid-template-columns",templateColumns:"grid-template-columns","template-rows":"grid-template-rows",templateRows:"grid-template-rows","template-areas":"grid-template-areas",templateAreas:"grid-template-areas",template:"grid-template","auto-columns":"grid-auto-columns",autoColumns:"grid-auto-columns","auto-rows":"grid-auto-rows",autoRows:"grid-auto-rows","auto-flow":"grid-auto-flow",autoFlow:"grid-auto-flow",row:"grid-row",column:"grid-column","row-start":"grid-row-start",rowStart:"grid-row-start","row-end":"grid-row-end",rowEnd:"grid-row-end","column-start":"grid-column-start",columnStart:"grid-column-start","column-end":"grid-column-end",columnEnd:"grid-column-end",area:"grid-area",gap:"grid-gap","row-gap":"grid-row-gap",rowGap:"grid-row-gap","column-gap":"grid-column-gap",columnGap:"grid-column-gap"}};function qe(A,b,w){return A.map(function(y){return wi(y,b,w,!1,!0)})}function _o(A,b,w,y){return w[b]==null?A:A.length===0?[]:Array.isArray(A[0])?_o(A[0],b,w,y):typeof A[0]=="object"?qe(A,b,y):[A]}function wi(A,b,w,y,S){if(!(Ui[b]||xi[b]))return[];var _=[];if(xi[b]&&(A=La(A,w,xi[b],y)),Object.keys(A).length)for(var I in Ui[b]){if(A[I]){Array.isArray(A[I])?_.push(Mc[I]===null?A[I]:A[I].join(" ")):_.push(A[I]);continue}Ui[b][I]!=null&&_.push(Ui[b][I])}return!_.length||S?_:[_]}function La(A,b,w,y){for(var S in w){var _=w[S];if(typeof A[S]!="undefined"&&(y||!b.prop(_))){var I,F=Vr((I={},I[_]=A[S],I),b)[_];y?b.style.fallbacks[_]=F:b.style[_]=F}delete A[S]}return A}function Vr(A,b,w){for(var y in A){var S=A[y];if(Array.isArray(S)){if(!Array.isArray(S[0])){if(y==="fallbacks"){for(var _=0;_<A.fallbacks.length;_++)A.fallbacks[_]=Vr(A.fallbacks[_],b,!0);continue}A[y]=_o(S,y,Ec,b),A[y].length||delete A[y]}}else if(typeof S=="object"){if(y==="fallbacks"){A.fallbacks=Vr(A.fallbacks,b,!0);continue}A[y]=wi(S,y,b,w),A[y].length||delete A[y]}else A[y]===""&&delete A[y]}return A}function In(){function A(b,w){if(!b||w.type!=="style")return b;if(Array.isArray(b)){for(var y=0;y<b.length;y++)b[y]=Vr(b[y],w);return b}return Vr(b,w)}return{onProcessStyle:A}}var Na=In,Da=dt(74902),Hn="",Hr="",Eo="",qi="",_n=wt&&"ontouchstart"in document.documentElement;if(wt){var Mo={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Ln=document.createElement("p"),To=Ln.style,Ba="Transform";for(var tr in Mo)if(tr+Ba in To){Hn=tr,Hr=Mo[tr];break}Hn==="Webkit"&&"msHyphens"in To&&(Hn="ms",Hr=Mo.ms,qi="edge"),Hn==="Webkit"&&"-apple-trailing-word"in To&&(Eo="apple")}var Pt={js:Hn,css:Hr,vendor:Eo,browser:qi,isTouch:_n};function Ro(A){return A[1]==="-"||Pt.js==="ms"?A:"@"+Pt.css+"keyframes"+A.substr(10)}var ye={noPrefill:["appearance"],supportedProperty:function(b){return b!=="appearance"?!1:Pt.js==="ms"?"-webkit-"+b:Pt.css+b}},Nn={noPrefill:["color-adjust"],supportedProperty:function(b){return b!=="color-adjust"?!1:Pt.js==="Webkit"?Pt.css+"print-"+b:b}},Io=/[-\s]+(.)?/g;function ka(A,b){return b?b.toUpperCase():""}function Si(A){return A.replace(Io,ka)}function fr(A){return Si("-"+A)}var Tc={noPrefill:["mask"],supportedProperty:function(b,w){if(!/^mask/.test(b))return!1;if(Pt.js==="Webkit"){var y="mask-image";if(Si(y)in w)return b;if(Pt.js+fr(y)in w)return Pt.css+b}return b}},Rc={noPrefill:["text-orientation"],supportedProperty:function(b){return b!=="text-orientation"?!1:Pt.vendor==="apple"&&!Pt.isTouch?Pt.css+b:b}},Wr={noPrefill:["transform"],supportedProperty:function(b,w,y){return b!=="transform"?!1:y.transform?b:Pt.css+b}},Ls={noPrefill:["transition"],supportedProperty:function(b,w,y){return b!=="transition"?!1:y.transition?b:Pt.css+b}},dr={noPrefill:["writing-mode"],supportedProperty:function(b){return b!=="writing-mode"?!1:Pt.js==="Webkit"||Pt.js==="ms"&&Pt.browser!=="edge"?Pt.css+b:b}},Ic={noPrefill:["user-select"],supportedProperty:function(b){return b!=="user-select"?!1:Pt.js==="Moz"||Pt.js==="ms"||Pt.vendor==="apple"?Pt.css+b:b}},ja={supportedProperty:function(b,w){if(!/^break-/.test(b))return!1;if(Pt.js==="Webkit"){var y="WebkitColumn"+fr(b);return y in w?Pt.css+"column-"+b:!1}if(Pt.js==="Moz"){var S="page"+fr(b);return S in w?"page-"+b:!1}return!1}},Lo={supportedProperty:function(b,w){if(!/^(border|margin|padding)-inline/.test(b))return!1;if(Pt.js==="Moz")return b;var y=b.replace("-inline","");return Pt.js+fr(y)in w?Pt.css+y:!1}},Ns={supportedProperty:function(b,w){return Si(b)in w?b:!1}},No={supportedProperty:function(b,w){var y=fr(b);return b[0]==="-"||b[0]==="-"&&b[1]==="-"?b:Pt.js+y in w?Pt.css+b:Pt.js!=="Webkit"&&"Webkit"+y in w?"-webkit-"+b:!1}},Fa={supportedProperty:function(b){return b.substring(0,11)!=="scroll-snap"?!1:Pt.js==="ms"?""+Pt.css+b:b}},Lc={supportedProperty:function(b){return b!=="overscroll-behavior"?!1:Pt.js==="ms"?Pt.css+"scroll-chaining":b}},Sr={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Do={supportedProperty:function(b,w){var y=Sr[b];return y&&Pt.js+fr(y)in w?Pt.css+y:!1}},za={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},$a=Object.keys(za),tn=function(b){return Pt.css+b},Bo={supportedProperty:function(b,w,y){var S=y.multiple;if($a.indexOf(b)>-1){var _=za[b];if(!Array.isArray(_))return Pt.js+fr(_)in w?Pt.css+_:!1;if(!S)return!1;for(var I=0;I<_.length;I++)if(!(Pt.js+fr(_[0])in w))return!1;return _.map(tn)}return!1}},Ai=[ye,Nn,Tc,Rc,Wr,Ls,dr,Ic,ja,Lo,Ns,No,Fa,Lc,Do,Bo],Ji=Ai.filter(function(A){return A.supportedProperty}).map(function(A){return A.supportedProperty}),Va=Ai.filter(function(A){return A.noPrefill}).reduce(function(A,b){return A.push.apply(A,(0,Da.Z)(b.noPrefill)),A},[]),Xi,Wn={};if(wt){Xi=document.createElement("p");var ko=window.getComputedStyle(document.documentElement,"");for(var Ds in ko)isNaN(Ds)||(Wn[ko[Ds]]=ko[Ds]);Va.forEach(function(A){return delete Wn[A]})}function jo(A,b){if(b===void 0&&(b={}),!Xi)return A;if(Wn[A]!=null)return Wn[A];(A==="transition"||A==="transform")&&(b[A]=A in Xi.style);for(var w=0;w<Ji.length&&(Wn[A]=Ji[w](A,Xi.style,b),!Wn[A]);w++);try{Xi.style[A]=""}catch(y){return!1}return Wn[A]}var pn={},Nc={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Bs=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,er;function Yi(A,b,w){if(b==="var")return"var";if(b==="all")return"all";if(w==="all")return", all";var y=b?jo(b):", "+jo(w);return y||b||w}wt&&(er=document.createElement("p"));function gr(A,b){var w=b;if(!er||A==="content")return b;if(typeof w!="string"||!isNaN(parseInt(w,10)))return w;var y=A+w;if(pn[y]!=null)return pn[y];try{er.style[A]=w}catch(S){return pn[y]=!1,!1}if(Nc[A])w=w.replace(Bs,Yi);else if(er.style[A]===""&&(w=Pt.css+w,w==="-ms-flex"&&(er.style[A]="-ms-flexbox"),er.style[A]=w,er.style[A]===""))return pn[y]=!1,!1;return er.style[A]="",pn[y]=w,pn[y]}function Gr(){function A(S){if(S.type==="keyframes"){var _=S;_.at=Ro(_.at)}}function b(S){for(var _ in S){var I=S[_];if(_==="fallbacks"&&Array.isArray(I)){S[_]=I.map(b);continue}var F=!1,Z=jo(_);Z&&Z!==_&&(F=!0);var et=!1,ct=gr(Z,ce(I));ct&&ct!==I&&(et=!0),(F||et)&&(F&&delete S[_],S[Z||_]=ct||I)}return S}function w(S,_){return _.type!=="style"?S:b(S)}function y(S,_){return gr(_,ce(S))||S}return{onProcessRule:A,onProcessStyle:w,onChangeValue:y}}var Dc=Gr;function Bc(){var A=function(w,y){return w.length===y.length?w>y?1:-1:w.length-y.length};return{onProcessStyle:function(w,y){if(y.type!=="style")return w;for(var S={},_=Object.keys(w).sort(A),I=0;I<_.length;I++)S[_[I]]=w[_[I]];return S}}}var kc=Bc,Ar=function(b){return b===void 0&&(b={}),{plugins:[hc(),Aa(b.observable),Ca(),Ea(),Ta(),Ra(),yi(),Cc(),_c(b.defaultUnit),Na(),Dc(),kc()]}},Dn=Ar;function Ha(A){var b={};return function(w){return b[w]===void 0&&(b[w]=A(w)),b[w]}}var jc=Ha,Fc=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Ah=jc(function(A){return Fc.test(A)||A.charCodeAt(0)===111&&A.charCodeAt(1)===110&&A.charCodeAt(2)<91}),Ch=null,zc=1e4,Zi=Vi(Dn()),$=function(b){b===void 0&&(b=Zi);var w=new Map,y=0,S,_=function(){return(!S||S.rules.index.length>zc)&&(S=b.createStyleSheet().attach()),S};function I(){var F=arguments,Z=JSON.stringify(F),et=w.get(Z);if(et)return et.className;var ct=[];for(var mt in F){var $t=F[mt];if(!Array.isArray($t)){ct.push($t);continue}for(var Et=0;Et<$t.length;Et++)ct.push($t[Et])}for(var jt={},Mt=[],Xt=0;Xt<ct.length;Xt++){var Lt=ct[Xt];if(Lt){var te=Lt;if(typeof Lt=="string"){var he=w.get(Lt);he&&(he.labels.length&&Mt.push.apply(Mt,he.labels),te=he.style)}te.label&&Mt.indexOf(te.label)===-1&&Mt.push(te.label),Object.assign(jt,te)}}delete jt.label;var yr=Mt.length===0?"css":Mt.join("-"),on=yr+"-"+y++;_().addRule(on,jt);var es=_().classes[on],Pr={style:jt,labels:Mt,className:es};return w.set(Z,Pr),w.set(es,Pr),es}return I.getSheet=_,I},U=$(),W=U,ut=function(b){return b.displayName||b.name||"Component"},Ot=function(b){var w,y;return function(){for(var S=arguments.length,_=new Array(S),I=0;I<S;I++)_[I]=arguments[I];if(Array.isArray(w)&&_.length===w.length){for(var F=!0,Z=0;Z<_.length;Z++)_[Z]!==w[Z]&&(F=!1);if(F)return y}return w=_,y=b.apply(void 0,_),y}},Yt=function(b,w){var y=_extends({},b);for(var S in w)y[S]=S in y?y[S]+" "+w[S]:w[S];return y},je=Number.MIN_SAFE_INTEGER||-1e9,re=function(){return je++},Cr=(0,ee.createContext)({classNamePrefix:"",disableStylesGeneration:!1,isSSR:!wt}),Wa=new Map,mn=function(b,w){var y=b.managers;if(y)return y[w]||(y[w]=new bo),y[w];var S=Wa.get(w);return S||(S=new bo,Wa.set(w,S)),S},Ki=function(b){var w=b.sheet,y=b.context,S=b.index,_=b.theme;if(w){var I=mn(y,S);I.manage(_),y.registry&&y.registry.add(w)}},Ga=function(b){if(b.sheet){var w=mn(b.context,b.index);w.unmanage(b.theme)}},Ur=Vi(Dn()),Qi=new WeakMap,Ci=function(b){return Qi.get(b)},ie=function(b,w){Qi.set(b,w)},$c=function(b){var w=b.styles;return typeof w!="function"?w:w(b.theme)};function Ua(A,b){var w;A.context.id&&A.context.id.minify!=null&&(w=A.context.id.minify);var y=A.context.classNamePrefix||"";A.name&&!w&&(y+=A.name.replace(/\s/g,"-")+"-");var S="";return A.name&&(S=A.name+", "),S+=typeof A.styles=="function"?"Themed":"Unthemed",(0,ht.Z)({},A.sheetOptions,{index:A.index,meta:S,classNamePrefix:y,link:b,generateId:A.sheetOptions&&A.sheetOptions.generateId?A.sheetOptions.generateId:A.context.generateId})}var pr=function(b){if(!b.context.disableStylesGeneration){var w=mn(b.context,b.index),y=w.get(b.theme);if(y)return y;var S=b.context.jss||Ur,_=$c(b),I=xa(_),F=S.createStyleSheet(_,Ua(b,I!==null));return ie(F,{dynamicStyles:I,styles:_}),w.add(b.theme,F),F}},Vc=function(b,w){for(var y in w)b.deleteRule(w[y])},Hc=function(b,w,y){for(var S in y)w.updateOne(y[S],b)},Wc=function(b,w){var y=Ci(b);if(y){var S={};for(var _ in y.dynamicStyles)for(var I=b.rules.index.length,F=b.addRule(_,y.dynamicStyles[_]),Z=I;Z<b.rules.index.length;Z++){var et=b.rules.index[Z];b.updateOne(et,w),S[F===et?_:et.key]=et}return S}},ks=function(b,w){if(!w)return b.classes;var y=Ci(b);if(!y)return b.classes;var S={};for(var _ in y.styles)S[_]=b.classes[_],_ in w&&(S[_]+=" "+b.classes[w[_].key]);return S};function mr(A){return A?ee.useEffect:ee.useInsertionEffect||ee.useLayoutEffect}var Pi={},js=function(b,w){w===void 0&&(w={});var y=w,S=y.index,_=S===void 0?re():S,I=y.theming,F=y.name,Z=(0,N.Z)(y,["index","theming","name"]),et=I&&I.context||Zt,ct=function(Et){return typeof b=="function"&&(Et||(0,ee.useContext)(et))||Pi},mt={};return function(Et){var jt=(0,ee.useRef)(!0),Mt=(0,ee.useContext)(Cr),Xt=ct(Et&&Et.theme),Lt=(0,ee.useMemo)(function(){var on=pr({context:Mt,styles:b,name:F,theme:Xt,index:_,sheetOptions:Z});return on&&Mt.isSSR&&Ki({index:_,context:Mt,sheet:on,theme:Xt}),[on,on?Wc(on,Et):null]},[Mt,Xt]),te=Lt[0],he=Lt[1];mr(Mt.isSSR)(function(){te&&he&&!jt.current&&Hc(Et,te,he)},[Et]),mr(Mt.isSSR)(function(){return te&&Ki({index:_,context:Mt,sheet:te,theme:Xt}),function(){te&&(Ga({index:_,context:Mt,sheet:te,theme:Xt}),he&&Vc(te,he))}},[te]);var yr=(0,ee.useMemo)(function(){return te&&he?ks(te,he):mt},[te,he]);return(0,ee.useDebugValue)(yr),(0,ee.useDebugValue)(Xt===Pi?"No theme":Xt),(0,ee.useEffect)(function(){jt.current=!1}),yr}},Fs=function(b){return b.children||null},qa=function(b,w){w===void 0&&(w={});var y=w,S=y.index,_=S===void 0?re():S,I=y.theming,F=y.injectTheme,Z=_objectWithoutPropertiesLoose(y,["index","theming","injectTheme"]),et=I?I.context:ThemeContext;return function(ct){ct===void 0&&(ct=Fs);var mt=ut(ct),$t=Ot(function(Xt,Lt){return Lt?Yt(Xt,Lt):Xt}),Et=Object.assign(Z,{theming:I,index:_,name:mt}),jt=js(b,Et),Mt=forwardRef(function(Xt,Lt){var te=useContext(et),he=_extends({},Xt);F&&he.theme==null&&(he.theme=te);var yr=jt(he),on=$t(yr,Xt.classes);return createElement(ct,_extends({},he,{classes:on,ref:Lt}))});return Mt.displayName="WithStyles("+mt+")",Mt.defaultProps=_extends({},ct.defaultProps),Mt.InnerComponent=ct,hoistNonReactStatics(Mt,ct)}},Ja={};function Fo(A){var b=useRef({}),w=useRef(),y=useRef(null),S=function(F,Z){Z===void 0&&(Z=Ja);var et=A.registry,ct=A.classNamePrefix,mt=A.jss,$t=A.generateId,Et=A.disableStylesGeneration,jt=A.media,Mt=A.id,Xt=A.isSSR,Lt=_extends({},F);return et&&(Lt.registry=et,et!==y.current&&(b.current={},y.current=et)),Lt.managers=b.current,Mt!==void 0&&(Lt.id=Mt),$t!==void 0?Lt.generateId=$t:(!Lt.generateId||!Z||Lt.id!==Z.id)&&(Lt.generateId=createGenerateId(Lt.id)),ct&&(Lt.classNamePrefix=(Lt.classNamePrefix||"")+ct),jt!==void 0&&(Lt.media=jt),mt&&(Lt.jss=mt),Et!==void 0&&(Lt.disableStylesGeneration=Et),Xt!==void 0&&(Lt.isSSR=Xt),Z&&shallowEqualObjects(Z,Lt)?Z:Lt},_=function(F){var Z=A.children,et=S(F,w.current);return w.current=et,createElement(Cr.Provider,{value:et},Z)};return createElement(Cr.Consumer,null,_)}var Xa=function(b){var w=[],y,S=[];for(var _ in b){var I=b[_];if(I)if(typeof I=="function")w.push(I);else{y||(y={}),Object.assign(y,I);var F=y,Z=F.label;Z&&S.indexOf(Z)===-1&&S.push(Z)}}var et={},ct=S.length===0?"sc":S.join("-");return y&&("label"in y&&delete y.label,et[ct]=y),w.length===1&&(et.scd=w[0]),w.length>1&&(et.scd=function(mt){for(var $t={},Et=0;Et<w.length;Et++){var jt=w[Et](mt);jt&&Object.assign($t,jt)}return $t}),{styles:et,label:ct}},ts=Symbol("react-jss-styled"),qr=function(b,w){var y=w.shouldForwardProp,S=b[ts],_=y||S;return y&&S&&(_=function(F){return S(F)&&y(F)}),_},zs=function(b,w,y){var S={};for(var _ in b){if(w){w(_)===!0&&(S[_]=b[_]);continue}if(y){isPropValid(_)&&(S[_]=b[_]);continue}S[_]=b[_]}return S},Ph=function(b,w){w===void 0&&(w={});var y=w,S=y.theming,_=typeof b=="string",I=S?S.context:ThemeContext,F=qr(b,w),Z=w,et=Z.shouldForwardProp,ct=_objectWithoutPropertiesLoose(Z,["shouldForwardProp"]);return function(){var $t=Xa(arguments),Et=$t.styles,jt=$t.label,Mt=js(Et,ct),Xt=function(te){var he=te.as,yr=te.className,on=useContext(I),es=Object.assign({theme:on},te),Pr=Mt(es),$o=zs(te,F,_),Oi=((Pr[jt]||Pr.sc||"")+" "+(Pr.scd||"")).trim();return $o.className=yr?yr+" "+Oi:Oi,!_&&F&&(b[ts]=F),_&&he?createElement(he,$o):createElement(b,$o)};return Xt}},Gc=function(b){return b===void 0&&(b=W),function(y,S){var _=arguments;if(S&&S.css){var I=b(S.css),F=Object.assign({},S);F.className=S.className?S.className+" "+I:I,delete F.css,_[1]=F}return ee.createElement.apply(void 0,_)}},Oh=Gc(),zo=null},98123:function(Sn,An,dt){"use strict";dt.d(An,{Z:function(){return Kn}});function ht(Dr){var Ce,nn=Dr.Symbol;return typeof nn=="function"?nn.observable?Ce=nn.observable:(Ce=nn("observable"),nn.observable=Ce):Ce="@@observable",Ce}Sn=dt.hmd(Sn);var N;typeof self!="undefined"?N=self:typeof window!="undefined"?N=window:typeof dt.g!="undefined"?N=dt.g:N=Sn;var ee=ht(N),Kn=ee}}]);
